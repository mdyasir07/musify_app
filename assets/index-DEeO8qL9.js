(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function rT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Im={exports:{}},au={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function l1(){if(z_)return au;z_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(a,o,l){var h=null;if(l!==void 0&&(h=""+l),o.key!==void 0&&(h=""+o.key),"key"in o){l={};for(var d in o)d!=="key"&&(l[d]=o[d])}else l=o;return o=l.ref,{$$typeof:r,type:a,key:h,ref:o!==void 0?o:null,props:l}}return au.Fragment=e,au.jsx=t,au.jsxs=t,au}var B_;function u1(){return B_||(B_=1,Im.exports=l1()),Im.exports}var T=u1(),Dm={exports:{}},su={},Nm={exports:{}},xm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function c1(){return H_||(H_=1,function(r){function e(le,we){var ye=le.length;le.push(we);e:for(;0<ye;){var De=ye-1>>>1,O=le[De];if(0<o(O,we))le[De]=we,le[ye]=O,ye=De;else break e}}function t(le){return le.length===0?null:le[0]}function a(le){if(le.length===0)return null;var we=le[0],ye=le.pop();if(ye!==we){le[0]=ye;e:for(var De=0,O=le.length,ie=O>>>1;De<ie;){var ge=2*(De+1)-1,he=le[ge],me=ge+1,Ve=le[me];if(0>o(he,ye))me<O&&0>o(Ve,he)?(le[De]=Ve,le[me]=ye,De=me):(le[De]=he,le[ge]=ye,De=ge);else if(me<O&&0>o(Ve,ye))le[De]=Ve,le[me]=ye,De=me;else break e}}return we}function o(le,we){var ye=le.sortIndex-we.sortIndex;return ye!==0?ye:le.id-we.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var m=[],g=[],E=1,b=null,R=3,D=!1,L=!1,Y=!1,H=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function ae(le){for(var we=t(g);we!==null;){if(we.callback===null)a(g);else if(we.startTime<=le)a(g),we.sortIndex=we.expirationTime,e(m,we);else break;we=t(g)}}function de(le){if(Y=!1,ae(le),!L)if(t(m)!==null)L=!0,Fe();else{var we=t(g);we!==null&&Ue(de,we.startTime-le)}}var U=!1,ce=-1,P=5,C=-1;function A(){return!(r.unstable_now()-C<P)}function I(){if(U){var le=r.unstable_now();C=le;var we=!0;try{e:{L=!1,Y&&(Y=!1,W(ce),ce=-1),D=!0;var ye=R;try{t:{for(ae(le),b=t(m);b!==null&&!(b.expirationTime>le&&A());){var De=b.callback;if(typeof De=="function"){b.callback=null,R=b.priorityLevel;var O=De(b.expirationTime<=le);if(le=r.unstable_now(),typeof O=="function"){b.callback=O,ae(le),we=!0;break t}b===t(m)&&a(m),ae(le)}else a(m);b=t(m)}if(b!==null)we=!0;else{var ie=t(g);ie!==null&&Ue(de,ie.startTime-le),we=!1}}break e}finally{b=null,R=ye,D=!1}we=void 0}}finally{we?M():U=!1}}}var M;if(typeof J=="function")M=function(){J(I)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,x=B.port2;B.port1.onmessage=I,M=function(){x.postMessage(null)}}else M=function(){H(I,0)};function Fe(){U||(U=!0,M())}function Ue(le,we){ce=H(function(){le(r.unstable_now())},we)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(le){le.callback=null},r.unstable_continueExecution=function(){L||D||(L=!0,Fe())},r.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<le?Math.floor(1e3/le):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return t(m)},r.unstable_next=function(le){switch(R){case 1:case 2:case 3:var we=3;break;default:we=R}var ye=R;R=we;try{return le()}finally{R=ye}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(le,we){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var ye=R;R=le;try{return we()}finally{R=ye}},r.unstable_scheduleCallback=function(le,we,ye){var De=r.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?De+ye:De):ye=De,le){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ye+O,le={id:E++,callback:we,priorityLevel:le,startTime:ye,expirationTime:O,sortIndex:-1},ye>De?(le.sortIndex=ye,e(g,le),t(m)===null&&le===t(g)&&(Y?(W(ce),ce=-1):Y=!0,Ue(de,ye-De))):(le.sortIndex=O,e(m,le),L||D||(L=!0,Fe())),le},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(le){var we=R;return function(){var ye=R;R=we;try{return le.apply(this,arguments)}finally{R=ye}}}}(xm)),xm}var F_;function h1(){return F_||(F_=1,Nm.exports=c1()),Nm.exports}var Om={exports:{}},He={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function f1(){if(q_)return He;q_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function H(O,ie,ge){this.props=O,this.context=ie,this.refs=Y,this.updater=ge||D}H.prototype.isReactComponent={},H.prototype.setState=function(O,ie){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ie,"setState")},H.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function W(){}W.prototype=H.prototype;function J(O,ie,ge){this.props=O,this.context=ie,this.refs=Y,this.updater=ge||D}var ae=J.prototype=new W;ae.constructor=J,L(ae,H.prototype),ae.isPureReactComponent=!0;var de=Array.isArray,U={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function P(O,ie,ge,he,me,Ve){return ge=Ve.ref,{$$typeof:r,type:O,key:ie,ref:ge!==void 0?ge:null,props:Ve}}function C(O,ie){return P(O.type,ie,void 0,void 0,void 0,O.props)}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function I(O){var ie={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ge){return ie[ge]})}var M=/\/+/g;function B(O,ie){return typeof O=="object"&&O!==null&&O.key!=null?I(""+O.key):ie.toString(36)}function x(){}function Fe(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(ie){O.status==="pending"&&(O.status="fulfilled",O.value=ie)},function(ie){O.status==="pending"&&(O.status="rejected",O.reason=ie)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ue(O,ie,ge,he,me){var Ve=typeof O;(Ve==="undefined"||Ve==="boolean")&&(O=null);var Be=!1;if(O===null)Be=!0;else switch(Ve){case"bigint":case"string":case"number":Be=!0;break;case"object":switch(O.$$typeof){case r:case e:Be=!0;break;case E:return Be=O._init,Ue(Be(O._payload),ie,ge,he,me)}}if(Be)return me=me(O),Be=he===""?"."+B(O,0):he,de(me)?(ge="",Be!=null&&(ge=Be.replace(M,"$&/")+"/"),Ue(me,ie,ge,"",function(Ke){return Ke})):me!=null&&(A(me)&&(me=C(me,ge+(me.key==null||O&&O.key===me.key?"":(""+me.key).replace(M,"$&/")+"/")+Be)),ie.push(me)),1;Be=0;var Dt=he===""?".":he+":";if(de(O))for(var tt=0;tt<O.length;tt++)he=O[tt],Ve=Dt+B(he,tt),Be+=Ue(he,ie,ge,Ve,me);else if(tt=R(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(he=O.next()).done;)he=he.value,Ve=Dt+B(he,tt++),Be+=Ue(he,ie,ge,Ve,me);else if(Ve==="object"){if(typeof O.then=="function")return Ue(Fe(O),ie,ge,he,me);throw ie=String(O),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return Be}function le(O,ie,ge){if(O==null)return O;var he=[],me=0;return Ue(O,he,"","",function(Ve){return ie.call(ge,Ve,me++)}),he}function we(O){if(O._status===-1){var ie=O._result;ie=ie(),ie.then(function(ge){(O._status===0||O._status===-1)&&(O._status=1,O._result=ge)},function(ge){(O._status===0||O._status===-1)&&(O._status=2,O._result=ge)}),O._status===-1&&(O._status=0,O._result=ie)}if(O._status===1)return O._result.default;throw O._result}var ye=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function De(){}return He.Children={map:le,forEach:function(O,ie,ge){le(O,function(){ie.apply(this,arguments)},ge)},count:function(O){var ie=0;return le(O,function(){ie++}),ie},toArray:function(O){return le(O,function(ie){return ie})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},He.Component=H,He.Fragment=t,He.Profiler=o,He.PureComponent=J,He.StrictMode=a,He.Suspense=m,He.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=U,He.act=function(){throw Error("act(...) is not supported in production builds of React.")},He.cache=function(O){return function(){return O.apply(null,arguments)}},He.cloneElement=function(O,ie,ge){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var he=L({},O.props),me=O.key,Ve=void 0;if(ie!=null)for(Be in ie.ref!==void 0&&(Ve=void 0),ie.key!==void 0&&(me=""+ie.key),ie)!ce.call(ie,Be)||Be==="key"||Be==="__self"||Be==="__source"||Be==="ref"&&ie.ref===void 0||(he[Be]=ie[Be]);var Be=arguments.length-2;if(Be===1)he.children=ge;else if(1<Be){for(var Dt=Array(Be),tt=0;tt<Be;tt++)Dt[tt]=arguments[tt+2];he.children=Dt}return P(O.type,me,void 0,void 0,Ve,he)},He.createContext=function(O){return O={$$typeof:h,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:l,_context:O},O},He.createElement=function(O,ie,ge){var he,me={},Ve=null;if(ie!=null)for(he in ie.key!==void 0&&(Ve=""+ie.key),ie)ce.call(ie,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(me[he]=ie[he]);var Be=arguments.length-2;if(Be===1)me.children=ge;else if(1<Be){for(var Dt=Array(Be),tt=0;tt<Be;tt++)Dt[tt]=arguments[tt+2];me.children=Dt}if(O&&O.defaultProps)for(he in Be=O.defaultProps,Be)me[he]===void 0&&(me[he]=Be[he]);return P(O,Ve,void 0,void 0,null,me)},He.createRef=function(){return{current:null}},He.forwardRef=function(O){return{$$typeof:d,render:O}},He.isValidElement=A,He.lazy=function(O){return{$$typeof:E,_payload:{_status:-1,_result:O},_init:we}},He.memo=function(O,ie){return{$$typeof:g,type:O,compare:ie===void 0?null:ie}},He.startTransition=function(O){var ie=U.T,ge={};U.T=ge;try{var he=O(),me=U.S;me!==null&&me(ge,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(De,ye)}catch(Ve){ye(Ve)}finally{U.T=ie}},He.unstable_useCacheRefresh=function(){return U.H.useCacheRefresh()},He.use=function(O){return U.H.use(O)},He.useActionState=function(O,ie,ge){return U.H.useActionState(O,ie,ge)},He.useCallback=function(O,ie){return U.H.useCallback(O,ie)},He.useContext=function(O){return U.H.useContext(O)},He.useDebugValue=function(){},He.useDeferredValue=function(O,ie){return U.H.useDeferredValue(O,ie)},He.useEffect=function(O,ie){return U.H.useEffect(O,ie)},He.useId=function(){return U.H.useId()},He.useImperativeHandle=function(O,ie,ge){return U.H.useImperativeHandle(O,ie,ge)},He.useInsertionEffect=function(O,ie){return U.H.useInsertionEffect(O,ie)},He.useLayoutEffect=function(O,ie){return U.H.useLayoutEffect(O,ie)},He.useMemo=function(O,ie){return U.H.useMemo(O,ie)},He.useOptimistic=function(O,ie){return U.H.useOptimistic(O,ie)},He.useReducer=function(O,ie,ge){return U.H.useReducer(O,ie,ge)},He.useRef=function(O){return U.H.useRef(O)},He.useState=function(O){return U.H.useState(O)},He.useSyncExternalStore=function(O,ie,ge){return U.H.useSyncExternalStore(O,ie,ge)},He.useTransition=function(){return U.H.useTransition()},He.version="19.0.0",He}var G_;function Op(){return G_||(G_=1,Om.exports=f1()),Om.exports}var Mm={exports:{}},bn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function d1(){if($_)return bn;$_=1;var r=Op();function e(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var a={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function l(m,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:g,implementation:E}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,bn.createPortal=function(m,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return l(m,g,null,E)},bn.flushSync=function(m){var g=h.T,E=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=g,a.p=E,a.d.f()}},bn.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(m,g))},bn.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},bn.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?a.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:D}):E==="script"&&a.d.X(m,{crossOrigin:b,integrity:R,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},bn.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);a.d.M(m,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(m)},bn.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=d(E,g.crossOrigin);a.d.L(m,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},bn.preloadModule=function(m,g){if(typeof m=="string")if(g){var E=d(g.as,g.crossOrigin);a.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(m)},bn.requestFormReset=function(m){a.d.r(m)},bn.unstable_batchedUpdates=function(m,g){return m(g)},bn.useFormState=function(m,g,E){return h.H.useFormState(m,g,E)},bn.useFormStatus=function(){return h.H.useHostTransitionStatus()},bn.version="19.0.0",bn}var K_;function iT(){if(K_)return Mm.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Mm.exports=d1(),Mm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function m1(){if(Q_)return su;Q_=1;var r=h1(),e=Op(),t=iT();function a(n){var i="https://react.dev/errors/"+n;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+n+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}var l=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ae=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function ce(n){return n===null||typeof n!="object"?null:(n=U&&n[U]||n["@@iterator"],typeof n=="function"?n:null)}var P=Symbol.for("react.client.reference");function C(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===P?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case m:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case Y:return"Suspense";case H:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case D:return(n.displayName||"Context")+".Provider";case R:return(n._context.displayName||"Context")+".Consumer";case L:var i=n.render;return n=n.displayName,n||(n=i.displayName||i.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case W:return i=n.displayName||null,i!==null?i:C(n.type)||"Memo";case J:i=n._payload,n=n._init;try{return C(n(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,M,B;function x(n){if(M===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);M=i&&i[1]||"",B=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+n+B}var Fe=!1;function Ue(n,i){if(!n||Fe)return"";Fe=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(i){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var K=Z}Reflect.construct(n,[],se)}else{try{se.call()}catch(Z){K=Z}n.call(se.prototype)}}else{try{throw Error()}catch(Z){K=Z}(se=n())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&K&&typeof Z.stack=="string")return[Z.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),_=p[0],w=p[1];if(_&&w){var N=_.split(`
`),z=w.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===z.length)for(u=N.length-1,f=z.length-1;1<=u&&0<=f&&N[u]!==z[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==z[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==z[f]){var ee=`
`+N[u].replace(" at new "," at ");return n.displayName&&ee.includes("<anonymous>")&&(ee=ee.replace("<anonymous>",n.displayName)),ee}while(1<=u&&0<=f);break}}}finally{Fe=!1,Error.prepareStackTrace=s}return(s=n?n.displayName||n.name:"")?x(s):""}function le(n){switch(n.tag){case 26:case 27:case 5:return x(n.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return n=Ue(n.type,!1),n;case 11:return n=Ue(n.type.render,!1),n;case 1:return n=Ue(n.type,!0),n;default:return""}}function we(n){try{var i="";do i+=le(n),n=n.return;while(n);return i}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}function ye(n){var i=n,s=n;if(n.alternate)for(;i.return;)i=i.return;else{n=i;do i=n,(i.flags&4098)!==0&&(s=i.return),n=i.return;while(n)}return i.tag===3?s:null}function De(n){if(n.tag===13){var i=n.memoizedState;if(i===null&&(n=n.alternate,n!==null&&(i=n.memoizedState)),i!==null)return i.dehydrated}return null}function O(n){if(ye(n)!==n)throw Error(a(188))}function ie(n){var i=n.alternate;if(!i){if(i=ye(n),i===null)throw Error(a(188));return i!==n?null:n}for(var s=n,u=i;;){var f=s.return;if(f===null)break;var p=f.alternate;if(p===null){if(u=f.return,u!==null){s=u;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===s)return O(f),n;if(p===u)return O(f),i;p=p.sibling}throw Error(a(188))}if(s.return!==u.return)s=f,u=p;else{for(var _=!1,w=f.child;w;){if(w===s){_=!0,s=f,u=p;break}if(w===u){_=!0,u=f,s=p;break}w=w.sibling}if(!_){for(w=p.child;w;){if(w===s){_=!0,s=p,u=f;break}if(w===u){_=!0,u=p,s=f;break}w=w.sibling}if(!_)throw Error(a(189))}}if(s.alternate!==u)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?n:i}function ge(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n;for(n=n.child;n!==null;){if(i=ge(n),i!==null)return i;n=n.sibling}return null}var he=Array.isArray,me=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ve={pending:!1,data:null,method:null,action:null},Be=[],Dt=-1;function tt(n){return{current:n}}function Ke(n){0>Dt||(n.current=Be[Dt],Be[Dt]=null,Dt--)}function Xe(n,i){Dt++,Be[Dt]=n.current,n.current=i}var Jt=tt(null),Tr=tt(null),Ut=tt(null),Vr=tt(null);function Lr(n,i){switch(Xe(Ut,i),Xe(Tr,n),Xe(Jt,null),n=i.nodeType,n){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?p_(i):0;break;default:if(n=n===8?i.parentNode:i,i=n.tagName,n=n.namespaceURI)n=p_(n),i=g_(n,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Ke(Jt),Xe(Jt,i)}function Wn(){Ke(Jt),Ke(Tr),Ke(Ut)}function Za(n){n.memoizedState!==null&&Xe(Vr,n);var i=Jt.current,s=g_(i,n.type);i!==s&&(Xe(Tr,n),Xe(Jt,s))}function Xi(n){Tr.current===n&&(Ke(Jt),Ke(Tr)),Vr.current===n&&(Ke(Vr),eu._currentValue=Ve)}var Wi=Object.prototype.hasOwnProperty,fi=r.unstable_scheduleCallback,Pn=r.unstable_cancelCallback,di=r.unstable_shouldYield,Zi=r.unstable_requestPaint,en=r.unstable_now,zn=r.unstable_getCurrentPriorityLevel,pt=r.unstable_ImmediatePriority,Pt=r.unstable_UserBlockingPriority,Bn=r.unstable_NormalPriority,Ws=r.unstable_LowPriority,Vn=r.unstable_IdlePriority,Zs=r.log,kr=r.unstable_setDisableYieldValue,br=null,tn=null;function Ji(n){if(tn&&typeof tn.onCommitFiberRoot=="function")try{tn.onCommitFiberRoot(br,n,void 0,(n.current.flags&128)===128)}catch{}}function Cn(n){if(typeof Zs=="function"&&kr(n),tn&&typeof tn.setStrictMode=="function")try{tn.setStrictMode(br,n)}catch{}}var nn=Math.clz32?Math.clz32:Ja,mi=Math.log,Js=Math.LN2;function Ja(n){return n>>>=0,n===0?32:31-(mi(n)/Js|0)|0}var Zn=128,wr=4194304;function En(n){var i=n&42;if(i!==0)return i;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function hn(n,i){var s=n.pendingLanes;if(s===0)return 0;var u=0,f=n.suspendedLanes,p=n.pingedLanes,_=n.warmLanes;n=n.finishedLanes!==0;var w=s&134217727;return w!==0?(s=w&~f,s!==0?u=En(s):(p&=w,p!==0?u=En(p):n||(_=w&~_,_!==0&&(u=En(_))))):(w=s&~f,w!==0?u=En(w):p!==0?u=En(p):n||(_=s&~_,_!==0&&(u=En(_)))),u===0?0:i!==0&&i!==u&&(i&f)===0&&(f=u&-u,_=i&-i,f>=_||f===32&&(_&4194176)!==0)?i:u}function Ur(n,i){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&i)===0}function ea(n,i){switch(n){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V(){var n=Zn;return Zn<<=1,(Zn&4194176)===0&&(Zn=128),n}function F(){var n=wr;return wr<<=1,(wr&62914560)===0&&(wr=4194304),n}function Q(n){for(var i=[],s=0;31>s;s++)i.push(n);return i}function te(n,i){n.pendingLanes|=i,i!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function fe(n,i,s,u,f,p){var _=n.pendingLanes;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=s,n.entangledLanes&=s,n.errorRecoveryDisabledLanes&=s,n.shellSuspendCounter=0;var w=n.entanglements,N=n.expirationTimes,z=n.hiddenUpdates;for(s=_&~s;0<s;){var ee=31-nn(s),se=1<<ee;w[ee]=0,N[ee]=-1;var K=z[ee];if(K!==null)for(z[ee]=null,ee=0;ee<K.length;ee++){var Z=K[ee];Z!==null&&(Z.lane&=-536870913)}s&=~se}u!==0&&Ce(n,u,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(_&~i))}function Ce(n,i,s){n.pendingLanes|=i,n.suspendedLanes&=~i;var u=31-nn(i);n.entangledLanes|=i,n.entanglements[u]=n.entanglements[u]|1073741824|s&4194218}function Re(n,i){var s=n.entangledLanes|=i;for(n=n.entanglements;s;){var u=31-nn(s),f=1<<u;f&i|n[u]&i&&(n[u]|=i),s&=~f}}function be(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Se(){var n=me.p;return n!==0?n:(n=window.event,n===void 0?32:P_(n.type))}function pe(n,i){var s=me.p;try{return me.p=n,i()}finally{me.p=s}}var _e=Math.random().toString(36).slice(2),Ee="__reactFiber$"+_e,xe="__reactProps$"+_e,ot="__reactContainer$"+_e,St="__reactEvents$"+_e,vt="__reactListeners$"+_e,st="__reactHandles$"+_e,wt="__reactResources$"+_e,In="__reactMarker$"+_e;function Hn(n){delete n[Ee],delete n[xe],delete n[St],delete n[vt],delete n[st]}function Vt(n){var i=n[Ee];if(i)return i;for(var s=n.parentNode;s;){if(i=s[ot]||s[Ee]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(n=__(n);n!==null;){if(s=n[Ee])return s;n=__(n)}return i}n=s,s=n.parentNode}return null}function jt(n){if(n=n[Ee]||n[ot]){var i=n.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return n}return null}function Jn(n){var i=n.tag;if(i===5||i===26||i===27||i===6)return n.stateNode;throw Error(a(33))}function Ln(n){var i=n[wt];return i||(i=n[wt]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ht(n){n[In]=!0}var jr=new Set,Sr={};function qe(n,i){ft(n,i),ft(n+"Capture",i)}function ft(n,i){for(Sr[n]=i,n=0;n<i.length;n++)jr.add(i[n])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Et={},er={};function es(n){return Wi.call(er,n)?!0:Wi.call(Et,n)?!1:pi.test(n)?er[n]=!0:(Et[n]=!0,!1)}function zr(n,i,s){if(es(i))if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":n.removeAttribute(i);return;case"boolean":var u=i.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(i);return}}n.setAttribute(i,""+s)}}function ta(n,i,s){if(s===null)n.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(i);return}n.setAttribute(i,""+s)}}function tr(n,i,s,u){if(u===null)n.removeAttribute(s);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttributeNS(i,s,""+u)}}function Dn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Zu(n){var i=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mf(n){var i=Zu(n)?"checked":"value",s=Object.getOwnPropertyDescriptor(n.constructor.prototype,i),u=""+n[i];if(!n.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,p=s.set;return Object.defineProperty(n,i,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,p.call(this,_)}}),Object.defineProperty(n,i,{enumerable:s.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){n._valueTracker=null,delete n[i]}}}}function ts(n){n._valueTracker||(n._valueTracker=Mf(n))}function cl(n){if(!n)return!1;var i=n._valueTracker;if(!i)return!0;var s=i.getValue(),u="";return n&&(u=Zu(n)?n.checked?"true":"false":n.value),n=u,n!==s?(i.setValue(n),!0):!1}function eo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var gi=/[\n"\\]/g;function Nt(n){return n.replace(gi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function na(n,i,s,u,f,p,_,w){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),i!=null?_==="number"?(i===0&&n.value===""||n.value!=i)&&(n.value=""+Dn(i)):n.value!==""+Dn(i)&&(n.value=""+Dn(i)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),i!=null?to(n,_,Dn(i)):s!=null?to(n,_,Dn(s)):u!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?n.name=""+Dn(w):n.removeAttribute("name")}function ns(n,i,s,u,f,p,_,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),i!=null||s!=null){if(!(p!=="submit"&&p!=="reset"||i!=null))return;s=s!=null?""+Dn(s):"",i=i!=null?""+Dn(i):s,w||i===n.value||(n.value=i),n.defaultValue=i}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=w?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_)}function to(n,i,s){i==="number"&&eo(n.ownerDocument)===n||n.defaultValue===""+s||(n.defaultValue=""+s)}function lt(n,i,s,u){if(n=n.options,i){i={};for(var f=0;f<s.length;f++)i["$"+s[f]]=!0;for(s=0;s<n.length;s++)f=i.hasOwnProperty("$"+n[s].value),n[s].selected!==f&&(n[s].selected=f),f&&u&&(n[s].defaultSelected=!0)}else{for(s=""+Dn(s),i=null,f=0;f<n.length;f++){if(n[f].value===s){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}i!==null||n[f].disabled||(i=n[f])}i!==null&&(i.selected=!0)}}function rs(n,i,s){if(i!=null&&(i=""+Dn(i),i!==n.value&&(n.value=i),s==null)){n.defaultValue!==i&&(n.defaultValue=i);return}n.defaultValue=s!=null?""+Dn(s):""}function ra(n,i,s,u){if(i==null){if(u!=null){if(s!=null)throw Error(a(92));if(he(u)){if(1<u.length)throw Error(a(93));u=u[0]}s=u}s==null&&(s=""),i=s}s=Dn(i),n.defaultValue=s,u=n.textContent,u===s&&u!==""&&u!==null&&(n.value=u)}function nr(n,i){if(i){var s=n.firstChild;if(s&&s===n.lastChild&&s.nodeType===3){s.nodeValue=i;return}}n.textContent=i}var Pf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function hl(n,i,s){var u=i.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?u?n.setProperty(i,""):i==="float"?n.cssFloat="":n[i]="":u?n.setProperty(i,s):typeof s!="number"||s===0||Pf.has(i)?i==="float"?n.cssFloat=s:n[i]=(""+s).trim():n[i]=s+"px"}function Ju(n,i,s){if(i!=null&&typeof i!="object")throw Error(a(62));if(n=n.style,s!=null){for(var u in s)!s.hasOwnProperty(u)||i!=null&&i.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in i)u=i[f],i.hasOwnProperty(f)&&s[f]!==u&&hl(n,f,u)}else for(var p in i)i.hasOwnProperty(p)&&hl(n,p,i[p])}function fl(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Br(n){return Lf.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var rr=null;function no(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var yi=null,vi=null;function _i(n){var i=jt(n);if(i&&(n=i.stateNode)){var s=n[xe]||null;e:switch(n=i.stateNode,i.type){case"input":if(na(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),i=s.name,s.type==="radio"&&i!=null){for(s=n;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+Nt(""+i)+'"][type="radio"]'),i=0;i<s.length;i++){var u=s[i];if(u!==n&&u.form===n.form){var f=u[xe]||null;if(!f)throw Error(a(90));na(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<s.length;i++)u=s[i],u.form===n.form&&cl(u)}break e;case"textarea":rs(n,s.value,s.defaultValue);break e;case"select":i=s.value,i!=null&&lt(n,!!s.multiple,i,!1)}}}var dl=!1;function ec(n,i,s){if(dl)return n(i,s);dl=!0;try{var u=n(i);return u}finally{if(dl=!1,(yi!==null||vi!==null)&&(Gc(),yi&&(i=yi,n=vi,vi=yi=null,_i(i),n)))for(i=0;i<n.length;i++)_i(n[i])}}function is(n,i){var s=n.stateNode;if(s===null)return null;var u=s[xe]||null;if(u===null)return null;s=u[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(s&&typeof s!="function")throw Error(a(231,i,typeof s));return s}var ir=!1;if(rn)try{var as={};Object.defineProperty(as,"passive",{get:function(){ir=!0}}),window.addEventListener("test",as,as),window.removeEventListener("test",as,as)}catch{ir=!1}var Hr=null,ia=null,Ei=null;function ml(){if(Ei)return Ei;var n,i=ia,s=i.length,u,f="value"in Hr?Hr.value:Hr.textContent,p=f.length;for(n=0;n<s&&i[n]===f[n];n++);var _=s-n;for(u=1;u<=_&&i[s-u]===f[p-u];u++);return Ei=f.slice(n,1<u?1-u:void 0)}function Fr(n){var i=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&i===13&&(n=13)):n=i,n===10&&(n=13),32<=n||n===13?n:0}function qr(){return!0}function pl(){return!1}function an(n){function i(s,u,f,p,_){this._reactName=s,this._targetInst=f,this.type=u,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var w in n)n.hasOwnProperty(w)&&(s=n[w],this[w]=s?s(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?qr:pl,this.isPropagationStopped=pl,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=qr)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=qr)},persist:function(){},isPersistent:qr}),i}var dt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ro=an(dt),ss=I({},dt,{view:0,detail:0}),tc=an(ss),io,ao,Gr,os=I({},ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cs,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Gr&&(Gr&&n.type==="mousemove"?(io=n.screenX-Gr.screenX,ao=n.screenY-Gr.screenY):ao=io=0,Gr=n),io)},movementY:function(n){return"movementY"in n?n.movementY:ao}}),ar=an(os),nc=I({},os,{dataTransfer:0}),kf=an(nc),ls=I({},ss,{relatedTarget:0}),so=an(ls),gl=I({},dt,{animationName:0,elapsedTime:0,pseudoElement:0}),oo=an(gl),rc=I({},dt,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),lo=an(rc),Uf=I({},dt,{data:0}),yl=an(Uf),us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ic={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vl(n){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(n):(n=ac[n])?!!i[n]:!1}function cs(){return vl}var sc=I({},ss,{key:function(n){if(n.key){var i=us[n.key]||n.key;if(i!=="Unidentified")return i}return n.type==="keypress"?(n=Fr(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?ic[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cs,charCode:function(n){return n.type==="keypress"?Fr(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fr(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),uo=an(sc),oc=I({},os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=an(oc),Ti=I({},ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cs}),lc=an(Ti),uc=I({},dt,{propertyName:0,elapsedTime:0,pseudoElement:0}),cc=an(uc),hc=I({},os,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),co=an(hc),Nn=I({},dt,{newState:0,oldState:0}),fc=an(Nn),dc=[9,13,27,32],$r=rn&&"CompositionEvent"in window,c=null;rn&&"documentMode"in document&&(c=document.documentMode);var y=rn&&"TextEvent"in window&&!c,v=rn&&(!$r||c&&8<c&&11>=c),S=" ",G=!1;function X(n,i){switch(n){case"keyup":return dc.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ue(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var nt=!1;function qt(n,i){switch(n){case"compositionend":return ue(i);case"keypress":return i.which!==32?null:(G=!0,S);case"textInput":return n=i.data,n===S&&G?null:n;default:return null}}function rt(n,i){if(nt)return n==="compositionend"||!$r&&X(n,i)?(n=ml(),Ei=ia=Hr=null,nt=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var sn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i==="input"?!!sn[n.type]:i==="textarea"}function bi(n,i,s,u){yi?vi?vi.push(u):vi=[u]:yi=u,i=Xc(i,"onChange"),0<i.length&&(s=new ro("onChange","change",null,s,u),n.push({event:s,listeners:i}))}var fn=null,Kr=null;function El(n){c_(n,0)}function mc(n){var i=Jn(n);if(cl(i))return n}function jg(n,i){if(n==="change")return i}var zg=!1;if(rn){var jf;if(rn){var zf="oninput"in document;if(!zf){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),zf=typeof Bg.oninput=="function"}jf=zf}else jf=!1;zg=jf&&(!document.documentMode||9<document.documentMode)}function Hg(){fn&&(fn.detachEvent("onpropertychange",Fg),Kr=fn=null)}function Fg(n){if(n.propertyName==="value"&&mc(Kr)){var i=[];bi(i,Kr,n,no(n)),ec(El,i)}}function US(n,i,s){n==="focusin"?(Hg(),fn=i,Kr=s,fn.attachEvent("onpropertychange",Fg)):n==="focusout"&&Hg()}function jS(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return mc(Kr)}function zS(n,i){if(n==="click")return mc(i)}function BS(n,i){if(n==="input"||n==="change")return mc(i)}function HS(n,i){return n===i&&(n!==0||1/n===1/i)||n!==n&&i!==i}var Fn=typeof Object.is=="function"?Object.is:HS;function Tl(n,i){if(Fn(n,i))return!0;if(typeof n!="object"||n===null||typeof i!="object"||i===null)return!1;var s=Object.keys(n),u=Object.keys(i);if(s.length!==u.length)return!1;for(u=0;u<s.length;u++){var f=s[u];if(!Wi.call(i,f)||!Fn(n[f],i[f]))return!1}return!0}function qg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Gg(n,i){var s=qg(n);n=0;for(var u;s;){if(s.nodeType===3){if(u=n+s.textContent.length,n<=i&&u>=i)return{node:s,offset:i-n};n=u}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=qg(s)}}function $g(n,i){return n&&i?n===i?!0:n&&n.nodeType===3?!1:i&&i.nodeType===3?$g(n,i.parentNode):"contains"in n?n.contains(i):n.compareDocumentPosition?!!(n.compareDocumentPosition(i)&16):!1:!1}function Kg(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var i=eo(n.document);i instanceof n.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)n=i.contentWindow;else break;i=eo(n.document)}return i}function Bf(n){var i=n&&n.nodeName&&n.nodeName.toLowerCase();return i&&(i==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||i==="textarea"||n.contentEditable==="true")}function FS(n,i){var s=Kg(i);i=n.focusedElem;var u=n.selectionRange;if(s!==i&&i&&i.ownerDocument&&$g(i.ownerDocument.documentElement,i)){if(u!==null&&Bf(i)){if(n=u.start,s=u.end,s===void 0&&(s=n),"selectionStart"in i)i.selectionStart=n,i.selectionEnd=Math.min(s,i.value.length);else if(s=(n=i.ownerDocument||document)&&n.defaultView||window,s.getSelection){s=s.getSelection();var f=i.textContent.length,p=Math.min(u.start,f);u=u.end===void 0?p:Math.min(u.end,f),!s.extend&&p>u&&(f=u,u=p,p=f),f=Gg(i,p);var _=Gg(i,u);f&&_&&(s.rangeCount!==1||s.anchorNode!==f.node||s.anchorOffset!==f.offset||s.focusNode!==_.node||s.focusOffset!==_.offset)&&(n=n.createRange(),n.setStart(f.node,f.offset),s.removeAllRanges(),p>u?(s.addRange(n),s.extend(_.node,_.offset)):(n.setEnd(_.node,_.offset),s.addRange(n)))}}for(n=[],s=i;s=s.parentNode;)s.nodeType===1&&n.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<n.length;i++)s=n[i],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var qS=rn&&"documentMode"in document&&11>=document.documentMode,ho=null,Hf=null,bl=null,Ff=!1;function Qg(n,i,s){var u=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ff||ho==null||ho!==eo(u)||(u=ho,"selectionStart"in u&&Bf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bl&&Tl(bl,u)||(bl=u,u=Xc(Hf,"onSelect"),0<u.length&&(i=new ro("onSelect","select",null,i,s),n.push({event:i,listeners:u}),i.target=ho)))}function hs(n,i){var s={};return s[n.toLowerCase()]=i.toLowerCase(),s["Webkit"+n]="webkit"+i,s["Moz"+n]="moz"+i,s}var fo={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},qf={},Yg={};rn&&(Yg=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function fs(n){if(qf[n])return qf[n];if(!fo[n])return n;var i=fo[n],s;for(s in i)if(i.hasOwnProperty(s)&&s in Yg)return qf[n]=i[s];return n}var Xg=fs("animationend"),Wg=fs("animationiteration"),Zg=fs("animationstart"),GS=fs("transitionrun"),$S=fs("transitionstart"),KS=fs("transitioncancel"),Jg=fs("transitionend"),ey=new Map,ty="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Ar(n,i){ey.set(n,i),qe(i,[n])}var sr=[],mo=0,Gf=0;function pc(){for(var n=mo,i=Gf=mo=0;i<n;){var s=sr[i];sr[i++]=null;var u=sr[i];sr[i++]=null;var f=sr[i];sr[i++]=null;var p=sr[i];if(sr[i++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}p!==0&&ny(s,f,p)}}function gc(n,i,s,u){sr[mo++]=n,sr[mo++]=i,sr[mo++]=s,sr[mo++]=u,Gf|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function $f(n,i,s,u){return gc(n,i,s,u),yc(n)}function aa(n,i){return gc(n,null,null,i),yc(n)}function ny(n,i,s){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s);for(var f=!1,p=n.return;p!==null;)p.childLanes|=s,u=p.alternate,u!==null&&(u.childLanes|=s),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;f&&i!==null&&n.tag===3&&(p=n.stateNode,f=31-nn(s),p=p.hiddenUpdates,n=p[f],n===null?p[f]=[i]:n.push(i),i.lane=s|536870912)}function yc(n){if(50<Kl)throw Kl=0,Zd=null,Error(a(185));for(var i=n.return;i!==null;)n=i,i=n.return;return n.tag===3?n.stateNode:null}var po={},ry=new WeakMap;function or(n,i){if(typeof n=="object"&&n!==null){var s=ry.get(n);return s!==void 0?s:(i={value:n,source:i,stack:we(i)},ry.set(n,i),i)}return{value:n,source:i,stack:we(i)}}var go=[],yo=0,vc=null,_c=0,lr=[],ur=0,ds=null,wi=1,Si="";function ms(n,i){go[yo++]=_c,go[yo++]=vc,vc=n,_c=i}function iy(n,i,s){lr[ur++]=wi,lr[ur++]=Si,lr[ur++]=ds,ds=n;var u=wi;n=Si;var f=32-nn(u)-1;u&=~(1<<f),s+=1;var p=32-nn(i)+f;if(30<p){var _=f-f%5;p=(u&(1<<_)-1).toString(32),u>>=_,f-=_,wi=1<<32-nn(i)+f|s<<f|u,Si=p+n}else wi=1<<p|s<<f|u,Si=n}function Kf(n){n.return!==null&&(ms(n,1),iy(n,1,0))}function Qf(n){for(;n===vc;)vc=go[--yo],go[yo]=null,_c=go[--yo],go[yo]=null;for(;n===ds;)ds=lr[--ur],lr[ur]=null,Si=lr[--ur],lr[ur]=null,wi=lr[--ur],lr[ur]=null}var xn=null,dn=null,ut=!1,Rr=null,Qr=!1,Yf=Error(a(519));function ps(n){var i=Error(a(418,""));throw Al(or(i,n)),Yf}function ay(n){var i=n.stateNode,s=n.type,u=n.memoizedProps;switch(i[Ee]=n,i[xe]=u,s){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(s=0;s<Yl.length;s++)Je(Yl[s],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":Je("invalid",i),ns(i,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),ts(i);break;case"select":Je("invalid",i);break;case"textarea":Je("invalid",i),ra(i,u.value,u.defaultValue,u.children),ts(i)}s=u.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||i.textContent===""+s||u.suppressHydrationWarning===!0||m_(i.textContent,s)?(u.popover!=null&&(Je("beforetoggle",i),Je("toggle",i)),u.onScroll!=null&&Je("scroll",i),u.onScrollEnd!=null&&Je("scrollend",i),u.onClick!=null&&(i.onclick=Wc),i=!0):i=!1,i||ps(n)}function sy(n){for(xn=n.return;xn;)switch(xn.tag){case 3:case 27:Qr=!0;return;case 5:case 13:Qr=!1;return;default:xn=xn.return}}function wl(n){if(n!==xn)return!1;if(!ut)return sy(n),ut=!0,!1;var i=!1,s;if((s=n.tag!==3&&n.tag!==27)&&((s=n.tag===5)&&(s=n.type,s=!(s!=="form"&&s!=="button")||pm(n.type,n.memoizedProps)),s=!s),s&&(i=!0),i&&dn&&ps(n),sy(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(a(317));e:{for(n=n.nextSibling,i=0;n;){if(n.nodeType===8)if(s=n.data,s==="/$"){if(i===0){dn=Ir(n.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++;n=n.nextSibling}dn=null}}else dn=xn?Ir(n.stateNode.nextSibling):null;return!0}function Sl(){dn=xn=null,ut=!1}function Al(n){Rr===null?Rr=[n]:Rr.push(n)}var Rl=Error(a(460)),oy=Error(a(474)),Xf={then:function(){}};function ly(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Ec(){}function uy(n,i,s){switch(s=n[s],s===void 0?n.push(i):s!==i&&(i.then(Ec,Ec),i=s),i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Rl?Error(a(483)):n;default:if(typeof i.status=="string")i.then(Ec,Ec);else{if(n=Tt,n!==null&&100<n.shellSuspendCounter)throw Error(a(482));n=i,n.status="pending",n.then(function(u){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=u}},function(u){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=u}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw n=i.reason,n===Rl?Error(a(483)):n}throw Cl=i,Rl}}var Cl=null;function cy(){if(Cl===null)throw Error(a(459));var n=Cl;return Cl=null,n}var vo=null,Il=0;function Tc(n){var i=Il;return Il+=1,vo===null&&(vo=[]),uy(vo,n,i)}function Dl(n,i){i=i.props.ref,n.ref=i!==void 0?i:null}function bc(n,i){throw i.$$typeof===l?Error(a(525)):(n=Object.prototype.toString.call(i),Error(a(31,n==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":n)))}function hy(n){var i=n._init;return i(n._payload)}function fy(n){function i(q,j){if(n){var $=q.deletions;$===null?(q.deletions=[j],q.flags|=16):$.push(j)}}function s(q,j){if(!n)return null;for(;j!==null;)i(q,j),j=j.sibling;return null}function u(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function f(q,j){return q=ya(q,j),q.index=0,q.sibling=null,q}function p(q,j,$){return q.index=$,n?($=q.alternate,$!==null?($=$.index,$<j?(q.flags|=33554434,j):$):(q.flags|=33554434,j)):(q.flags|=1048576,j)}function _(q){return n&&q.alternate===null&&(q.flags|=33554434),q}function w(q,j,$,ne){return j===null||j.tag!==6?(j=qd($,q.mode,ne),j.return=q,j):(j=f(j,$),j.return=q,j)}function N(q,j,$,ne){var Te=$.type;return Te===m?ee(q,j,$.props.children,ne,$.key):j!==null&&(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===J&&hy(Te)===j.type)?(j=f(j,$.props),Dl(j,$),j.return=q,j):(j=zc($.type,$.key,$.props,null,q.mode,ne),Dl(j,$),j.return=q,j)}function z(q,j,$,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==$.containerInfo||j.stateNode.implementation!==$.implementation?(j=Gd($,q.mode,ne),j.return=q,j):(j=f(j,$.children||[]),j.return=q,j)}function ee(q,j,$,ne,Te){return j===null||j.tag!==7?(j=As($,q.mode,ne,Te),j.return=q,j):(j=f(j,$),j.return=q,j)}function se(q,j,$){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=qd(""+j,q.mode,$),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case h:return $=zc(j.type,j.key,j.props,null,q.mode,$),Dl($,j),$.return=q,$;case d:return j=Gd(j,q.mode,$),j.return=q,j;case J:var ne=j._init;return j=ne(j._payload),se(q,j,$)}if(he(j)||ce(j))return j=As(j,q.mode,$,null),j.return=q,j;if(typeof j.then=="function")return se(q,Tc(j),$);if(j.$$typeof===D)return se(q,kc(q,j),$);bc(q,j)}return null}function K(q,j,$,ne){var Te=j!==null?j.key:null;if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return Te!==null?null:w(q,j,""+$,ne);if(typeof $=="object"&&$!==null){switch($.$$typeof){case h:return $.key===Te?N(q,j,$,ne):null;case d:return $.key===Te?z(q,j,$,ne):null;case J:return Te=$._init,$=Te($._payload),K(q,j,$,ne)}if(he($)||ce($))return Te!==null?null:ee(q,j,$,ne,null);if(typeof $.then=="function")return K(q,j,Tc($),ne);if($.$$typeof===D)return K(q,j,kc(q,$),ne);bc(q,$)}return null}function Z(q,j,$,ne,Te){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return q=q.get($)||null,w(j,q,""+ne,Te);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case h:return q=q.get(ne.key===null?$:ne.key)||null,N(j,q,ne,Te);case d:return q=q.get(ne.key===null?$:ne.key)||null,z(j,q,ne,Te);case J:var Qe=ne._init;return ne=Qe(ne._payload),Z(q,j,$,ne,Te)}if(he(ne)||ce(ne))return q=q.get($)||null,ee(j,q,ne,Te,null);if(typeof ne.then=="function")return Z(q,j,$,Tc(ne),Te);if(ne.$$typeof===D)return Z(q,j,$,kc(j,ne),Te);bc(j,ne)}return null}function Ae(q,j,$,ne){for(var Te=null,Qe=null,Ie=j,Me=j=0,un=null;Ie!==null&&Me<$.length;Me++){Ie.index>Me?(un=Ie,Ie=null):un=Ie.sibling;var ct=K(q,Ie,$[Me],ne);if(ct===null){Ie===null&&(Ie=un);break}n&&Ie&&ct.alternate===null&&i(q,Ie),j=p(ct,j,Me),Qe===null?Te=ct:Qe.sibling=ct,Qe=ct,Ie=un}if(Me===$.length)return s(q,Ie),ut&&ms(q,Me),Te;if(Ie===null){for(;Me<$.length;Me++)Ie=se(q,$[Me],ne),Ie!==null&&(j=p(Ie,j,Me),Qe===null?Te=Ie:Qe.sibling=Ie,Qe=Ie);return ut&&ms(q,Me),Te}for(Ie=u(Ie);Me<$.length;Me++)un=Z(Ie,q,Me,$[Me],ne),un!==null&&(n&&un.alternate!==null&&Ie.delete(un.key===null?Me:un.key),j=p(un,j,Me),Qe===null?Te=un:Qe.sibling=un,Qe=un);return n&&Ie.forEach(function(Sa){return i(q,Sa)}),ut&&ms(q,Me),Te}function je(q,j,$,ne){if($==null)throw Error(a(151));for(var Te=null,Qe=null,Ie=j,Me=j=0,un=null,ct=$.next();Ie!==null&&!ct.done;Me++,ct=$.next()){Ie.index>Me?(un=Ie,Ie=null):un=Ie.sibling;var Sa=K(q,Ie,ct.value,ne);if(Sa===null){Ie===null&&(Ie=un);break}n&&Ie&&Sa.alternate===null&&i(q,Ie),j=p(Sa,j,Me),Qe===null?Te=Sa:Qe.sibling=Sa,Qe=Sa,Ie=un}if(ct.done)return s(q,Ie),ut&&ms(q,Me),Te;if(Ie===null){for(;!ct.done;Me++,ct=$.next())ct=se(q,ct.value,ne),ct!==null&&(j=p(ct,j,Me),Qe===null?Te=ct:Qe.sibling=ct,Qe=ct);return ut&&ms(q,Me),Te}for(Ie=u(Ie);!ct.done;Me++,ct=$.next())ct=Z(Ie,q,Me,ct.value,ne),ct!==null&&(n&&ct.alternate!==null&&Ie.delete(ct.key===null?Me:ct.key),j=p(ct,j,Me),Qe===null?Te=ct:Qe.sibling=ct,Qe=ct);return n&&Ie.forEach(function(o1){return i(q,o1)}),ut&&ms(q,Me),Te}function Mt(q,j,$,ne){if(typeof $=="object"&&$!==null&&$.type===m&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case h:e:{for(var Te=$.key;j!==null;){if(j.key===Te){if(Te=$.type,Te===m){if(j.tag===7){s(q,j.sibling),ne=f(j,$.props.children),ne.return=q,q=ne;break e}}else if(j.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===J&&hy(Te)===j.type){s(q,j.sibling),ne=f(j,$.props),Dl(ne,$),ne.return=q,q=ne;break e}s(q,j);break}else i(q,j);j=j.sibling}$.type===m?(ne=As($.props.children,q.mode,ne,$.key),ne.return=q,q=ne):(ne=zc($.type,$.key,$.props,null,q.mode,ne),Dl(ne,$),ne.return=q,q=ne)}return _(q);case d:e:{for(Te=$.key;j!==null;){if(j.key===Te)if(j.tag===4&&j.stateNode.containerInfo===$.containerInfo&&j.stateNode.implementation===$.implementation){s(q,j.sibling),ne=f(j,$.children||[]),ne.return=q,q=ne;break e}else{s(q,j);break}else i(q,j);j=j.sibling}ne=Gd($,q.mode,ne),ne.return=q,q=ne}return _(q);case J:return Te=$._init,$=Te($._payload),Mt(q,j,$,ne)}if(he($))return Ae(q,j,$,ne);if(ce($)){if(Te=ce($),typeof Te!="function")throw Error(a(150));return $=Te.call($),je(q,j,$,ne)}if(typeof $.then=="function")return Mt(q,j,Tc($),ne);if($.$$typeof===D)return Mt(q,j,kc(q,$),ne);bc(q,$)}return typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint"?($=""+$,j!==null&&j.tag===6?(s(q,j.sibling),ne=f(j,$),ne.return=q,q=ne):(s(q,j),ne=qd($,q.mode,ne),ne.return=q,q=ne),_(q)):s(q,j)}return function(q,j,$,ne){try{Il=0;var Te=Mt(q,j,$,ne);return vo=null,Te}catch(Ie){if(Ie===Rl)throw Ie;var Qe=dr(29,Ie,null,q.mode);return Qe.lanes=ne,Qe.return=q,Qe}finally{}}}var gs=fy(!0),dy=fy(!1),_o=tt(null),wc=tt(0);function my(n,i){n=Vi,Xe(wc,n),Xe(_o,i),Vi=n|i.baseLanes}function Wf(){Xe(wc,Vi),Xe(_o,_o.current)}function Zf(){Vi=wc.current,Ke(_o),Ke(wc)}var cr=tt(null),Yr=null;function sa(n){var i=n.alternate;Xe($t,$t.current&1),Xe(cr,n),Yr===null&&(i===null||_o.current!==null||i.memoizedState!==null)&&(Yr=n)}function py(n){if(n.tag===22){if(Xe($t,$t.current),Xe(cr,n),Yr===null){var i=n.alternate;i!==null&&i.memoizedState!==null&&(Yr=n)}}else oa()}function oa(){Xe($t,$t.current),Xe(cr,cr.current)}function Ai(n){Ke(cr),Yr===n&&(Yr=null),Ke($t)}var $t=tt(0);function Sc(n){for(var i=n;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var QS=typeof AbortController<"u"?AbortController:function(){var n=[],i=this.signal={aborted:!1,addEventListener:function(s,u){n.push(u)}};this.abort=function(){i.aborted=!0,n.forEach(function(s){return s()})}},YS=r.unstable_scheduleCallback,XS=r.unstable_NormalPriority,Kt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new QS,data:new Map,refCount:0}}function Nl(n){n.refCount--,n.refCount===0&&YS(XS,function(){n.controller.abort()})}var xl=null,ed=0,Eo=0,To=null;function WS(n,i){if(xl===null){var s=xl=[];ed=0,Eo=sm(),To={status:"pending",value:void 0,then:function(u){s.push(u)}}}return ed++,i.then(gy,gy),i}function gy(){if(--ed===0&&xl!==null){To!==null&&(To.status="fulfilled");var n=xl;xl=null,Eo=0,To=null;for(var i=0;i<n.length;i++)(0,n[i])()}}function ZS(n,i){var s=[],u={status:"pending",value:null,reason:null,then:function(f){s.push(f)}};return n.then(function(){u.status="fulfilled",u.value=i;for(var f=0;f<s.length;f++)(0,s[f])(i)},function(f){for(u.status="rejected",u.reason=f,f=0;f<s.length;f++)(0,s[f])(void 0)}),u}var yy=A.S;A.S=function(n,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&WS(n,i),yy!==null&&yy(n,i)};var ys=tt(null);function td(){var n=ys.current;return n!==null?n:Tt.pooledCache}function Ac(n,i){i===null?Xe(ys,ys.current):Xe(ys,i.pool)}function vy(){var n=td();return n===null?null:{parent:Kt._currentValue,pool:n}}var la=0,Ge=null,gt=null,zt=null,Rc=!1,bo=!1,vs=!1,Cc=0,Ol=0,wo=null,JS=0;function Lt(){throw Error(a(321))}function nd(n,i){if(i===null)return!1;for(var s=0;s<i.length&&s<n.length;s++)if(!Fn(n[s],i[s]))return!1;return!0}function rd(n,i,s,u,f,p){return la=p,Ge=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=n===null||n.memoizedState===null?_s:ua,vs=!1,p=s(u,f),vs=!1,bo&&(p=Ey(i,s,u,f)),_y(n),p}function _y(n){A.H=Xr;var i=gt!==null&&gt.next!==null;if(la=0,zt=gt=Ge=null,Rc=!1,Ol=0,wo=null,i)throw Error(a(300));n===null||on||(n=n.dependencies,n!==null&&Lc(n)&&(on=!0))}function Ey(n,i,s,u){Ge=n;var f=0;do{if(bo&&(wo=null),Ol=0,bo=!1,25<=f)throw Error(a(301));if(f+=1,zt=gt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}A.H=Es,p=i(s,u)}while(bo);return p}function eA(){var n=A.H,i=n.useState()[0];return i=typeof i.then=="function"?Ml(i):i,n=n.useState()[0],(gt!==null?gt.memoizedState:null)!==n&&(Ge.flags|=1024),i}function id(){var n=Cc!==0;return Cc=0,n}function ad(n,i,s){i.updateQueue=n.updateQueue,i.flags&=-2053,n.lanes&=~s}function sd(n){if(Rc){for(n=n.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Rc=!1}la=0,zt=gt=Ge=null,bo=!1,Ol=Cc=0,wo=null}function kn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?Ge.memoizedState=zt=n:zt=zt.next=n,zt}function Bt(){if(gt===null){var n=Ge.alternate;n=n!==null?n.memoizedState:null}else n=gt.next;var i=zt===null?Ge.memoizedState:zt.next;if(i!==null)zt=i,gt=n;else{if(n===null)throw Ge.alternate===null?Error(a(467)):Error(a(310));gt=n,n={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},zt===null?Ge.memoizedState=zt=n:zt=zt.next=n}return zt}var Ic;Ic=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Ml(n){var i=Ol;return Ol+=1,wo===null&&(wo=[]),n=uy(wo,n,i),i=Ge,(zt===null?i.memoizedState:zt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?_s:ua),n}function Dc(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Ml(n);if(n.$$typeof===D)return Tn(n)}throw Error(a(438,String(n)))}function od(n){var i=null,s=Ge.updateQueue;if(s!==null&&(i=s.memoCache),i==null){var u=Ge.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(i={data:u.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),s===null&&(s=Ic(),Ge.updateQueue=s),s.memoCache=i,s=i.data[i.index],s===void 0)for(s=i.data[i.index]=Array(n),u=0;u<n;u++)s[u]=de;return i.index++,s}function Ri(n,i){return typeof i=="function"?i(n):i}function Nc(n){var i=Bt();return ld(i,gt,n)}function ld(n,i,s){var u=n.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=s;var f=n.baseQueue,p=u.pending;if(p!==null){if(f!==null){var _=f.next;f.next=p.next,p.next=_}i.baseQueue=f=p,u.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{i=f.next;var w=_=null,N=null,z=i,ee=!1;do{var se=z.lane&-536870913;if(se!==z.lane?(it&se)===se:(la&se)===se){var K=z.revertLane;if(K===0)N!==null&&(N=N.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),se===Eo&&(ee=!0);else if((la&K)===K){z=z.next,K===Eo&&(ee=!0);continue}else se={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(w=N=se,_=p):N=N.next=se,Ge.lanes|=K,va|=K;se=z.action,vs&&s(p,se),p=z.hasEagerState?z.eagerState:s(p,se)}else K={lane:se,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(w=N=K,_=p):N=N.next=K,Ge.lanes|=se,va|=se;z=z.next}while(z!==null&&z!==i);if(N===null?_=p:N.next=w,!Fn(p,n.memoizedState)&&(on=!0,ee&&(s=To,s!==null)))throw s;n.memoizedState=p,n.baseState=_,n.baseQueue=N,u.lastRenderedState=p}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function ud(n){var i=Bt(),s=i.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=n;var u=s.dispatch,f=s.pending,p=i.memoizedState;if(f!==null){s.pending=null;var _=f=f.next;do p=n(p,_.action),_=_.next;while(_!==f);Fn(p,i.memoizedState)||(on=!0),i.memoizedState=p,i.baseQueue===null&&(i.baseState=p),s.lastRenderedState=p}return[p,u]}function Ty(n,i,s){var u=Ge,f=Bt(),p=ut;if(p){if(s===void 0)throw Error(a(407));s=s()}else s=i();var _=!Fn((gt||f).memoizedState,s);if(_&&(f.memoizedState=s,on=!0),f=f.queue,fd(Sy.bind(null,u,f,n),[n]),f.getSnapshot!==i||_||zt!==null&&zt.memoizedState.tag&1){if(u.flags|=2048,So(9,wy.bind(null,u,f,s,i),{destroy:void 0},null),Tt===null)throw Error(a(349));p||(la&60)!==0||by(u,i,s)}return s}function by(n,i,s){n.flags|=16384,n={getSnapshot:i,value:s},i=Ge.updateQueue,i===null?(i=Ic(),Ge.updateQueue=i,i.stores=[n]):(s=i.stores,s===null?i.stores=[n]:s.push(n))}function wy(n,i,s,u){i.value=s,i.getSnapshot=u,Ay(i)&&Ry(n)}function Sy(n,i,s){return s(function(){Ay(i)&&Ry(n)})}function Ay(n){var i=n.getSnapshot;n=n.value;try{var s=i();return!Fn(n,s)}catch{return!0}}function Ry(n){var i=aa(n,2);i!==null&&On(i,n,2)}function cd(n){var i=kn();if(typeof n=="function"){var s=n;if(n=s(),vs){Cn(!0);try{s()}finally{Cn(!1)}}}return i.memoizedState=i.baseState=n,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:n},i}function Cy(n,i,s,u){return n.baseState=s,ld(n,gt,typeof u=="function"?u:Ri)}function tA(n,i,s,u,f){if(Mc(n))throw Error(a(485));if(n=i.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){p.listeners.push(_)}};A.T!==null?s(!0):p.isTransition=!1,u(p),s=i.pending,s===null?(p.next=i.pending=p,Iy(i,p)):(p.next=s.next,i.pending=s.next=p)}}function Iy(n,i){var s=i.action,u=i.payload,f=n.state;if(i.isTransition){var p=A.T,_={};A.T=_;try{var w=s(f,u),N=A.S;N!==null&&N(_,w),Dy(n,i,w)}catch(z){hd(n,i,z)}finally{A.T=p}}else try{p=s(f,u),Dy(n,i,p)}catch(z){hd(n,i,z)}}function Dy(n,i,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(u){Ny(n,i,u)},function(u){return hd(n,i,u)}):Ny(n,i,s)}function Ny(n,i,s){i.status="fulfilled",i.value=s,xy(i),n.state=s,i=n.pending,i!==null&&(s=i.next,s===i?n.pending=null:(s=s.next,i.next=s,Iy(n,s)))}function hd(n,i,s){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do i.status="rejected",i.reason=s,xy(i),i=i.next;while(i!==u)}n.action=null}function xy(n){n=n.listeners;for(var i=0;i<n.length;i++)(0,n[i])()}function Oy(n,i){return i}function My(n,i){if(ut){var s=Tt.formState;if(s!==null){e:{var u=Ge;if(ut){if(dn){t:{for(var f=dn,p=Qr;f.nodeType!==8;){if(!p){f=null;break t}if(f=Ir(f.nextSibling),f===null){f=null;break t}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){dn=Ir(f.nextSibling),u=f.data==="F!";break e}}ps(u)}u=!1}u&&(i=s[0])}}return s=kn(),s.memoizedState=s.baseState=i,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:i},s.queue=u,s=Wy.bind(null,Ge,u),u.dispatch=s,u=cd(!1),p=yd.bind(null,Ge,!1,u.queue),u=kn(),f={state:i,dispatch:null,action:n,pending:null},u.queue=f,s=tA.bind(null,Ge,f,p,s),f.dispatch=s,u.memoizedState=n,[i,s,!1]}function Py(n){var i=Bt();return Vy(i,gt,n)}function Vy(n,i,s){i=ld(n,i,Oy)[0],n=Nc(Ri)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?Ml(i):i;var u=Bt(),f=u.queue,p=f.dispatch;return s!==u.memoizedState&&(Ge.flags|=2048,So(9,nA.bind(null,f,s),{destroy:void 0},null)),[i,p,n]}function nA(n,i){n.action=i}function Ly(n){var i=Bt(),s=gt;if(s!==null)return Vy(i,s,n);Bt(),i=i.memoizedState,s=Bt();var u=s.queue.dispatch;return s.memoizedState=n,[i,u,!1]}function So(n,i,s,u){return n={tag:n,create:i,inst:s,deps:u,next:null},i=Ge.updateQueue,i===null&&(i=Ic(),Ge.updateQueue=i),s=i.lastEffect,s===null?i.lastEffect=n.next=n:(u=s.next,s.next=n,n.next=u,i.lastEffect=n),n}function ky(){return Bt().memoizedState}function xc(n,i,s,u){var f=kn();Ge.flags|=n,f.memoizedState=So(1|i,s,{destroy:void 0},u===void 0?null:u)}function Oc(n,i,s,u){var f=Bt();u=u===void 0?null:u;var p=f.memoizedState.inst;gt!==null&&u!==null&&nd(u,gt.memoizedState.deps)?f.memoizedState=So(i,s,p,u):(Ge.flags|=n,f.memoizedState=So(1|i,s,p,u))}function Uy(n,i){xc(8390656,8,n,i)}function fd(n,i){Oc(2048,8,n,i)}function jy(n,i){return Oc(4,2,n,i)}function zy(n,i){return Oc(4,4,n,i)}function By(n,i){if(typeof i=="function"){n=n();var s=i(n);return function(){typeof s=="function"?s():i(null)}}if(i!=null)return n=n(),i.current=n,function(){i.current=null}}function Hy(n,i,s){s=s!=null?s.concat([n]):null,Oc(4,4,By.bind(null,i,n),s)}function dd(){}function Fy(n,i){var s=Bt();i=i===void 0?null:i;var u=s.memoizedState;return i!==null&&nd(i,u[1])?u[0]:(s.memoizedState=[n,i],n)}function qy(n,i){var s=Bt();i=i===void 0?null:i;var u=s.memoizedState;if(i!==null&&nd(i,u[1]))return u[0];if(u=n(),vs){Cn(!0);try{n()}finally{Cn(!1)}}return s.memoizedState=[u,i],u}function md(n,i,s){return s===void 0||(la&1073741824)!==0?n.memoizedState=i:(n.memoizedState=s,n=$v(),Ge.lanes|=n,va|=n,s)}function Gy(n,i,s,u){return Fn(s,i)?s:_o.current!==null?(n=md(n,s,u),Fn(n,i)||(on=!0),n):(la&42)===0?(on=!0,n.memoizedState=s):(n=$v(),Ge.lanes|=n,va|=n,i)}function $y(n,i,s,u,f){var p=me.p;me.p=p!==0&&8>p?p:8;var _=A.T,w={};A.T=w,yd(n,!1,i,s);try{var N=f(),z=A.S;if(z!==null&&z(w,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var ee=ZS(N,u);Pl(n,i,ee,Kn(n))}else Pl(n,i,u,Kn(n))}catch(se){Pl(n,i,{then:function(){},status:"rejected",reason:se},Kn())}finally{me.p=p,A.T=_}}function rA(){}function pd(n,i,s,u){if(n.tag!==5)throw Error(a(476));var f=Ky(n).queue;$y(n,f,i,Ve,s===null?rA:function(){return Qy(n),s(u)})}function Ky(n){var i=n.memoizedState;if(i!==null)return i;i={memoizedState:Ve,baseState:Ve,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:Ve},next:null};var s={};return i.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ri,lastRenderedState:s},next:null},n.memoizedState=i,n=n.alternate,n!==null&&(n.memoizedState=i),i}function Qy(n){var i=Ky(n).next.queue;Pl(n,i,{},Kn())}function gd(){return Tn(eu)}function Yy(){return Bt().memoizedState}function Xy(){return Bt().memoizedState}function iA(n){for(var i=n.return;i!==null;){switch(i.tag){case 24:case 3:var s=Kn();n=fa(s);var u=da(i,n,s);u!==null&&(On(u,i,s),kl(u,i,s)),i={cache:Jf()},n.payload=i;return}i=i.return}}function aA(n,i,s){var u=Kn();s={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null},Mc(n)?Zy(i,s):(s=$f(n,i,s,u),s!==null&&(On(s,n,u),Jy(s,i,u)))}function Wy(n,i,s){var u=Kn();Pl(n,i,s,u)}function Pl(n,i,s,u){var f={lane:u,revertLane:0,action:s,hasEagerState:!1,eagerState:null,next:null};if(Mc(n))Zy(i,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=i.lastRenderedReducer,p!==null))try{var _=i.lastRenderedState,w=p(_,s);if(f.hasEagerState=!0,f.eagerState=w,Fn(w,_))return gc(n,i,f,0),Tt===null&&pc(),!1}catch{}finally{}if(s=$f(n,i,f,u),s!==null)return On(s,n,u),Jy(s,i,u),!0}return!1}function yd(n,i,s,u){if(u={lane:2,revertLane:sm(),action:u,hasEagerState:!1,eagerState:null,next:null},Mc(n)){if(i)throw Error(a(479))}else i=$f(n,s,u,2),i!==null&&On(i,n,2)}function Mc(n){var i=n.alternate;return n===Ge||i!==null&&i===Ge}function Zy(n,i){bo=Rc=!0;var s=n.pending;s===null?i.next=i:(i.next=s.next,s.next=i),n.pending=i}function Jy(n,i,s){if((s&4194176)!==0){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,Re(n,s)}}var Xr={readContext:Tn,use:Dc,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useLayoutEffect:Lt,useInsertionEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useSyncExternalStore:Lt,useId:Lt};Xr.useCacheRefresh=Lt,Xr.useMemoCache=Lt,Xr.useHostTransitionStatus=Lt,Xr.useFormState=Lt,Xr.useActionState=Lt,Xr.useOptimistic=Lt;var _s={readContext:Tn,use:Dc,useCallback:function(n,i){return kn().memoizedState=[n,i===void 0?null:i],n},useContext:Tn,useEffect:Uy,useImperativeHandle:function(n,i,s){s=s!=null?s.concat([n]):null,xc(4194308,4,By.bind(null,i,n),s)},useLayoutEffect:function(n,i){return xc(4194308,4,n,i)},useInsertionEffect:function(n,i){xc(4,2,n,i)},useMemo:function(n,i){var s=kn();i=i===void 0?null:i;var u=n();if(vs){Cn(!0);try{n()}finally{Cn(!1)}}return s.memoizedState=[u,i],u},useReducer:function(n,i,s){var u=kn();if(s!==void 0){var f=s(i);if(vs){Cn(!0);try{s(i)}finally{Cn(!1)}}}else f=i;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=aA.bind(null,Ge,n),[u.memoizedState,n]},useRef:function(n){var i=kn();return n={current:n},i.memoizedState=n},useState:function(n){n=cd(n);var i=n.queue,s=Wy.bind(null,Ge,i);return i.dispatch=s,[n.memoizedState,s]},useDebugValue:dd,useDeferredValue:function(n,i){var s=kn();return md(s,n,i)},useTransition:function(){var n=cd(!1);return n=$y.bind(null,Ge,n.queue,!0,!1),kn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,i,s){var u=Ge,f=kn();if(ut){if(s===void 0)throw Error(a(407));s=s()}else{if(s=i(),Tt===null)throw Error(a(349));(it&60)!==0||by(u,i,s)}f.memoizedState=s;var p={value:s,getSnapshot:i};return f.queue=p,Uy(Sy.bind(null,u,p,n),[n]),u.flags|=2048,So(9,wy.bind(null,u,p,s,i),{destroy:void 0},null),s},useId:function(){var n=kn(),i=Tt.identifierPrefix;if(ut){var s=Si,u=wi;s=(u&~(1<<32-nn(u)-1)).toString(32)+s,i=":"+i+"R"+s,s=Cc++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=JS++,i=":"+i+"r"+s.toString(32)+":";return n.memoizedState=i},useCacheRefresh:function(){return kn().memoizedState=iA.bind(null,Ge)}};_s.useMemoCache=od,_s.useHostTransitionStatus=gd,_s.useFormState=My,_s.useActionState=My,_s.useOptimistic=function(n){var i=kn();i.memoizedState=i.baseState=n;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=s,i=yd.bind(null,Ge,!0,s),s.dispatch=i,[n,i]};var ua={readContext:Tn,use:Dc,useCallback:Fy,useContext:Tn,useEffect:fd,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:zy,useMemo:qy,useReducer:Nc,useRef:ky,useState:function(){return Nc(Ri)},useDebugValue:dd,useDeferredValue:function(n,i){var s=Bt();return Gy(s,gt.memoizedState,n,i)},useTransition:function(){var n=Nc(Ri)[0],i=Bt().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:Ty,useId:Yy};ua.useCacheRefresh=Xy,ua.useMemoCache=od,ua.useHostTransitionStatus=gd,ua.useFormState=Py,ua.useActionState=Py,ua.useOptimistic=function(n,i){var s=Bt();return Cy(s,gt,n,i)};var Es={readContext:Tn,use:Dc,useCallback:Fy,useContext:Tn,useEffect:fd,useImperativeHandle:Hy,useInsertionEffect:jy,useLayoutEffect:zy,useMemo:qy,useReducer:ud,useRef:ky,useState:function(){return ud(Ri)},useDebugValue:dd,useDeferredValue:function(n,i){var s=Bt();return gt===null?md(s,n,i):Gy(s,gt.memoizedState,n,i)},useTransition:function(){var n=ud(Ri)[0],i=Bt().memoizedState;return[typeof n=="boolean"?n:Ml(n),i]},useSyncExternalStore:Ty,useId:Yy};Es.useCacheRefresh=Xy,Es.useMemoCache=od,Es.useHostTransitionStatus=gd,Es.useFormState=Ly,Es.useActionState=Ly,Es.useOptimistic=function(n,i){var s=Bt();return gt!==null?Cy(s,gt,n,i):(s.baseState=n,[n,s.queue.dispatch])};function vd(n,i,s,u){i=n.memoizedState,s=s(u,i),s=s==null?i:I({},i,s),n.memoizedState=s,n.lanes===0&&(n.updateQueue.baseState=s)}var _d={isMounted:function(n){return(n=n._reactInternals)?ye(n)===n:!1},enqueueSetState:function(n,i,s){n=n._reactInternals;var u=Kn(),f=fa(u);f.payload=i,s!=null&&(f.callback=s),i=da(n,f,u),i!==null&&(On(i,n,u),kl(i,n,u))},enqueueReplaceState:function(n,i,s){n=n._reactInternals;var u=Kn(),f=fa(u);f.tag=1,f.payload=i,s!=null&&(f.callback=s),i=da(n,f,u),i!==null&&(On(i,n,u),kl(i,n,u))},enqueueForceUpdate:function(n,i){n=n._reactInternals;var s=Kn(),u=fa(s);u.tag=2,i!=null&&(u.callback=i),i=da(n,u,s),i!==null&&(On(i,n,s),kl(i,n,s))}};function ev(n,i,s,u,f,p,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,_):i.prototype&&i.prototype.isPureReactComponent?!Tl(s,u)||!Tl(f,p):!0}function tv(n,i,s,u){n=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,u),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,u),i.state!==n&&_d.enqueueReplaceState(i,i.state,null)}function Ts(n,i){var s=i;if("ref"in i){s={};for(var u in i)u!=="ref"&&(s[u]=i[u])}if(n=n.defaultProps){s===i&&(s=I({},s));for(var f in n)s[f]===void 0&&(s[f]=n[f])}return s}var Pc=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function nv(n){Pc(n)}function rv(n){console.error(n)}function iv(n){Pc(n)}function Vc(n,i){try{var s=n.onUncaughtError;s(i.value,{componentStack:i.stack})}catch(u){setTimeout(function(){throw u})}}function av(n,i,s){try{var u=n.onCaughtError;u(s.value,{componentStack:s.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ed(n,i,s){return s=fa(s),s.tag=3,s.payload={element:null},s.callback=function(){Vc(n,i)},s}function sv(n){return n=fa(n),n.tag=3,n}function ov(n,i,s,u){var f=s.type.getDerivedStateFromError;if(typeof f=="function"){var p=u.value;n.payload=function(){return f(p)},n.callback=function(){av(i,s,u)}}var _=s.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){av(i,s,u),typeof f!="function"&&(_a===null?_a=new Set([this]):_a.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function sA(n,i,s,u,f){if(s.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(i=s.alternate,i!==null&&Ll(i,s,f,!0),s=cr.current,s!==null){switch(s.tag){case 13:return Yr===null?tm():s.alternate===null&&Ot===0&&(Ot=3),s.flags&=-257,s.flags|=65536,s.lanes=f,u===Xf?s.flags|=16384:(i=s.updateQueue,i===null?s.updateQueue=new Set([u]):i.add(u),rm(n,u,f)),!1;case 22:return s.flags|=65536,u===Xf?s.flags|=16384:(i=s.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([u])},s.updateQueue=i):(s=i.retryQueue,s===null?i.retryQueue=new Set([u]):s.add(u)),rm(n,u,f)),!1}throw Error(a(435,s.tag))}return rm(n,u,f),tm(),!1}if(ut)return i=cr.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,u!==Yf&&(n=Error(a(422),{cause:u}),Al(or(n,s)))):(u!==Yf&&(i=Error(a(423),{cause:u}),Al(or(i,s))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=or(u,s),f=Ed(n.stateNode,u,f),Vd(n,f),Ot!==4&&(Ot=2)),!1;var p=Error(a(520),{cause:u});if(p=or(p,s),Gl===null?Gl=[p]:Gl.push(p),Ot!==4&&(Ot=2),i===null)return!0;u=or(u,s),s=i;do{switch(s.tag){case 3:return s.flags|=65536,n=f&-f,s.lanes|=n,n=Ed(s.stateNode,u,n),Vd(s,n),!1;case 1:if(i=s.type,p=s.stateNode,(s.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(_a===null||!_a.has(p))))return s.flags|=65536,f&=-f,s.lanes|=f,f=sv(f),ov(f,n,s,u),Vd(s,f),!1}s=s.return}while(s!==null);return!1}var lv=Error(a(461)),on=!1;function mn(n,i,s,u){i.child=n===null?dy(i,null,s,u):gs(i,n.child,s,u)}function uv(n,i,s,u,f){s=s.render;var p=i.ref;if("ref"in u){var _={};for(var w in u)w!=="ref"&&(_[w]=u[w])}else _=u;return ws(i),u=rd(n,i,s,_,p,f),w=id(),n!==null&&!on?(ad(n,i,f),Ci(n,i,f)):(ut&&w&&Kf(i),i.flags|=1,mn(n,i,u,f),i.child)}function cv(n,i,s,u,f){if(n===null){var p=s.type;return typeof p=="function"&&!Fd(p)&&p.defaultProps===void 0&&s.compare===null?(i.tag=15,i.type=p,hv(n,i,p,u,f)):(n=zc(s.type,null,u,i,i.mode,f),n.ref=i.ref,n.return=i,i.child=n)}if(p=n.child,!Dd(n,f)){var _=p.memoizedProps;if(s=s.compare,s=s!==null?s:Tl,s(_,u)&&n.ref===i.ref)return Ci(n,i,f)}return i.flags|=1,n=ya(p,u),n.ref=i.ref,n.return=i,i.child=n}function hv(n,i,s,u,f){if(n!==null){var p=n.memoizedProps;if(Tl(p,u)&&n.ref===i.ref)if(on=!1,i.pendingProps=u=p,Dd(n,f))(n.flags&131072)!==0&&(on=!0);else return i.lanes=n.lanes,Ci(n,i,f)}return Td(n,i,s,u,f)}function fv(n,i,s){var u=i.pendingProps,f=u.children,p=(i.stateNode._pendingVisibility&2)!==0,_=n!==null?n.memoizedState:null;if(Vl(n,i),u.mode==="hidden"||p){if((i.flags&128)!==0){if(u=_!==null?_.baseLanes|s:s,n!==null){for(f=i.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;i.childLanes=p&~u}else i.childLanes=0,i.child=null;return dv(n,i,u,s)}if((s&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},n!==null&&Ac(i,_!==null?_.cachePool:null),_!==null?my(i,_):Wf(),py(i);else return i.lanes=i.childLanes=536870912,dv(n,i,_!==null?_.baseLanes|s:s,s)}else _!==null?(Ac(i,_.cachePool),my(i,_),oa(),i.memoizedState=null):(n!==null&&Ac(i,null),Wf(),oa());return mn(n,i,f,s),i.child}function dv(n,i,s,u){var f=td();return f=f===null?null:{parent:Kt._currentValue,pool:f},i.memoizedState={baseLanes:s,cachePool:f},n!==null&&Ac(i,null),Wf(),py(i),n!==null&&Ll(n,i,u,!0),null}function Vl(n,i){var s=i.ref;if(s===null)n!==null&&n.ref!==null&&(i.flags|=2097664);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(n===null||n.ref!==s)&&(i.flags|=2097664)}}function Td(n,i,s,u,f){return ws(i),s=rd(n,i,s,u,void 0,f),u=id(),n!==null&&!on?(ad(n,i,f),Ci(n,i,f)):(ut&&u&&Kf(i),i.flags|=1,mn(n,i,s,f),i.child)}function mv(n,i,s,u,f,p){return ws(i),i.updateQueue=null,s=Ey(i,u,s,f),_y(n),u=id(),n!==null&&!on?(ad(n,i,p),Ci(n,i,p)):(ut&&u&&Kf(i),i.flags|=1,mn(n,i,s,p),i.child)}function pv(n,i,s,u,f){if(ws(i),i.stateNode===null){var p=po,_=s.contextType;typeof _=="object"&&_!==null&&(p=Tn(_)),p=new s(u,p),i.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=_d,i.stateNode=p,p._reactInternals=i,p=i.stateNode,p.props=u,p.state=i.memoizedState,p.refs={},Md(i),_=s.contextType,p.context=typeof _=="object"&&_!==null?Tn(_):po,p.state=i.memoizedState,_=s.getDerivedStateFromProps,typeof _=="function"&&(vd(i,s,_,u),p.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(_=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),_!==p.state&&_d.enqueueReplaceState(p,p.state,null),jl(i,u,p,f),Ul(),p.state=i.memoizedState),typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!0}else if(n===null){p=i.stateNode;var w=i.memoizedProps,N=Ts(s,w);p.props=N;var z=p.context,ee=s.contextType;_=po,typeof ee=="object"&&ee!==null&&(_=Tn(ee));var se=s.getDerivedStateFromProps;ee=typeof se=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,ee||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||z!==_)&&tv(i,p,u,_),ha=!1;var K=i.memoizedState;p.state=K,jl(i,u,p,f),Ul(),z=i.memoizedState,w||K!==z||ha?(typeof se=="function"&&(vd(i,s,se,u),z=i.memoizedState),(N=ha||ev(i,s,N,u,K,z,_))?(ee||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(i.flags|=4194308)):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=u,i.memoizedState=z),p.props=u,p.state=z,p.context=_,u=N):(typeof p.componentDidMount=="function"&&(i.flags|=4194308),u=!1)}else{p=i.stateNode,Pd(n,i),_=i.memoizedProps,ee=Ts(s,_),p.props=ee,se=i.pendingProps,K=p.context,z=s.contextType,N=po,typeof z=="object"&&z!==null&&(N=Tn(z)),w=s.getDerivedStateFromProps,(z=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(_!==se||K!==N)&&tv(i,p,u,N),ha=!1,K=i.memoizedState,p.state=K,jl(i,u,p,f),Ul();var Z=i.memoizedState;_!==se||K!==Z||ha||n!==null&&n.dependencies!==null&&Lc(n.dependencies)?(typeof w=="function"&&(vd(i,s,w,u),Z=i.memoizedState),(ee=ha||ev(i,s,ee,u,K,Z,N)||n!==null&&n.dependencies!==null&&Lc(n.dependencies))?(z||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,Z,N),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,Z,N)),typeof p.componentDidUpdate=="function"&&(i.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),i.memoizedProps=u,i.memoizedState=Z),p.props=u,p.state=Z,p.context=N,u=ee):(typeof p.componentDidUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(i.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&K===n.memoizedState||(i.flags|=1024),u=!1)}return p=u,Vl(n,i),u=(i.flags&128)!==0,p||u?(p=i.stateNode,s=u&&typeof s.getDerivedStateFromError!="function"?null:p.render(),i.flags|=1,n!==null&&u?(i.child=gs(i,n.child,null,f),i.child=gs(i,null,s,f)):mn(n,i,s,f),i.memoizedState=p.state,n=i.child):n=Ci(n,i,f),n}function gv(n,i,s,u){return Sl(),i.flags|=256,mn(n,i,s,u),i.child}var bd={dehydrated:null,treeContext:null,retryLane:0};function wd(n){return{baseLanes:n,cachePool:vy()}}function Sd(n,i,s){return n=n!==null?n.childLanes&~s:0,i&&(n|=mr),n}function yv(n,i,s){var u=i.pendingProps,f=!1,p=(i.flags&128)!==0,_;if((_=p)||(_=n!==null&&n.memoizedState===null?!1:($t.current&2)!==0),_&&(f=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,n===null){if(ut){if(f?sa(i):oa(),ut){var w=dn,N;if(N=w){e:{for(N=w,w=Qr;N.nodeType!==8;){if(!w){w=null;break e}if(N=Ir(N.nextSibling),N===null){w=null;break e}}w=N}w!==null?(i.memoizedState={dehydrated:w,treeContext:ds!==null?{id:wi,overflow:Si}:null,retryLane:536870912},N=dr(18,null,null,0),N.stateNode=w,N.return=i,i.child=N,xn=i,dn=null,N=!0):N=!1}N||ps(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ai(i)}return w=u.children,u=u.fallback,f?(oa(),f=i.mode,w=Rd({mode:"hidden",children:w},f),u=As(u,f,s,null),w.return=i,u.return=i,w.sibling=u,i.child=w,f=i.child,f.memoizedState=wd(s),f.childLanes=Sd(n,_,s),i.memoizedState=bd,u):(sa(i),Ad(i,w))}if(N=n.memoizedState,N!==null&&(w=N.dehydrated,w!==null)){if(p)i.flags&256?(sa(i),i.flags&=-257,i=Cd(n,i,s)):i.memoizedState!==null?(oa(),i.child=n.child,i.flags|=128,i=null):(oa(),f=u.fallback,w=i.mode,u=Rd({mode:"visible",children:u.children},w),f=As(f,w,s,null),f.flags|=2,u.return=i,f.return=i,u.sibling=f,i.child=u,gs(i,n.child,null,s),u=i.child,u.memoizedState=wd(s),u.childLanes=Sd(n,_,s),i.memoizedState=bd,i=f);else if(sa(i),w.data==="$!"){if(_=w.nextSibling&&w.nextSibling.dataset,_)var z=_.dgst;_=z,u=Error(a(419)),u.stack="",u.digest=_,Al({value:u,source:null,stack:null}),i=Cd(n,i,s)}else if(on||Ll(n,i,s,!1),_=(s&n.childLanes)!==0,on||_){if(_=Tt,_!==null){if(u=s&-s,(u&42)!==0)u=1;else switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=64;break;case 268435456:u=134217728;break;default:u=0}if(u=(u&(_.suspendedLanes|s))!==0?0:u,u!==0&&u!==N.retryLane)throw N.retryLane=u,aa(n,u),On(_,n,u),lv}w.data==="$?"||tm(),i=Cd(n,i,s)}else w.data==="$?"?(i.flags|=128,i.child=n.child,i=TA.bind(null,n),w._reactRetry=i,i=null):(n=N.treeContext,dn=Ir(w.nextSibling),xn=i,ut=!0,Rr=null,Qr=!1,n!==null&&(lr[ur++]=wi,lr[ur++]=Si,lr[ur++]=ds,wi=n.id,Si=n.overflow,ds=i),i=Ad(i,u.children),i.flags|=4096);return i}return f?(oa(),f=u.fallback,w=i.mode,N=n.child,z=N.sibling,u=ya(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&31457280,z!==null?f=ya(z,f):(f=As(f,w,s,null),f.flags|=2),f.return=i,u.return=i,u.sibling=f,i.child=u,u=f,f=i.child,w=n.child.memoizedState,w===null?w=wd(s):(N=w.cachePool,N!==null?(z=Kt._currentValue,N=N.parent!==z?{parent:z,pool:z}:N):N=vy(),w={baseLanes:w.baseLanes|s,cachePool:N}),f.memoizedState=w,f.childLanes=Sd(n,_,s),i.memoizedState=bd,u):(sa(i),s=n.child,n=s.sibling,s=ya(s,{mode:"visible",children:u.children}),s.return=i,s.sibling=null,n!==null&&(_=i.deletions,_===null?(i.deletions=[n],i.flags|=16):_.push(n)),i.child=s,i.memoizedState=null,s)}function Ad(n,i){return i=Rd({mode:"visible",children:i},n.mode),i.return=n,n.child=i}function Rd(n,i){return Fv(n,i,0,null)}function Cd(n,i,s){return gs(i,n.child,null,s),n=Ad(i,i.pendingProps.children),n.flags|=2,i.memoizedState=null,n}function vv(n,i,s){n.lanes|=i;var u=n.alternate;u!==null&&(u.lanes|=i),xd(n.return,i,s)}function Id(n,i,s,u,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:u,tail:s,tailMode:f}:(p.isBackwards=i,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=s,p.tailMode=f)}function _v(n,i,s){var u=i.pendingProps,f=u.revealOrder,p=u.tail;if(mn(n,i,u.children,s),u=$t.current,(u&2)!==0)u=u&1|2,i.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=i.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&vv(n,s,i);else if(n.tag===19)vv(n,s,i);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===i)break e;for(;n.sibling===null;){if(n.return===null||n.return===i)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(Xe($t,u),f){case"forwards":for(s=i.child,f=null;s!==null;)n=s.alternate,n!==null&&Sc(n)===null&&(f=s),s=s.sibling;s=f,s===null?(f=i.child,i.child=null):(f=s.sibling,s.sibling=null),Id(i,!1,f,s,p);break;case"backwards":for(s=null,f=i.child,i.child=null;f!==null;){if(n=f.alternate,n!==null&&Sc(n)===null){i.child=f;break}n=f.sibling,f.sibling=s,s=f,f=n}Id(i,!0,s,null,p);break;case"together":Id(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ci(n,i,s){if(n!==null&&(i.dependencies=n.dependencies),va|=i.lanes,(s&i.childLanes)===0)if(n!==null){if(Ll(n,i,s,!1),(s&i.childLanes)===0)return null}else return null;if(n!==null&&i.child!==n.child)throw Error(a(153));if(i.child!==null){for(n=i.child,s=ya(n,n.pendingProps),i.child=s,s.return=i;n.sibling!==null;)n=n.sibling,s=s.sibling=ya(n,n.pendingProps),s.return=i;s.sibling=null}return i.child}function Dd(n,i){return(n.lanes&i)!==0?!0:(n=n.dependencies,!!(n!==null&&Lc(n)))}function oA(n,i,s){switch(i.tag){case 3:Lr(i,i.stateNode.containerInfo),ca(i,Kt,n.memoizedState.cache),Sl();break;case 27:case 5:Za(i);break;case 4:Lr(i,i.stateNode.containerInfo);break;case 10:ca(i,i.type,i.memoizedProps.value);break;case 13:var u=i.memoizedState;if(u!==null)return u.dehydrated!==null?(sa(i),i.flags|=128,null):(s&i.child.childLanes)!==0?yv(n,i,s):(sa(i),n=Ci(n,i,s),n!==null?n.sibling:null);sa(i);break;case 19:var f=(n.flags&128)!==0;if(u=(s&i.childLanes)!==0,u||(Ll(n,i,s,!1),u=(s&i.childLanes)!==0),f){if(u)return _v(n,i,s);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe($t,$t.current),u)break;return null;case 22:case 23:return i.lanes=0,fv(n,i,s);case 24:ca(i,Kt,n.memoizedState.cache)}return Ci(n,i,s)}function Ev(n,i,s){if(n!==null)if(n.memoizedProps!==i.pendingProps)on=!0;else{if(!Dd(n,s)&&(i.flags&128)===0)return on=!1,oA(n,i,s);on=(n.flags&131072)!==0}else on=!1,ut&&(i.flags&1048576)!==0&&iy(i,_c,i.index);switch(i.lanes=0,i.tag){case 16:e:{n=i.pendingProps;var u=i.elementType,f=u._init;if(u=f(u._payload),i.type=u,typeof u=="function")Fd(u)?(n=Ts(u,n),i.tag=1,i=pv(null,i,u,n,s)):(i.tag=0,i=Td(null,i,u,n,s));else{if(u!=null){if(f=u.$$typeof,f===L){i.tag=11,i=uv(null,i,u,n,s);break e}else if(f===W){i.tag=14,i=cv(null,i,u,n,s);break e}}throw i=C(u)||u,Error(a(306,i,""))}}return i;case 0:return Td(n,i,i.type,i.pendingProps,s);case 1:return u=i.type,f=Ts(u,i.pendingProps),pv(n,i,u,f,s);case 3:e:{if(Lr(i,i.stateNode.containerInfo),n===null)throw Error(a(387));var p=i.pendingProps;f=i.memoizedState,u=f.element,Pd(n,i),jl(i,p,null,s);var _=i.memoizedState;if(p=_.cache,ca(i,Kt,p),p!==f.cache&&Od(i,[Kt],s,!0),Ul(),p=_.element,f.isDehydrated)if(f={element:p,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=gv(n,i,p,s);break e}else if(p!==u){u=or(Error(a(424)),i),Al(u),i=gv(n,i,p,s);break e}else for(dn=Ir(i.stateNode.containerInfo.firstChild),xn=i,ut=!0,Rr=null,Qr=!0,s=dy(i,null,p,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Sl(),p===u){i=Ci(n,i,s);break e}mn(n,i,p,s)}i=i.child}return i;case 26:return Vl(n,i),n===null?(s=w_(i.type,null,i.pendingProps,null))?i.memoizedState=s:ut||(s=i.type,n=i.pendingProps,u=Zc(Ut.current).createElement(s),u[Ee]=i,u[xe]=n,pn(u,s,n),ht(u),i.stateNode=u):i.memoizedState=w_(i.type,n.memoizedProps,i.pendingProps,n.memoizedState),null;case 27:return Za(i),n===null&&ut&&(u=i.stateNode=E_(i.type,i.pendingProps,Ut.current),xn=i,Qr=!0,dn=Ir(u.firstChild)),u=i.pendingProps.children,n!==null||ut?mn(n,i,u,s):i.child=gs(i,null,u,s),Vl(n,i),i.child;case 5:return n===null&&ut&&((f=u=dn)&&(u=kA(u,i.type,i.pendingProps,Qr),u!==null?(i.stateNode=u,xn=i,dn=Ir(u.firstChild),Qr=!1,f=!0):f=!1),f||ps(i)),Za(i),f=i.type,p=i.pendingProps,_=n!==null?n.memoizedProps:null,u=p.children,pm(f,p)?u=null:_!==null&&pm(f,_)&&(i.flags|=32),i.memoizedState!==null&&(f=rd(n,i,eA,null,null,s),eu._currentValue=f),Vl(n,i),mn(n,i,u,s),i.child;case 6:return n===null&&ut&&((n=s=dn)&&(s=UA(s,i.pendingProps,Qr),s!==null?(i.stateNode=s,xn=i,dn=null,n=!0):n=!1),n||ps(i)),null;case 13:return yv(n,i,s);case 4:return Lr(i,i.stateNode.containerInfo),u=i.pendingProps,n===null?i.child=gs(i,null,u,s):mn(n,i,u,s),i.child;case 11:return uv(n,i,i.type,i.pendingProps,s);case 7:return mn(n,i,i.pendingProps,s),i.child;case 8:return mn(n,i,i.pendingProps.children,s),i.child;case 12:return mn(n,i,i.pendingProps.children,s),i.child;case 10:return u=i.pendingProps,ca(i,i.type,u.value),mn(n,i,u.children,s),i.child;case 9:return f=i.type._context,u=i.pendingProps.children,ws(i),f=Tn(f),u=u(f),i.flags|=1,mn(n,i,u,s),i.child;case 14:return cv(n,i,i.type,i.pendingProps,s);case 15:return hv(n,i,i.type,i.pendingProps,s);case 19:return _v(n,i,s);case 22:return fv(n,i,s);case 24:return ws(i),u=Tn(Kt),n===null?(f=td(),f===null&&(f=Tt,p=Jf(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=s),f=p),i.memoizedState={parent:u,cache:f},Md(i),ca(i,Kt,f)):((n.lanes&s)!==0&&(Pd(n,i),jl(i,null,null,s),Ul()),f=n.memoizedState,p=i.memoizedState,f.parent!==u?(f={parent:u,cache:u},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),ca(i,Kt,u)):(u=p.cache,ca(i,Kt,u),u!==f.cache&&Od(i,[Kt],s,!0))),mn(n,i,i.pendingProps.children,s),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}var Nd=tt(null),bs=null,Ii=null;function ca(n,i,s){Xe(Nd,i._currentValue),i._currentValue=s}function Di(n){n._currentValue=Nd.current,Ke(Nd)}function xd(n,i,s){for(;n!==null;){var u=n.alternate;if((n.childLanes&i)!==i?(n.childLanes|=i,u!==null&&(u.childLanes|=i)):u!==null&&(u.childLanes&i)!==i&&(u.childLanes|=i),n===s)break;n=n.return}}function Od(n,i,s,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var _=f.child;p=p.firstContext;e:for(;p!==null;){var w=p;p=f;for(var N=0;N<i.length;N++)if(w.context===i[N]){p.lanes|=s,w=p.alternate,w!==null&&(w.lanes|=s),xd(p.return,s,n),u||(_=null);break e}p=w.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(a(341));_.lanes|=s,p=_.alternate,p!==null&&(p.lanes|=s),xd(_,s,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Ll(n,i,s,u){n=null;for(var f=i,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(a(387));if(_=_.memoizedProps,_!==null){var w=f.type;Fn(f.pendingProps.value,_.value)||(n!==null?n.push(w):n=[w])}}else if(f===Vr.current){if(_=f.alternate,_===null)throw Error(a(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(eu):n=[eu])}f=f.return}n!==null&&Od(i,n,s,u),i.flags|=262144}function Lc(n){for(n=n.firstContext;n!==null;){if(!Fn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ws(n){bs=n,Ii=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Tn(n){return Tv(bs,n)}function kc(n,i){return bs===null&&ws(n),Tv(n,i)}function Tv(n,i){var s=i._currentValue;if(i={context:i,memoizedValue:s,next:null},Ii===null){if(n===null)throw Error(a(308));Ii=i,n.dependencies={lanes:0,firstContext:i},n.flags|=524288}else Ii=Ii.next=i;return s}var ha=!1;function Md(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pd(n,i){n=n.updateQueue,i.updateQueue===n&&(i.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function fa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function da(n,i,s){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Ct&2)!==0){var f=u.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),u.pending=i,i=yc(n),ny(n,null,s),i}return gc(n,u,i,s),yc(n)}function kl(n,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194176)!==0)){var u=i.lanes;u&=n.pendingLanes,s|=u,i.lanes=s,Re(n,s)}}function Vd(n,i){var s=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,s===u)){var f=null,p=null;if(s=s.firstBaseUpdate,s!==null){do{var _={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};p===null?f=p=_:p=p.next=_,s=s.next}while(s!==null);p===null?f=p=i:p=p.next=i}else f=p=i;s={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=s;return}n=s.lastBaseUpdate,n===null?s.firstBaseUpdate=i:n.next=i,s.lastBaseUpdate=i}var Ld=!1;function Ul(){if(Ld){var n=To;if(n!==null)throw n}}function jl(n,i,s,u){Ld=!1;var f=n.updateQueue;ha=!1;var p=f.firstBaseUpdate,_=f.lastBaseUpdate,w=f.shared.pending;if(w!==null){f.shared.pending=null;var N=w,z=N.next;N.next=null,_===null?p=z:_.next=z,_=N;var ee=n.alternate;ee!==null&&(ee=ee.updateQueue,w=ee.lastBaseUpdate,w!==_&&(w===null?ee.firstBaseUpdate=z:w.next=z,ee.lastBaseUpdate=N))}if(p!==null){var se=f.baseState;_=0,ee=z=N=null,w=p;do{var K=w.lane&-536870913,Z=K!==w.lane;if(Z?(it&K)===K:(u&K)===K){K!==0&&K===Eo&&(Ld=!0),ee!==null&&(ee=ee.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var Ae=n,je=w;K=i;var Mt=s;switch(je.tag){case 1:if(Ae=je.payload,typeof Ae=="function"){se=Ae.call(Mt,se,K);break e}se=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=je.payload,K=typeof Ae=="function"?Ae.call(Mt,se,K):Ae,K==null)break e;se=I({},se,K);break e;case 2:ha=!0}}K=w.callback,K!==null&&(n.flags|=64,Z&&(n.flags|=8192),Z=f.callbacks,Z===null?f.callbacks=[K]:Z.push(K))}else Z={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},ee===null?(z=ee=Z,N=se):ee=ee.next=Z,_|=K;if(w=w.next,w===null){if(w=f.shared.pending,w===null)break;Z=w,w=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);ee===null&&(N=se),f.baseState=N,f.firstBaseUpdate=z,f.lastBaseUpdate=ee,p===null&&(f.shared.lanes=0),va|=_,n.lanes=_,n.memoizedState=se}}function bv(n,i){if(typeof n!="function")throw Error(a(191,n));n.call(i)}function wv(n,i){var s=n.callbacks;if(s!==null)for(n.callbacks=null,n=0;n<s.length;n++)bv(s[n],i)}function zl(n,i){try{var s=i.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var f=u.next;s=f;do{if((s.tag&n)===n){u=void 0;var p=s.create,_=s.inst;u=p(),_.destroy=u}s=s.next}while(s!==f)}}catch(w){_t(i,i.return,w)}}function ma(n,i,s){try{var u=i.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var p=f.next;u=p;do{if((u.tag&n)===n){var _=u.inst,w=_.destroy;if(w!==void 0){_.destroy=void 0,f=i;var N=s;try{w()}catch(z){_t(f,N,z)}}}u=u.next}while(u!==p)}}catch(z){_t(i,i.return,z)}}function Sv(n){var i=n.updateQueue;if(i!==null){var s=n.stateNode;try{wv(i,s)}catch(u){_t(n,n.return,u)}}}function Av(n,i,s){s.props=Ts(n.type,n.memoizedProps),s.state=n.memoizedState;try{s.componentWillUnmount()}catch(u){_t(n,i,u)}}function Ss(n,i){try{var s=n.ref;if(s!==null){var u=n.stateNode;switch(n.tag){case 26:case 27:case 5:var f=u;break;default:f=u}typeof s=="function"?n.refCleanup=s(f):s.current=f}}catch(p){_t(n,i,p)}}function qn(n,i){var s=n.ref,u=n.refCleanup;if(s!==null)if(typeof u=="function")try{u()}catch(f){_t(n,i,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(f){_t(n,i,f)}else s.current=null}function Rv(n){var i=n.type,s=n.memoizedProps,u=n.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":s.autoFocus&&u.focus();break e;case"img":s.src?u.src=s.src:s.srcSet&&(u.srcset=s.srcSet)}}catch(f){_t(n,n.return,f)}}function Cv(n,i,s){try{var u=n.stateNode;OA(u,n.type,s,i),u[xe]=i}catch(f){_t(n,n.return,f)}}function Iv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27||n.tag===4}function kd(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Iv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==27&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Ud(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(n,i):s.insertBefore(n,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(n,s)):(i=s,i.appendChild(n)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Wc));else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Ud(n,i,s),n=n.sibling;n!==null;)Ud(n,i,s),n=n.sibling}function Uc(n,i,s){var u=n.tag;if(u===5||u===6)n=n.stateNode,i?s.insertBefore(n,i):s.appendChild(n);else if(u!==4&&u!==27&&(n=n.child,n!==null))for(Uc(n,i,s),n=n.sibling;n!==null;)Uc(n,i,s),n=n.sibling}var Ni=!1,xt=!1,jd=!1,Dv=typeof WeakSet=="function"?WeakSet:Set,ln=null,Nv=!1;function lA(n,i){if(n=n.containerInfo,dm=ih,n=Kg(n),Bf(n)){if("selectionStart"in n)var s={start:n.selectionStart,end:n.selectionEnd};else e:{s=(s=n.ownerDocument)&&s.defaultView||window;var u=s.getSelection&&s.getSelection();if(u&&u.rangeCount!==0){s=u.anchorNode;var f=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{s.nodeType,p.nodeType}catch{s=null;break e}var _=0,w=-1,N=-1,z=0,ee=0,se=n,K=null;t:for(;;){for(var Z;se!==s||f!==0&&se.nodeType!==3||(w=_+f),se!==p||u!==0&&se.nodeType!==3||(N=_+u),se.nodeType===3&&(_+=se.nodeValue.length),(Z=se.firstChild)!==null;)K=se,se=Z;for(;;){if(se===n)break t;if(K===s&&++z===f&&(w=_),K===p&&++ee===u&&(N=_),(Z=se.nextSibling)!==null)break;se=K,K=se.parentNode}se=Z}s=w===-1||N===-1?null:{start:w,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(mm={focusedElem:n,selectionRange:s},ih=!1,ln=i;ln!==null;)if(i=ln,n=i.child,(i.subtreeFlags&1028)!==0&&n!==null)n.return=i,ln=n;else for(;ln!==null;){switch(i=ln,p=i.alternate,n=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,s=i,f=p.memoizedProps,p=p.memoizedState,u=s.stateNode;try{var Ae=Ts(s.type,f,s.elementType===s.type);n=u.getSnapshotBeforeUpdate(Ae,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(je){_t(s,s.return,je)}}break;case 3:if((n&1024)!==0){if(n=i.stateNode.containerInfo,s=n.nodeType,s===9)vm(n);else if(s===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":vm(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(a(163))}if(n=i.sibling,n!==null){n.return=i.return,ln=n;break}ln=i.return}return Ae=Nv,Nv=!1,Ae}function xv(n,i,s){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Oi(n,s),u&4&&zl(5,s);break;case 1:if(Oi(n,s),u&4)if(n=s.stateNode,i===null)try{n.componentDidMount()}catch(w){_t(s,s.return,w)}else{var f=Ts(s.type,i.memoizedProps);i=i.memoizedState;try{n.componentDidUpdate(f,i,n.__reactInternalSnapshotBeforeUpdate)}catch(w){_t(s,s.return,w)}}u&64&&Sv(s),u&512&&Ss(s,s.return);break;case 3:if(Oi(n,s),u&64&&(u=s.updateQueue,u!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{wv(u,n)}catch(w){_t(s,s.return,w)}}break;case 26:Oi(n,s),u&512&&Ss(s,s.return);break;case 27:case 5:Oi(n,s),i===null&&u&4&&Rv(s),u&512&&Ss(s,s.return);break;case 12:Oi(n,s);break;case 13:Oi(n,s),u&4&&Pv(n,s);break;case 22:if(f=s.memoizedState!==null||Ni,!f){i=i!==null&&i.memoizedState!==null||xt;var p=Ni,_=xt;Ni=f,(xt=i)&&!_?pa(n,s,(s.subtreeFlags&8772)!==0):Oi(n,s),Ni=p,xt=_}u&512&&(s.memoizedProps.mode==="manual"?Ss(s,s.return):qn(s,s.return));break;default:Oi(n,s)}}function Ov(n){var i=n.alternate;i!==null&&(n.alternate=null,Ov(i)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(i=n.stateNode,i!==null&&Hn(i)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ht=null,Gn=!1;function xi(n,i,s){for(s=s.child;s!==null;)Mv(n,i,s),s=s.sibling}function Mv(n,i,s){if(tn&&typeof tn.onCommitFiberUnmount=="function")try{tn.onCommitFiberUnmount(br,s)}catch{}switch(s.tag){case 26:xt||qn(s,i),xi(n,i,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xt||qn(s,i);var u=Ht,f=Gn;for(Ht=s.stateNode,xi(n,i,s),s=s.stateNode,i=s.attributes;i.length;)s.removeAttributeNode(i[0]);Hn(s),Ht=u,Gn=f;break;case 5:xt||qn(s,i);case 6:f=Ht;var p=Gn;if(Ht=null,xi(n,i,s),Ht=f,Gn=p,Ht!==null)if(Gn)try{n=Ht,u=s.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)}catch(_){_t(s,i,_)}else try{Ht.removeChild(s.stateNode)}catch(_){_t(s,i,_)}break;case 18:Ht!==null&&(Gn?(i=Ht,s=s.stateNode,i.nodeType===8?ym(i.parentNode,s):i.nodeType===1&&ym(i,s),iu(i)):ym(Ht,s.stateNode));break;case 4:u=Ht,f=Gn,Ht=s.stateNode.containerInfo,Gn=!0,xi(n,i,s),Ht=u,Gn=f;break;case 0:case 11:case 14:case 15:xt||ma(2,s,i),xt||ma(4,s,i),xi(n,i,s);break;case 1:xt||(qn(s,i),u=s.stateNode,typeof u.componentWillUnmount=="function"&&Av(s,i,u)),xi(n,i,s);break;case 21:xi(n,i,s);break;case 22:xt||qn(s,i),xt=(u=xt)||s.memoizedState!==null,xi(n,i,s),xt=u;break;default:xi(n,i,s)}}function Pv(n,i){if(i.memoizedState===null&&(n=i.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{iu(n)}catch(s){_t(i,i.return,s)}}function uA(n){switch(n.tag){case 13:case 19:var i=n.stateNode;return i===null&&(i=n.stateNode=new Dv),i;case 22:return n=n.stateNode,i=n._retryCache,i===null&&(i=n._retryCache=new Dv),i;default:throw Error(a(435,n.tag))}}function zd(n,i){var s=uA(n);i.forEach(function(u){var f=bA.bind(null,n,u);s.has(u)||(s.add(u),u.then(f,f))})}function hr(n,i){var s=i.deletions;if(s!==null)for(var u=0;u<s.length;u++){var f=s[u],p=n,_=i,w=_;e:for(;w!==null;){switch(w.tag){case 27:case 5:Ht=w.stateNode,Gn=!1;break e;case 3:Ht=w.stateNode.containerInfo,Gn=!0;break e;case 4:Ht=w.stateNode.containerInfo,Gn=!0;break e}w=w.return}if(Ht===null)throw Error(a(160));Mv(p,_,f),Ht=null,Gn=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Vv(i,n),i=i.sibling}var Cr=null;function Vv(n,i){var s=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:hr(i,n),fr(n),u&4&&(ma(3,n,n.return),zl(3,n),ma(5,n,n.return));break;case 1:hr(i,n),fr(n),u&512&&(xt||s===null||qn(s,s.return)),u&64&&Ni&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(s=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=s===null?u:s.concat(u))));break;case 26:var f=Cr;if(hr(i,n),fr(n),u&512&&(xt||s===null||qn(s,s.return)),u&4){var p=s!==null?s.memoizedState:null;if(u=n.memoizedState,s===null)if(u===null)if(n.stateNode===null){e:{u=n.type,s=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":p=f.getElementsByTagName("title")[0],(!p||p[In]||p[Ee]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(u),f.head.insertBefore(p,f.querySelector("head > title"))),pn(p,u,s),p[Ee]=n,ht(p),u=p;break e;case"link":var _=R_("link","href",f).get(u+(s.href||""));if(_){for(var w=0;w<_.length;w++)if(p=_[w],p.getAttribute("href")===(s.href==null?null:s.href)&&p.getAttribute("rel")===(s.rel==null?null:s.rel)&&p.getAttribute("title")===(s.title==null?null:s.title)&&p.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){_.splice(w,1);break t}}p=f.createElement(u),pn(p,u,s),f.head.appendChild(p);break;case"meta":if(_=R_("meta","content",f).get(u+(s.content||""))){for(w=0;w<_.length;w++)if(p=_[w],p.getAttribute("content")===(s.content==null?null:""+s.content)&&p.getAttribute("name")===(s.name==null?null:s.name)&&p.getAttribute("property")===(s.property==null?null:s.property)&&p.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&p.getAttribute("charset")===(s.charSet==null?null:s.charSet)){_.splice(w,1);break t}}p=f.createElement(u),pn(p,u,s),f.head.appendChild(p);break;default:throw Error(a(468,u))}p[Ee]=n,ht(p),u=p}n.stateNode=u}else C_(f,n.type,n.stateNode);else n.stateNode=A_(f,u,n.memoizedProps);else p!==u?(p===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):p.count--,u===null?C_(f,n.type,n.stateNode):A_(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Cv(n,n.memoizedProps,s.memoizedProps)}break;case 27:if(u&4&&n.alternate===null){f=n.stateNode,p=n.memoizedProps;try{for(var N=f.firstChild;N;){var z=N.nextSibling,ee=N.nodeName;N[In]||ee==="HEAD"||ee==="BODY"||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&N.rel.toLowerCase()==="stylesheet"||f.removeChild(N),N=z}for(var se=n.type,K=f.attributes;K.length;)f.removeAttributeNode(K[0]);pn(f,se,p),f[Ee]=n,f[xe]=p}catch(Ae){_t(n,n.return,Ae)}}case 5:if(hr(i,n),fr(n),u&512&&(xt||s===null||qn(s,s.return)),n.flags&32){f=n.stateNode;try{nr(f,"")}catch(Ae){_t(n,n.return,Ae)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Cv(n,f,s!==null?s.memoizedProps:f)),u&1024&&(jd=!0);break;case 6:if(hr(i,n),fr(n),u&4){if(n.stateNode===null)throw Error(a(162));u=n.memoizedProps,s=n.stateNode;try{s.nodeValue=u}catch(Ae){_t(n,n.return,Ae)}}break;case 3:if(th=null,f=Cr,Cr=Jc(i.containerInfo),hr(i,n),Cr=f,fr(n),u&4&&s!==null&&s.memoizedState.isDehydrated)try{iu(i.containerInfo)}catch(Ae){_t(n,n.return,Ae)}jd&&(jd=!1,Lv(n));break;case 4:u=Cr,Cr=Jc(n.stateNode.containerInfo),hr(i,n),fr(n),Cr=u;break;case 12:hr(i,n),fr(n);break;case 13:hr(i,n),fr(n),n.child.flags&8192&&n.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Yd=en()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zd(n,u)));break;case 22:if(u&512&&(xt||s===null||qn(s,s.return)),N=n.memoizedState!==null,z=s!==null&&s.memoizedState!==null,ee=Ni,se=xt,Ni=ee||N,xt=se||z,hr(i,n),xt=se,Ni=ee,fr(n),i=n.stateNode,i._current=n,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,u&8192&&(i._visibility=N?i._visibility&-2:i._visibility|1,N&&(i=Ni||xt,s===null||z||i||Ao(n)),n.memoizedProps===null||n.memoizedProps.mode!=="manual"))e:for(s=null,i=n;;){if(i.tag===5||i.tag===26||i.tag===27){if(s===null){z=s=i;try{if(f=z.stateNode,N)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{_=z.stateNode,w=z.memoizedProps.style;var Z=w!=null&&w.hasOwnProperty("display")?w.display:null;_.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(Ae){_t(z,z.return,Ae)}}}else if(i.tag===6){if(s===null){z=i;try{z.stateNode.nodeValue=N?"":z.memoizedProps}catch(Ae){_t(z,z.return,Ae)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===n)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===n)break e;for(;i.sibling===null;){if(i.return===null||i.return===n)break e;s===i&&(s=null),i=i.return}s===i&&(s=null),i.sibling.return=i.return,i=i.sibling}u&4&&(u=n.updateQueue,u!==null&&(s=u.retryQueue,s!==null&&(u.retryQueue=null,zd(n,s))));break;case 19:hr(i,n),fr(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,zd(n,u)));break;case 21:break;default:hr(i,n),fr(n)}}function fr(n){var i=n.flags;if(i&2){try{if(n.tag!==27){e:{for(var s=n.return;s!==null;){if(Iv(s)){var u=s;break e}s=s.return}throw Error(a(160))}switch(u.tag){case 27:var f=u.stateNode,p=kd(n);Uc(n,p,f);break;case 5:var _=u.stateNode;u.flags&32&&(nr(_,""),u.flags&=-33);var w=kd(n);Uc(n,w,_);break;case 3:case 4:var N=u.stateNode.containerInfo,z=kd(n);Ud(n,z,N);break;default:throw Error(a(161))}}}catch(ee){_t(n,n.return,ee)}n.flags&=-3}i&4096&&(n.flags&=-4097)}function Lv(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var i=n;Lv(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),n=n.sibling}}function Oi(n,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)xv(n,i.alternate,i),i=i.sibling}function Ao(n){for(n=n.child;n!==null;){var i=n;switch(i.tag){case 0:case 11:case 14:case 15:ma(4,i,i.return),Ao(i);break;case 1:qn(i,i.return);var s=i.stateNode;typeof s.componentWillUnmount=="function"&&Av(i,i.return,s),Ao(i);break;case 26:case 27:case 5:qn(i,i.return),Ao(i);break;case 22:qn(i,i.return),i.memoizedState===null&&Ao(i);break;default:Ao(i)}n=n.sibling}}function pa(n,i,s){for(s=s&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var u=i.alternate,f=n,p=i,_=p.flags;switch(p.tag){case 0:case 11:case 15:pa(f,p,s),zl(4,p);break;case 1:if(pa(f,p,s),u=p,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){_t(u,u.return,z)}if(u=p,f=u.updateQueue,f!==null){var w=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)bv(N[f],w)}catch(z){_t(u,u.return,z)}}s&&_&64&&Sv(p),Ss(p,p.return);break;case 26:case 27:case 5:pa(f,p,s),s&&u===null&&_&4&&Rv(p),Ss(p,p.return);break;case 12:pa(f,p,s);break;case 13:pa(f,p,s),s&&_&4&&Pv(f,p);break;case 22:p.memoizedState===null&&pa(f,p,s),Ss(p,p.return);break;default:pa(f,p,s)}i=i.sibling}}function Bd(n,i){var s=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),n=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(n=i.memoizedState.cachePool.pool),n!==s&&(n!=null&&n.refCount++,s!=null&&Nl(s))}function Hd(n,i){n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n))}function ga(n,i,s,u){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)kv(n,i,s,u),i=i.sibling}function kv(n,i,s,u){var f=i.flags;switch(i.tag){case 0:case 11:case 15:ga(n,i,s,u),f&2048&&zl(9,i);break;case 3:ga(n,i,s,u),f&2048&&(n=null,i.alternate!==null&&(n=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==n&&(i.refCount++,n!=null&&Nl(n)));break;case 12:if(f&2048){ga(n,i,s,u),n=i.stateNode;try{var p=i.memoizedProps,_=p.id,w=p.onPostCommit;typeof w=="function"&&w(_,i.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){_t(i,i.return,N)}}else ga(n,i,s,u);break;case 23:break;case 22:p=i.stateNode,i.memoizedState!==null?p._visibility&4?ga(n,i,s,u):Bl(n,i):p._visibility&4?ga(n,i,s,u):(p._visibility|=4,Ro(n,i,s,u,(i.subtreeFlags&10256)!==0)),f&2048&&Bd(i.alternate,i);break;case 24:ga(n,i,s,u),f&2048&&Hd(i.alternate,i);break;default:ga(n,i,s,u)}}function Ro(n,i,s,u,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var p=n,_=i,w=s,N=u,z=_.flags;switch(_.tag){case 0:case 11:case 15:Ro(p,_,w,N,f),zl(8,_);break;case 23:break;case 22:var ee=_.stateNode;_.memoizedState!==null?ee._visibility&4?Ro(p,_,w,N,f):Bl(p,_):(ee._visibility|=4,Ro(p,_,w,N,f)),f&&z&2048&&Bd(_.alternate,_);break;case 24:Ro(p,_,w,N,f),f&&z&2048&&Hd(_.alternate,_);break;default:Ro(p,_,w,N,f)}i=i.sibling}}function Bl(n,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var s=n,u=i,f=u.flags;switch(u.tag){case 22:Bl(s,u),f&2048&&Bd(u.alternate,u);break;case 24:Bl(s,u),f&2048&&Hd(u.alternate,u);break;default:Bl(s,u)}i=i.sibling}}var Hl=8192;function Co(n){if(n.subtreeFlags&Hl)for(n=n.child;n!==null;)Uv(n),n=n.sibling}function Uv(n){switch(n.tag){case 26:Co(n),n.flags&Hl&&n.memoizedState!==null&&WA(Cr,n.memoizedState,n.memoizedProps);break;case 5:Co(n);break;case 3:case 4:var i=Cr;Cr=Jc(n.stateNode.containerInfo),Co(n),Cr=i;break;case 22:n.memoizedState===null&&(i=n.alternate,i!==null&&i.memoizedState!==null?(i=Hl,Hl=16777216,Co(n),Hl=i):Co(n));break;default:Co(n)}}function jv(n){var i=n.alternate;if(i!==null&&(n=i.child,n!==null)){i.child=null;do i=n.sibling,n.sibling=null,n=i;while(n!==null)}}function Fl(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];ln=u,Bv(u,n)}jv(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)zv(n),n=n.sibling}function zv(n){switch(n.tag){case 0:case 11:case 15:Fl(n),n.flags&2048&&ma(9,n,n.return);break;case 3:Fl(n);break;case 12:Fl(n);break;case 22:var i=n.stateNode;n.memoizedState!==null&&i._visibility&4&&(n.return===null||n.return.tag!==13)?(i._visibility&=-5,jc(n)):Fl(n);break;default:Fl(n)}}function jc(n){var i=n.deletions;if((n.flags&16)!==0){if(i!==null)for(var s=0;s<i.length;s++){var u=i[s];ln=u,Bv(u,n)}jv(n)}for(n=n.child;n!==null;){switch(i=n,i.tag){case 0:case 11:case 15:ma(8,i,i.return),jc(i);break;case 22:s=i.stateNode,s._visibility&4&&(s._visibility&=-5,jc(i));break;default:jc(i)}n=n.sibling}}function Bv(n,i){for(;ln!==null;){var s=ln;switch(s.tag){case 0:case 11:case 15:ma(8,s,i);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var u=s.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Nl(s.memoizedState.cache)}if(u=s.child,u!==null)u.return=s,ln=u;else e:for(s=n;ln!==null;){u=ln;var f=u.sibling,p=u.return;if(Ov(u),u===s){ln=null;break e}if(f!==null){f.return=p,ln=f;break e}ln=p}}}function cA(n,i,s,u){this.tag=n,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dr(n,i,s,u){return new cA(n,i,s,u)}function Fd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function ya(n,i){var s=n.alternate;return s===null?(s=dr(n.tag,i,n.key,n.mode),s.elementType=n.elementType,s.type=n.type,s.stateNode=n.stateNode,s.alternate=n,n.alternate=s):(s.pendingProps=i,s.type=n.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=n.flags&31457280,s.childLanes=n.childLanes,s.lanes=n.lanes,s.child=n.child,s.memoizedProps=n.memoizedProps,s.memoizedState=n.memoizedState,s.updateQueue=n.updateQueue,i=n.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=n.sibling,s.index=n.index,s.ref=n.ref,s.refCleanup=n.refCleanup,s}function Hv(n,i){n.flags&=31457282;var s=n.alternate;return s===null?(n.childLanes=0,n.lanes=i,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=s.childLanes,n.lanes=s.lanes,n.child=s.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=s.memoizedProps,n.memoizedState=s.memoizedState,n.updateQueue=s.updateQueue,n.type=s.type,i=s.dependencies,n.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),n}function zc(n,i,s,u,f,p){var _=0;if(u=n,typeof n=="function")Fd(n)&&(_=1);else if(typeof n=="string")_=YA(n,s,Jt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case m:return As(s.children,f,p,i);case g:_=8,f|=24;break;case E:return n=dr(12,s,i,f|2),n.elementType=E,n.lanes=p,n;case Y:return n=dr(13,s,i,f),n.elementType=Y,n.lanes=p,n;case H:return n=dr(19,s,i,f),n.elementType=H,n.lanes=p,n;case ae:return Fv(s,f,p,i);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:case D:_=10;break e;case R:_=9;break e;case L:_=11;break e;case W:_=14;break e;case J:_=16,u=null;break e}_=29,s=Error(a(130,n===null?"null":typeof n,"")),u=null}return i=dr(_,s,i,f),i.elementType=n,i.type=u,i.lanes=p,i}function As(n,i,s,u){return n=dr(7,n,u,i),n.lanes=s,n}function Fv(n,i,s,u){n=dr(22,n,u,i),n.elementType=ae,n.lanes=s;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var p=f._current;if(p===null)throw Error(a(456));if((f._pendingVisibility&2)===0){var _=aa(p,2);_!==null&&(f._pendingVisibility|=2,On(_,p,2))}},attach:function(){var p=f._current;if(p===null)throw Error(a(456));if((f._pendingVisibility&2)!==0){var _=aa(p,2);_!==null&&(f._pendingVisibility&=-3,On(_,p,2))}}};return n.stateNode=f,n}function qd(n,i,s){return n=dr(6,n,null,i),n.lanes=s,n}function Gd(n,i,s){return i=dr(4,n.children!==null?n.children:[],n.key,i),i.lanes=s,i.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},i}function Mi(n){n.flags|=4}function qv(n,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!I_(i)){if(i=cr.current,i!==null&&((it&4194176)===it?Yr!==null:(it&62914560)!==it&&(it&536870912)===0||i!==Yr))throw Cl=Xf,oy;n.flags|=8192}}function Bc(n,i){i!==null&&(n.flags|=4),n.flags&16384&&(i=n.tag!==22?F():536870912,n.lanes|=i,Do|=i)}function ql(n,i){if(!ut)switch(n.tailMode){case"hidden":i=n.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?n.tail=null:s.sibling=null;break;case"collapsed":s=n.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Rt(n){var i=n.alternate!==null&&n.alternate.child===n.child,s=0,u=0;if(i)for(var f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags&31457280,u|=f.flags&31457280,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)s|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=s,i}function hA(n,i,s){var u=i.pendingProps;switch(Qf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(i),null;case 1:return Rt(i),null;case 3:return s=i.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),i.memoizedState.cache!==u&&(i.flags|=2048),Di(Kt),Wn(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(wl(i)?Mi(i):n===null||n.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Rr!==null&&(Jd(Rr),Rr=null))),Rt(i),null;case 26:return s=i.memoizedState,n===null?(Mi(i),s!==null?(Rt(i),qv(i,s)):(Rt(i),i.flags&=-16777217)):s?s!==n.memoizedState?(Mi(i),Rt(i),qv(i,s)):(Rt(i),i.flags&=-16777217):(n.memoizedProps!==u&&Mi(i),Rt(i),i.flags&=-16777217),null;case 27:Xi(i),s=Ut.current;var f=i.type;if(n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Mi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}n=Jt.current,wl(i)?ay(i):(n=E_(f,u,s),i.stateNode=n,Mi(i))}return Rt(i),null;case 5:if(Xi(i),s=i.type,n!==null&&i.stateNode!=null)n.memoizedProps!==u&&Mi(i);else{if(!u){if(i.stateNode===null)throw Error(a(166));return Rt(i),null}if(n=Jt.current,wl(i))ay(i);else{switch(f=Zc(Ut.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?f.createElement(s,{is:u.is}):f.createElement(s)}}n[Ee]=i,n[xe]=u;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=n;e:switch(pn(n,s,u),s){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Mi(i)}}return Rt(i),i.flags&=-16777217,null;case 6:if(n&&i.stateNode!=null)n.memoizedProps!==u&&Mi(i);else{if(typeof u!="string"&&i.stateNode===null)throw Error(a(166));if(n=Ut.current,wl(i)){if(n=i.stateNode,s=i.memoizedProps,u=null,f=xn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ee]=i,n=!!(n.nodeValue===s||u!==null&&u.suppressHydrationWarning===!0||m_(n.nodeValue,s)),n||ps(i)}else n=Zc(n).createTextNode(u),n[Ee]=i,i.stateNode=n}return Rt(i),null;case 13:if(u=i.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=wl(i),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(a(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f[Ee]=i}else Sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Rt(i),f=!1}else Rr!==null&&(Jd(Rr),Rr=null),f=!0;if(!f)return i.flags&256?(Ai(i),i):(Ai(i),null)}if(Ai(i),(i.flags&128)!==0)return i.lanes=s,i;if(s=u!==null,n=n!==null&&n.memoizedState!==null,s){u=i.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==f&&(u.flags|=2048)}return s!==n&&s&&(i.child.flags|=8192),Bc(i,i.updateQueue),Rt(i),null;case 4:return Wn(),n===null&&cm(i.stateNode.containerInfo),Rt(i),null;case 10:return Di(i.type),Rt(i),null;case 19:if(Ke($t),f=i.memoizedState,f===null)return Rt(i),null;if(u=(i.flags&128)!==0,p=f.rendering,p===null)if(u)ql(f,!1);else{if(Ot!==0||n!==null&&(n.flags&128)!==0)for(n=i.child;n!==null;){if(p=Sc(n),p!==null){for(i.flags|=128,ql(f,!1),n=p.updateQueue,i.updateQueue=n,Bc(i,n),i.subtreeFlags=0,n=s,s=i.child;s!==null;)Hv(s,n),s=s.sibling;return Xe($t,$t.current&1|2),i.child}n=n.sibling}f.tail!==null&&en()>Hc&&(i.flags|=128,u=!0,ql(f,!1),i.lanes=4194304)}else{if(!u)if(n=Sc(p),n!==null){if(i.flags|=128,u=!0,n=n.updateQueue,i.updateQueue=n,Bc(i,n),ql(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!ut)return Rt(i),null}else 2*en()-f.renderingStartTime>Hc&&s!==536870912&&(i.flags|=128,u=!0,ql(f,!1),i.lanes=4194304);f.isBackwards?(p.sibling=i.child,i.child=p):(n=f.last,n!==null?n.sibling=p:i.child=p,f.last=p)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=en(),i.sibling=null,n=$t.current,Xe($t,u?n&1|2:n&1),i):(Rt(i),null);case 22:case 23:return Ai(i),Zf(),u=i.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(i.flags|=8192):u&&(i.flags|=8192),u?(s&536870912)!==0&&(i.flags&128)===0&&(Rt(i),i.subtreeFlags&6&&(i.flags|=8192)):Rt(i),s=i.updateQueue,s!==null&&Bc(i,s.retryQueue),s=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==s&&(i.flags|=2048),n!==null&&Ke(ys),null;case 24:return s=null,n!==null&&(s=n.memoizedState.cache),i.memoizedState.cache!==s&&(i.flags|=2048),Di(Kt),Rt(i),null;case 25:return null}throw Error(a(156,i.tag))}function fA(n,i){switch(Qf(i),i.tag){case 1:return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 3:return Di(Kt),Wn(),n=i.flags,(n&65536)!==0&&(n&128)===0?(i.flags=n&-65537|128,i):null;case 26:case 27:case 5:return Xi(i),null;case 13:if(Ai(i),n=i.memoizedState,n!==null&&n.dehydrated!==null){if(i.alternate===null)throw Error(a(340));Sl()}return n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 19:return Ke($t),null;case 4:return Wn(),null;case 10:return Di(i.type),null;case 22:case 23:return Ai(i),Zf(),n!==null&&Ke(ys),n=i.flags,n&65536?(i.flags=n&-65537|128,i):null;case 24:return Di(Kt),null;case 25:return null;default:return null}}function Gv(n,i){switch(Qf(i),i.tag){case 3:Di(Kt),Wn();break;case 26:case 27:case 5:Xi(i);break;case 4:Wn();break;case 13:Ai(i);break;case 19:Ke($t);break;case 10:Di(i.type);break;case 22:case 23:Ai(i),Zf(),n!==null&&Ke(ys);break;case 24:Di(Kt)}}var dA={getCacheForType:function(n){var i=Tn(Kt),s=i.data.get(n);return s===void 0&&(s=n(),i.data.set(n,s)),s}},mA=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Tt=null,Ye=null,it=0,bt=0,$n=null,Pi=!1,Io=!1,$d=!1,Vi=0,Ot=0,va=0,Rs=0,Kd=0,mr=0,Do=0,Gl=null,Wr=null,Qd=!1,Yd=0,Hc=1/0,Fc=null,_a=null,qc=!1,Cs=null,$l=0,Xd=0,Wd=null,Kl=0,Zd=null;function Kn(){if((Ct&2)!==0&&it!==0)return it&-it;if(A.T!==null){var n=Eo;return n!==0?n:sm()}return Se()}function $v(){mr===0&&(mr=(it&536870912)===0||ut?V():536870912);var n=cr.current;return n!==null&&(n.flags|=32),mr}function On(n,i,s){(n===Tt&&bt===2||n.cancelPendingCommit!==null)&&(No(n,0),Li(n,it,mr,!1)),te(n,s),((Ct&2)===0||n!==Tt)&&(n===Tt&&((Ct&2)===0&&(Rs|=s),Ot===4&&Li(n,it,mr,!1)),Zr(n))}function Kv(n,i,s){if((Ct&6)!==0)throw Error(a(327));var u=!s&&(i&60)===0&&(i&n.expiredLanes)===0||Ur(n,i),f=u?yA(n,i):nm(n,i,!0),p=u;do{if(f===0){Io&&!u&&Li(n,i,0,!1);break}else if(f===6)Li(n,i,0,!Pi);else{if(s=n.current.alternate,p&&!pA(s)){f=nm(n,i,!1),p=!1;continue}if(f===2){if(p=i,n.errorRecoveryDisabledLanes&p)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var w=n;f=Gl;var N=w.current.memoizedState.isDehydrated;if(N&&(No(w,_).flags|=256),_=nm(w,_,!1),_!==2){if($d&&!N){w.errorRecoveryDisabledLanes|=p,Rs|=p,f=4;break e}p=Wr,Wr=f,p!==null&&Jd(p)}f=_}if(p=!1,f!==2)continue}}if(f===1){No(n,0),Li(n,i,0,!0);break}e:{switch(u=n,f){case 0:case 1:throw Error(a(345));case 4:if((i&4194176)===i){Li(u,i,mr,!Pi);break e}break;case 2:Wr=null;break;case 3:case 5:break;default:throw Error(a(329))}if(u.finishedWork=s,u.finishedLanes=i,(i&62914560)===i&&(p=Yd+300-en(),10<p)){if(Li(u,i,mr,!Pi),hn(u,0)!==0)break e;u.timeoutHandle=y_(Qv.bind(null,u,s,Wr,Fc,Qd,i,mr,Rs,Do,Pi,2,-0,0),p);break e}Qv(u,s,Wr,Fc,Qd,i,mr,Rs,Do,Pi,0,-0,0)}}break}while(!0);Zr(n)}function Jd(n){Wr===null?Wr=n:Wr.push.apply(Wr,n)}function Qv(n,i,s,u,f,p,_,w,N,z,ee,se,K){var Z=i.subtreeFlags;if((Z&8192||(Z&16785408)===16785408)&&(Jl={stylesheets:null,count:0,unsuspend:XA},Uv(i),i=ZA(),i!==null)){n.cancelPendingCommit=i(t_.bind(null,n,s,u,f,_,w,N,1,se,K)),Li(n,p,_,!z);return}t_(n,s,u,f,_,w,N,ee,se,K)}function pA(n){for(var i=n;;){var s=i.tag;if((s===0||s===11||s===15)&&i.flags&16384&&(s=i.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var u=0;u<s.length;u++){var f=s[u],p=f.getSnapshot;f=f.value;try{if(!Fn(p(),f))return!1}catch{return!1}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===n)break;for(;i.sibling===null;){if(i.return===null||i.return===n)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Li(n,i,s,u){i&=~Kd,i&=~Rs,n.suspendedLanes|=i,n.pingedLanes&=~i,u&&(n.warmLanes|=i),u=n.expirationTimes;for(var f=i;0<f;){var p=31-nn(f),_=1<<p;u[p]=-1,f&=~_}s!==0&&Ce(n,s,i)}function Gc(){return(Ct&6)===0?(Ql(0),!1):!0}function em(){if(Ye!==null){if(bt===0)var n=Ye.return;else n=Ye,Ii=bs=null,sd(n),vo=null,Il=0,n=Ye;for(;n!==null;)Gv(n.alternate,n),n=n.return;Ye=null}}function No(n,i){n.finishedWork=null,n.finishedLanes=0;var s=n.timeoutHandle;s!==-1&&(n.timeoutHandle=-1,PA(s)),s=n.cancelPendingCommit,s!==null&&(n.cancelPendingCommit=null,s()),em(),Tt=n,Ye=s=ya(n.current,null),it=i,bt=0,$n=null,Pi=!1,Io=Ur(n,i),$d=!1,Do=mr=Kd=Rs=va=Ot=0,Wr=Gl=null,Qd=!1,(i&8)!==0&&(i|=i&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=i;0<u;){var f=31-nn(u),p=1<<f;i|=n[f],u&=~p}return Vi=i,pc(),s}function Yv(n,i){Ge=null,A.H=Xr,i===Rl?(i=cy(),bt=3):i===oy?(i=cy(),bt=4):bt=i===lv?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,$n=i,Ye===null&&(Ot=1,Vc(n,or(i,n.current)))}function Xv(){var n=A.H;return A.H=Xr,n===null?Xr:n}function Wv(){var n=A.A;return A.A=dA,n}function tm(){Ot=4,Pi||(it&4194176)!==it&&cr.current!==null||(Io=!0),(va&134217727)===0&&(Rs&134217727)===0||Tt===null||Li(Tt,it,mr,!1)}function nm(n,i,s){var u=Ct;Ct|=2;var f=Xv(),p=Wv();(Tt!==n||it!==i)&&(Fc=null,No(n,i)),i=!1;var _=Ot;e:do try{if(bt!==0&&Ye!==null){var w=Ye,N=$n;switch(bt){case 8:em(),_=6;break e;case 3:case 2:case 6:cr.current===null&&(i=!0);var z=bt;if(bt=0,$n=null,xo(n,w,N,z),s&&Io){_=0;break e}break;default:z=bt,bt=0,$n=null,xo(n,w,N,z)}}gA(),_=Ot;break}catch(ee){Yv(n,ee)}while(!0);return i&&n.shellSuspendCounter++,Ii=bs=null,Ct=u,A.H=f,A.A=p,Ye===null&&(Tt=null,it=0,pc()),_}function gA(){for(;Ye!==null;)Zv(Ye)}function yA(n,i){var s=Ct;Ct|=2;var u=Xv(),f=Wv();Tt!==n||it!==i?(Fc=null,Hc=en()+500,No(n,i)):Io=Ur(n,i);e:do try{if(bt!==0&&Ye!==null){i=Ye;var p=$n;t:switch(bt){case 1:bt=0,$n=null,xo(n,i,p,1);break;case 2:if(ly(p)){bt=0,$n=null,Jv(i);break}i=function(){bt===2&&Tt===n&&(bt=7),Zr(n)},p.then(i,i);break e;case 3:bt=7;break e;case 4:bt=5;break e;case 7:ly(p)?(bt=0,$n=null,Jv(i)):(bt=0,$n=null,xo(n,i,p,7));break;case 5:var _=null;switch(Ye.tag){case 26:_=Ye.memoizedState;case 5:case 27:var w=Ye;if(!_||I_(_)){bt=0,$n=null;var N=w.sibling;if(N!==null)Ye=N;else{var z=w.return;z!==null?(Ye=z,$c(z)):Ye=null}break t}}bt=0,$n=null,xo(n,i,p,5);break;case 6:bt=0,$n=null,xo(n,i,p,6);break;case 8:em(),Ot=6;break e;default:throw Error(a(462))}}vA();break}catch(ee){Yv(n,ee)}while(!0);return Ii=bs=null,A.H=u,A.A=f,Ct=s,Ye!==null?0:(Tt=null,it=0,pc(),Ot)}function vA(){for(;Ye!==null&&!di();)Zv(Ye)}function Zv(n){var i=Ev(n.alternate,n,Vi);n.memoizedProps=n.pendingProps,i===null?$c(n):Ye=i}function Jv(n){var i=n,s=i.alternate;switch(i.tag){case 15:case 0:i=mv(s,i,i.pendingProps,i.type,void 0,it);break;case 11:i=mv(s,i,i.pendingProps,i.type.render,i.ref,it);break;case 5:sd(i);default:Gv(s,i),i=Ye=Hv(i,Vi),i=Ev(s,i,Vi)}n.memoizedProps=n.pendingProps,i===null?$c(n):Ye=i}function xo(n,i,s,u){Ii=bs=null,sd(i),vo=null,Il=0;var f=i.return;try{if(sA(n,f,i,s,it)){Ot=1,Vc(n,or(s,n.current)),Ye=null;return}}catch(p){if(f!==null)throw Ye=f,p;Ot=1,Vc(n,or(s,n.current)),Ye=null;return}i.flags&32768?(ut||u===1?n=!0:Io||(it&536870912)!==0?n=!1:(Pi=n=!0,(u===2||u===3||u===6)&&(u=cr.current,u!==null&&u.tag===13&&(u.flags|=16384))),e_(i,n)):$c(i)}function $c(n){var i=n;do{if((i.flags&32768)!==0){e_(i,Pi);return}n=i.return;var s=hA(i.alternate,i,Vi);if(s!==null){Ye=s;return}if(i=i.sibling,i!==null){Ye=i;return}Ye=i=n}while(i!==null);Ot===0&&(Ot=5)}function e_(n,i){do{var s=fA(n.alternate,n);if(s!==null){s.flags&=32767,Ye=s;return}if(s=n.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!i&&(n=n.sibling,n!==null)){Ye=n;return}Ye=n=s}while(n!==null);Ot=6,Ye=null}function t_(n,i,s,u,f,p,_,w,N,z){var ee=A.T,se=me.p;try{me.p=2,A.T=null,_A(n,i,s,u,se,f,p,_,w,N,z)}finally{A.T=ee,me.p=se}}function _A(n,i,s,u,f,p,_,w){do Oo();while(Cs!==null);if((Ct&6)!==0)throw Error(a(327));var N=n.finishedWork;if(u=n.finishedLanes,N===null)return null;if(n.finishedWork=null,n.finishedLanes=0,N===n.current)throw Error(a(177));n.callbackNode=null,n.callbackPriority=0,n.cancelPendingCommit=null;var z=N.lanes|N.childLanes;if(z|=Gf,fe(n,u,z,p,_,w),n===Tt&&(Ye=Tt=null,it=0),(N.subtreeFlags&10256)===0&&(N.flags&10256)===0||qc||(qc=!0,Xd=z,Wd=s,wA(Bn,function(){return Oo(),null})),s=(N.flags&15990)!==0,(N.subtreeFlags&15990)!==0||s?(s=A.T,A.T=null,p=me.p,me.p=2,_=Ct,Ct|=4,lA(n,N),Vv(N,n),FS(mm,n.containerInfo),ih=!!dm,mm=dm=null,n.current=N,xv(n,N.alternate,N),Zi(),Ct=_,me.p=p,A.T=s):n.current=N,qc?(qc=!1,Cs=n,$l=u):n_(n,z),z=n.pendingLanes,z===0&&(_a=null),Ji(N.stateNode),Zr(n),i!==null)for(f=n.onRecoverableError,N=0;N<i.length;N++)z=i[N],f(z.value,{componentStack:z.stack});return($l&3)!==0&&Oo(),z=n.pendingLanes,(u&4194218)!==0&&(z&42)!==0?n===Zd?Kl++:(Kl=0,Zd=n):Kl=0,Ql(0),null}function n_(n,i){(n.pooledCacheLanes&=i)===0&&(i=n.pooledCache,i!=null&&(n.pooledCache=null,Nl(i)))}function Oo(){if(Cs!==null){var n=Cs,i=Xd;Xd=0;var s=be($l),u=A.T,f=me.p;try{if(me.p=32>s?32:s,A.T=null,Cs===null)var p=!1;else{s=Wd,Wd=null;var _=Cs,w=$l;if(Cs=null,$l=0,(Ct&6)!==0)throw Error(a(331));var N=Ct;if(Ct|=4,zv(_.current),kv(_,_.current,w,s),Ct=N,Ql(0,!1),tn&&typeof tn.onPostCommitFiberRoot=="function")try{tn.onPostCommitFiberRoot(br,_)}catch{}p=!0}return p}finally{me.p=f,A.T=u,n_(n,i)}}return!1}function r_(n,i,s){i=or(s,i),i=Ed(n.stateNode,i,2),n=da(n,i,2),n!==null&&(te(n,2),Zr(n))}function _t(n,i,s){if(n.tag===3)r_(n,n,s);else for(;i!==null;){if(i.tag===3){r_(i,n,s);break}else if(i.tag===1){var u=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(_a===null||!_a.has(u))){n=or(s,n),s=sv(2),u=da(i,s,2),u!==null&&(ov(s,u,i,n),te(u,2),Zr(u));break}}i=i.return}}function rm(n,i,s){var u=n.pingCache;if(u===null){u=n.pingCache=new mA;var f=new Set;u.set(i,f)}else f=u.get(i),f===void 0&&(f=new Set,u.set(i,f));f.has(s)||($d=!0,f.add(s),n=EA.bind(null,n,i,s),i.then(n,n))}function EA(n,i,s){var u=n.pingCache;u!==null&&u.delete(i),n.pingedLanes|=n.suspendedLanes&s,n.warmLanes&=~s,Tt===n&&(it&s)===s&&(Ot===4||Ot===3&&(it&62914560)===it&&300>en()-Yd?(Ct&2)===0&&No(n,0):Kd|=s,Do===it&&(Do=0)),Zr(n)}function i_(n,i){i===0&&(i=F()),n=aa(n,i),n!==null&&(te(n,i),Zr(n))}function TA(n){var i=n.memoizedState,s=0;i!==null&&(s=i.retryLane),i_(n,s)}function bA(n,i){var s=0;switch(n.tag){case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(s=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(i),i_(n,s)}function wA(n,i){return fi(n,i)}var Kc=null,Mo=null,im=!1,Qc=!1,am=!1,Is=0;function Zr(n){n!==Mo&&n.next===null&&(Mo===null?Kc=Mo=n:Mo=Mo.next=n),Qc=!0,im||(im=!0,AA(SA))}function Ql(n,i){if(!am&&Qc){am=!0;do for(var s=!1,u=Kc;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var p=0;else{var _=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-nn(42|n)+1)-1,p&=f&~(_&~w),p=p&201326677?p&201326677|1:p?p|2:0}p!==0&&(s=!0,o_(u,p))}else p=it,p=hn(u,u===Tt?p:0),(p&3)===0||Ur(u,p)||(s=!0,o_(u,p));u=u.next}while(s);am=!1}}function SA(){Qc=im=!1;var n=0;Is!==0&&(MA()&&(n=Is),Is=0);for(var i=en(),s=null,u=Kc;u!==null;){var f=u.next,p=a_(u,i);p===0?(u.next=null,s===null?Kc=f:s.next=f,f===null&&(Mo=s)):(s=u,(n!==0||(p&3)!==0)&&(Qc=!0)),u=f}Ql(n)}function a_(n,i){for(var s=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var _=31-nn(p),w=1<<_,N=f[_];N===-1?((w&s)===0||(w&u)!==0)&&(f[_]=ea(w,i)):N<=i&&(n.expiredLanes|=w),p&=~w}if(i=Tt,s=it,s=hn(n,n===i?s:0),u=n.callbackNode,s===0||n===i&&bt===2||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Pn(u),n.callbackNode=null,n.callbackPriority=0;if((s&3)===0||Ur(n,s)){if(i=s&-s,i===n.callbackPriority)return i;switch(u!==null&&Pn(u),be(s)){case 2:case 8:s=Pt;break;case 32:s=Bn;break;case 268435456:s=Vn;break;default:s=Bn}return u=s_.bind(null,n),s=fi(s,u),n.callbackPriority=i,n.callbackNode=s,i}return u!==null&&u!==null&&Pn(u),n.callbackPriority=2,n.callbackNode=null,2}function s_(n,i){var s=n.callbackNode;if(Oo()&&n.callbackNode!==s)return null;var u=it;return u=hn(n,n===Tt?u:0),u===0?null:(Kv(n,u,i),a_(n,en()),n.callbackNode!=null&&n.callbackNode===s?s_.bind(null,n):null)}function o_(n,i){if(Oo())return null;Kv(n,i,!0)}function AA(n){VA(function(){(Ct&6)!==0?fi(pt,n):n()})}function sm(){return Is===0&&(Is=V()),Is}function l_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Br(""+n)}function u_(n,i){var s=i.ownerDocument.createElement("input");return s.name=i.name,s.value=i.value,n.id&&s.setAttribute("form",n.id),i.parentNode.insertBefore(s,i),n=new FormData(n),s.parentNode.removeChild(s),n}function RA(n,i,s,u,f){if(i==="submit"&&s&&s.stateNode===f){var p=l_((f[xe]||null).action),_=u.submitter;_&&(i=(i=_[xe]||null)?l_(i.formAction):_.getAttribute("formAction"),i!==null&&(p=i,_=null));var w=new ro("action","action",null,u,f);n.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Is!==0){var N=_?u_(f,_):new FormData(f);pd(s,{pending:!0,data:N,method:f.method,action:p},null,N)}}else typeof p=="function"&&(w.preventDefault(),N=_?u_(f,_):new FormData(f),pd(s,{pending:!0,data:N,method:f.method,action:p},p,N))},currentTarget:f}]})}}for(var om=0;om<ty.length;om++){var lm=ty[om],CA=lm.toLowerCase(),IA=lm[0].toUpperCase()+lm.slice(1);Ar(CA,"on"+IA)}Ar(Xg,"onAnimationEnd"),Ar(Wg,"onAnimationIteration"),Ar(Zg,"onAnimationStart"),Ar("dblclick","onDoubleClick"),Ar("focusin","onFocus"),Ar("focusout","onBlur"),Ar(GS,"onTransitionRun"),Ar($S,"onTransitionStart"),Ar(KS,"onTransitionCancel"),Ar(Jg,"onTransitionEnd"),ft("onMouseEnter",["mouseout","mouseover"]),ft("onMouseLeave",["mouseout","mouseover"]),ft("onPointerEnter",["pointerout","pointerover"]),ft("onPointerLeave",["pointerout","pointerover"]),qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Yl));function c_(n,i){i=(i&4)!==0;for(var s=0;s<n.length;s++){var u=n[s],f=u.event;u=u.listeners;e:{var p=void 0;if(i)for(var _=u.length-1;0<=_;_--){var w=u[_],N=w.instance,z=w.currentTarget;if(w=w.listener,N!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=z;try{p(f)}catch(ee){Pc(ee)}f.currentTarget=null,p=N}else for(_=0;_<u.length;_++){if(w=u[_],N=w.instance,z=w.currentTarget,w=w.listener,N!==p&&f.isPropagationStopped())break e;p=w,f.currentTarget=z;try{p(f)}catch(ee){Pc(ee)}f.currentTarget=null,p=N}}}}function Je(n,i){var s=i[St];s===void 0&&(s=i[St]=new Set);var u=n+"__bubble";s.has(u)||(h_(i,n,2,!1),s.add(u))}function um(n,i,s){var u=0;i&&(u|=4),h_(s,n,u,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function cm(n){if(!n[Yc]){n[Yc]=!0,jr.forEach(function(s){s!=="selectionchange"&&(DA.has(s)||um(s,!1,n),um(s,!0,n))});var i=n.nodeType===9?n:n.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,um("selectionchange",!1,i))}}function h_(n,i,s,u){switch(P_(i)){case 2:var f=t1;break;case 8:f=n1;break;default:f=wm}s=f.bind(null,i,s,n),f=void 0,!ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(i,s,{capture:!0,passive:f}):n.addEventListener(i,s,!0):f!==void 0?n.addEventListener(i,s,{passive:f}):n.addEventListener(i,s,!1)}function hm(n,i,s,u,f){var p=u;if((i&1)===0&&(i&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var w=u.stateNode.containerInfo;if(w===f||w.nodeType===8&&w.parentNode===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&(N=_.stateNode.containerInfo,N===f||N.nodeType===8&&N.parentNode===f))return;_=_.return}for(;w!==null;){if(_=Vt(w),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=p=_;continue e}w=w.parentNode}}u=u.return}ec(function(){var z=p,ee=no(s),se=[];e:{var K=ey.get(n);if(K!==void 0){var Z=ro,Ae=n;switch(n){case"keypress":if(Fr(s)===0)break e;case"keydown":case"keyup":Z=uo;break;case"focusin":Ae="focus",Z=so;break;case"focusout":Ae="blur",Z=so;break;case"beforeblur":case"afterblur":Z=so;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=ar;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=kf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=lc;break;case Xg:case Wg:case Zg:Z=oo;break;case Jg:Z=cc;break;case"scroll":case"scrollend":Z=tc;break;case"wheel":Z=co;break;case"copy":case"cut":case"paste":Z=lo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=_l;break;case"toggle":case"beforetoggle":Z=fc}var je=(i&4)!==0,Mt=!je&&(n==="scroll"||n==="scrollend"),q=je?K!==null?K+"Capture":null:K;je=[];for(var j=z,$;j!==null;){var ne=j;if($=ne.stateNode,ne=ne.tag,ne!==5&&ne!==26&&ne!==27||$===null||q===null||(ne=is(j,q),ne!=null&&je.push(Xl(j,ne,$))),Mt)break;j=j.return}0<je.length&&(K=new Z(K,Ae,null,s,ee),se.push({event:K,listeners:je}))}}if((i&7)===0){e:{if(K=n==="mouseover"||n==="pointerover",Z=n==="mouseout"||n==="pointerout",K&&s!==rr&&(Ae=s.relatedTarget||s.fromElement)&&(Vt(Ae)||Ae[ot]))break e;if((Z||K)&&(K=ee.window===ee?ee:(K=ee.ownerDocument)?K.defaultView||K.parentWindow:window,Z?(Ae=s.relatedTarget||s.toElement,Z=z,Ae=Ae?Vt(Ae):null,Ae!==null&&(Mt=ye(Ae),je=Ae.tag,Ae!==Mt||je!==5&&je!==27&&je!==6)&&(Ae=null)):(Z=null,Ae=z),Z!==Ae)){if(je=ar,ne="onMouseLeave",q="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(je=_l,ne="onPointerLeave",q="onPointerEnter",j="pointer"),Mt=Z==null?K:Jn(Z),$=Ae==null?K:Jn(Ae),K=new je(ne,j+"leave",Z,s,ee),K.target=Mt,K.relatedTarget=$,ne=null,Vt(ee)===z&&(je=new je(q,j+"enter",Ae,s,ee),je.target=$,je.relatedTarget=Mt,ne=je),Mt=ne,Z&&Ae)t:{for(je=Z,q=Ae,j=0,$=je;$;$=Po($))j++;for($=0,ne=q;ne;ne=Po(ne))$++;for(;0<j-$;)je=Po(je),j--;for(;0<$-j;)q=Po(q),$--;for(;j--;){if(je===q||q!==null&&je===q.alternate)break t;je=Po(je),q=Po(q)}je=null}else je=null;Z!==null&&f_(se,K,Z,je,!1),Ae!==null&&Mt!==null&&f_(se,Mt,Ae,je,!0)}}e:{if(K=z?Jn(z):window,Z=K.nodeName&&K.nodeName.toLowerCase(),Z==="select"||Z==="input"&&K.type==="file")var Te=jg;else if(Gt(K))if(zg)Te=BS;else{Te=jS;var Qe=US}else Z=K.nodeName,!Z||Z.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?z&&fl(z.elementType)&&(Te=jg):Te=zS;if(Te&&(Te=Te(n,z))){bi(se,Te,s,ee);break e}Qe&&Qe(n,K,z),n==="focusout"&&z&&K.type==="number"&&z.memoizedProps.value!=null&&to(K,"number",K.value)}switch(Qe=z?Jn(z):window,n){case"focusin":(Gt(Qe)||Qe.contentEditable==="true")&&(ho=Qe,Hf=z,bl=null);break;case"focusout":bl=Hf=ho=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,Qg(se,s,ee);break;case"selectionchange":if(qS)break;case"keydown":case"keyup":Qg(se,s,ee)}var Ie;if($r)e:{switch(n){case"compositionstart":var Me="onCompositionStart";break e;case"compositionend":Me="onCompositionEnd";break e;case"compositionupdate":Me="onCompositionUpdate";break e}Me=void 0}else nt?X(n,s)&&(Me="onCompositionEnd"):n==="keydown"&&s.keyCode===229&&(Me="onCompositionStart");Me&&(v&&s.locale!=="ko"&&(nt||Me!=="onCompositionStart"?Me==="onCompositionEnd"&&nt&&(Ie=ml()):(Hr=ee,ia="value"in Hr?Hr.value:Hr.textContent,nt=!0)),Qe=Xc(z,Me),0<Qe.length&&(Me=new yl(Me,n,null,s,ee),se.push({event:Me,listeners:Qe}),Ie?Me.data=Ie:(Ie=ue(s),Ie!==null&&(Me.data=Ie)))),(Ie=y?qt(n,s):rt(n,s))&&(Me=Xc(z,"onBeforeInput"),0<Me.length&&(Qe=new yl("onBeforeInput","beforeinput",null,s,ee),se.push({event:Qe,listeners:Me}),Qe.data=Ie)),RA(se,n,z,s,ee)}c_(se,i)})}function Xl(n,i,s){return{instance:n,listener:i,currentTarget:s}}function Xc(n,i){for(var s=i+"Capture",u=[];n!==null;){var f=n,p=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=is(n,s),f!=null&&u.unshift(Xl(n,f,p)),f=is(n,i),f!=null&&u.push(Xl(n,f,p))),n=n.return}return u}function Po(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function f_(n,i,s,u,f){for(var p=i._reactName,_=[];s!==null&&s!==u;){var w=s,N=w.alternate,z=w.stateNode;if(w=w.tag,N!==null&&N===u)break;w!==5&&w!==26&&w!==27||z===null||(N=z,f?(z=is(s,p),z!=null&&_.unshift(Xl(s,z,N))):f||(z=is(s,p),z!=null&&_.push(Xl(s,z,N)))),s=s.return}_.length!==0&&n.push({event:i,listeners:_})}var NA=/\r\n?/g,xA=/\u0000|\uFFFD/g;function d_(n){return(typeof n=="string"?n:""+n).replace(NA,`
`).replace(xA,"")}function m_(n,i){return i=d_(i),d_(n)===i}function Wc(){}function yt(n,i,s,u,f,p){switch(s){case"children":typeof u=="string"?i==="body"||i==="textarea"&&u===""||nr(n,u):(typeof u=="number"||typeof u=="bigint")&&i!=="body"&&nr(n,""+u);break;case"className":ta(n,"class",u);break;case"tabIndex":ta(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ta(n,s,u);break;case"style":Ju(n,u,p);break;case"data":if(i!=="object"){ta(n,"data",u);break}case"src":case"href":if(u===""&&(i!=="a"||s!=="href")){n.removeAttribute(s);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Br(""+u),n.setAttribute(s,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(s==="formAction"?(i!=="input"&&yt(n,i,"name",f.name,f,null),yt(n,i,"formEncType",f.formEncType,f,null),yt(n,i,"formMethod",f.formMethod,f,null),yt(n,i,"formTarget",f.formTarget,f,null)):(yt(n,i,"encType",f.encType,f,null),yt(n,i,"method",f.method,f,null),yt(n,i,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(s);break}u=Br(""+u),n.setAttribute(s,u);break;case"onClick":u!=null&&(n.onclick=Wc);break;case"onScroll":u!=null&&Je("scroll",n);break;case"onScrollEnd":u!=null&&Je("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}s=Br(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""+u):n.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,""):n.removeAttribute(s);break;case"capture":case"download":u===!0?n.setAttribute(s,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(s,u):n.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(s,u):n.removeAttribute(s);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(s):n.setAttribute(s,u);break;case"popover":Je("beforetoggle",n),Je("toggle",n),zr(n,"popover",u);break;case"xlinkActuate":tr(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":tr(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":tr(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":tr(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":tr(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":tr(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":tr(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":tr(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":tr(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":zr(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Vf.get(s)||s,zr(n,s,u))}}function fm(n,i,s,u,f,p){switch(s){case"style":Ju(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(s=u.__html,s!=null){if(f.children!=null)throw Error(a(60));n.innerHTML=s}}break;case"children":typeof u=="string"?nr(n,u):(typeof u=="number"||typeof u=="bigint")&&nr(n,""+u);break;case"onScroll":u!=null&&Je("scroll",n);break;case"onScrollEnd":u!=null&&Je("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Wc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sr.hasOwnProperty(s))e:{if(s[0]==="o"&&s[1]==="n"&&(f=s.endsWith("Capture"),i=s.slice(2,f?s.length-7:void 0),p=n[xe]||null,p=p!=null?p[s]:null,typeof p=="function"&&n.removeEventListener(i,p,f),typeof u=="function")){typeof p!="function"&&p!==null&&(s in n?n[s]=null:n.hasAttribute(s)&&n.removeAttribute(s)),n.addEventListener(i,u,f);break e}s in n?n[s]=u:u===!0?n.setAttribute(s,""):zr(n,s,u)}}}function pn(n,i,s){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Je("error",n),Je("load",n);var u=!1,f=!1,p;for(p in s)if(s.hasOwnProperty(p)){var _=s[p];if(_!=null)switch(p){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:yt(n,i,p,_,s,null)}}f&&yt(n,i,"srcSet",s.srcSet,s,null),u&&yt(n,i,"src",s.src,s,null);return;case"input":Je("invalid",n);var w=p=_=f=null,N=null,z=null;for(u in s)if(s.hasOwnProperty(u)){var ee=s[u];if(ee!=null)switch(u){case"name":f=ee;break;case"type":_=ee;break;case"checked":N=ee;break;case"defaultChecked":z=ee;break;case"value":p=ee;break;case"defaultValue":w=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(a(137,i));break;default:yt(n,i,u,ee,s,null)}}ns(n,p,w,N,z,_,f,!1),ts(n);return;case"select":Je("invalid",n),u=_=p=null;for(f in s)if(s.hasOwnProperty(f)&&(w=s[f],w!=null))switch(f){case"value":p=w;break;case"defaultValue":_=w;break;case"multiple":u=w;default:yt(n,i,f,w,s,null)}i=p,s=_,n.multiple=!!u,i!=null?lt(n,!!u,i,!1):s!=null&&lt(n,!!u,s,!0);return;case"textarea":Je("invalid",n),p=f=u=null;for(_ in s)if(s.hasOwnProperty(_)&&(w=s[_],w!=null))switch(_){case"value":u=w;break;case"defaultValue":f=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(a(91));break;default:yt(n,i,_,w,s,null)}ra(n,u,f,p),ts(n);return;case"option":for(N in s)if(s.hasOwnProperty(N)&&(u=s[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:yt(n,i,N,u,s,null)}return;case"dialog":Je("cancel",n),Je("close",n);break;case"iframe":case"object":Je("load",n);break;case"video":case"audio":for(u=0;u<Yl.length;u++)Je(Yl[u],n);break;case"image":Je("error",n),Je("load",n);break;case"details":Je("toggle",n);break;case"embed":case"source":case"link":Je("error",n),Je("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(u=s[z],u!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:yt(n,i,z,u,s,null)}return;default:if(fl(i)){for(ee in s)s.hasOwnProperty(ee)&&(u=s[ee],u!==void 0&&fm(n,i,ee,u,s,void 0));return}}for(w in s)s.hasOwnProperty(w)&&(u=s[w],u!=null&&yt(n,i,w,u,s,null))}function OA(n,i,s,u){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,_=null,w=null,N=null,z=null,ee=null;for(Z in s){var se=s[Z];if(s.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":N=se;default:u.hasOwnProperty(Z)||yt(n,i,Z,null,u,se)}}for(var K in u){var Z=u[K];if(se=s[K],u.hasOwnProperty(K)&&(Z!=null||se!=null))switch(K){case"type":p=Z;break;case"name":f=Z;break;case"checked":z=Z;break;case"defaultChecked":ee=Z;break;case"value":_=Z;break;case"defaultValue":w=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(a(137,i));break;default:Z!==se&&yt(n,i,K,Z,u,se)}}na(n,_,w,N,z,ee,p,f);return;case"select":Z=_=w=K=null;for(p in s)if(N=s[p],s.hasOwnProperty(p)&&N!=null)switch(p){case"value":break;case"multiple":Z=N;default:u.hasOwnProperty(p)||yt(n,i,p,null,u,N)}for(f in u)if(p=u[f],N=s[f],u.hasOwnProperty(f)&&(p!=null||N!=null))switch(f){case"value":K=p;break;case"defaultValue":w=p;break;case"multiple":_=p;default:p!==N&&yt(n,i,f,p,u,N)}i=w,s=_,u=Z,K!=null?lt(n,!!s,K,!1):!!u!=!!s&&(i!=null?lt(n,!!s,i,!0):lt(n,!!s,s?[]:"",!1));return;case"textarea":Z=K=null;for(w in s)if(f=s[w],s.hasOwnProperty(w)&&f!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:yt(n,i,w,null,u,f)}for(_ in u)if(f=u[_],p=s[_],u.hasOwnProperty(_)&&(f!=null||p!=null))switch(_){case"value":K=f;break;case"defaultValue":Z=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(a(91));break;default:f!==p&&yt(n,i,_,f,u,p)}rs(n,K,Z);return;case"option":for(var Ae in s)if(K=s[Ae],s.hasOwnProperty(Ae)&&K!=null&&!u.hasOwnProperty(Ae))switch(Ae){case"selected":n.selected=!1;break;default:yt(n,i,Ae,null,u,K)}for(N in u)if(K=u[N],Z=s[N],u.hasOwnProperty(N)&&K!==Z&&(K!=null||Z!=null))switch(N){case"selected":n.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:yt(n,i,N,K,u,Z)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in s)K=s[je],s.hasOwnProperty(je)&&K!=null&&!u.hasOwnProperty(je)&&yt(n,i,je,null,u,K);for(z in u)if(K=u[z],Z=s[z],u.hasOwnProperty(z)&&K!==Z&&(K!=null||Z!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,i));break;default:yt(n,i,z,K,u,Z)}return;default:if(fl(i)){for(var Mt in s)K=s[Mt],s.hasOwnProperty(Mt)&&K!==void 0&&!u.hasOwnProperty(Mt)&&fm(n,i,Mt,void 0,u,K);for(ee in u)K=u[ee],Z=s[ee],!u.hasOwnProperty(ee)||K===Z||K===void 0&&Z===void 0||fm(n,i,ee,K,u,Z);return}}for(var q in s)K=s[q],s.hasOwnProperty(q)&&K!=null&&!u.hasOwnProperty(q)&&yt(n,i,q,null,u,K);for(se in u)K=u[se],Z=s[se],!u.hasOwnProperty(se)||K===Z||K==null&&Z==null||yt(n,i,se,K,u,Z)}var dm=null,mm=null;function Zc(n){return n.nodeType===9?n:n.ownerDocument}function p_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(n,i){if(n===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&i==="foreignObject"?0:n}function pm(n,i){return n==="textarea"||n==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gm=null;function MA(){var n=window.event;return n&&n.type==="popstate"?n===gm?!1:(gm=n,!0):(gm=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,PA=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,VA=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(n){return v_.resolve(null).then(n).catch(LA)}:y_;function LA(n){setTimeout(function(){throw n})}function ym(n,i){var s=i,u=0;do{var f=s.nextSibling;if(n.removeChild(s),f&&f.nodeType===8)if(s=f.data,s==="/$"){if(u===0){n.removeChild(f),iu(i);return}u--}else s!=="$"&&s!=="$?"&&s!=="$!"||u++;s=f}while(s);iu(i)}function vm(n){var i=n.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var s=i;switch(i=i.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vm(s),Hn(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}n.removeChild(s)}}function kA(n,i,s,u){for(;n.nodeType===1;){var f=s;if(n.nodeName.toLowerCase()!==i.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[In])switch(i){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(i==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=Ir(n.nextSibling),n===null)break}return null}function UA(n,i,s){if(i==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Ir(n.nextSibling),n===null))return null;return n}function Ir(n){for(;n!=null;n=n.nextSibling){var i=n.nodeType;if(i===1||i===3)break;if(i===8){if(i=n.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return n}function __(n){n=n.previousSibling;for(var i=0;n;){if(n.nodeType===8){var s=n.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return n;i--}else s==="/$"&&i++}n=n.previousSibling}return null}function E_(n,i,s){switch(i=Zc(s),n){case"html":if(n=i.documentElement,!n)throw Error(a(452));return n;case"head":if(n=i.head,!n)throw Error(a(453));return n;case"body":if(n=i.body,!n)throw Error(a(454));return n;default:throw Error(a(451))}}var pr=new Map,T_=new Set;function Jc(n){return typeof n.getRootNode=="function"?n.getRootNode():n.ownerDocument}var ki=me.d;me.d={f:jA,r:zA,D:BA,C:HA,L:FA,m:qA,X:$A,S:GA,M:KA};function jA(){var n=ki.f(),i=Gc();return n||i}function zA(n){var i=jt(n);i!==null&&i.tag===5&&i.type==="form"?Qy(i):ki.r(n)}var Vo=typeof document>"u"?null:document;function b_(n,i,s){var u=Vo;if(u&&typeof i=="string"&&i){var f=Nt(i);f='link[rel="'+n+'"][href="'+f+'"]',typeof s=="string"&&(f+='[crossorigin="'+s+'"]'),T_.has(f)||(T_.add(f),n={rel:n,crossOrigin:s,href:i},u.querySelector(f)===null&&(i=u.createElement("link"),pn(i,"link",n),ht(i),u.head.appendChild(i)))}}function BA(n){ki.D(n),b_("dns-prefetch",n,null)}function HA(n,i){ki.C(n,i),b_("preconnect",n,i)}function FA(n,i,s){ki.L(n,i,s);var u=Vo;if(u&&n&&i){var f='link[rel="preload"][as="'+Nt(i)+'"]';i==="image"&&s&&s.imageSrcSet?(f+='[imagesrcset="'+Nt(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(f+='[imagesizes="'+Nt(s.imageSizes)+'"]')):f+='[href="'+Nt(n)+'"]';var p=f;switch(i){case"style":p=Lo(n);break;case"script":p=ko(n)}pr.has(p)||(n=I({rel:"preload",href:i==="image"&&s&&s.imageSrcSet?void 0:n,as:i},s),pr.set(p,n),u.querySelector(f)!==null||i==="style"&&u.querySelector(Wl(p))||i==="script"&&u.querySelector(Zl(p))||(i=u.createElement("link"),pn(i,"link",n),ht(i),u.head.appendChild(i)))}}function qA(n,i){ki.m(n,i);var s=Vo;if(s&&n){var u=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+Nt(u)+'"][href="'+Nt(n)+'"]',p=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ko(n)}if(!pr.has(p)&&(n=I({rel:"modulepreload",href:n},i),pr.set(p,n),s.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Zl(p)))return}u=s.createElement("link"),pn(u,"link",n),ht(u),s.head.appendChild(u)}}}function GA(n,i,s){ki.S(n,i,s);var u=Vo;if(u&&n){var f=Ln(u).hoistableStyles,p=Lo(n);i=i||"default";var _=f.get(p);if(!_){var w={loading:0,preload:null};if(_=u.querySelector(Wl(p)))w.loading=5;else{n=I({rel:"stylesheet",href:n,"data-precedence":i},s),(s=pr.get(p))&&_m(n,s);var N=_=u.createElement("link");ht(N),pn(N,"link",n),N._p=new Promise(function(z,ee){N.onload=z,N.onerror=ee}),N.addEventListener("load",function(){w.loading|=1}),N.addEventListener("error",function(){w.loading|=2}),w.loading|=4,eh(_,i,u)}_={type:"stylesheet",instance:_,count:1,state:w},f.set(p,_)}}}function $A(n,i){ki.X(n,i);var s=Vo;if(s&&n){var u=Ln(s).hoistableScripts,f=ko(n),p=u.get(f);p||(p=s.querySelector(Zl(f)),p||(n=I({src:n,async:!0},i),(i=pr.get(f))&&Em(n,i),p=s.createElement("script"),ht(p),pn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function KA(n,i){ki.M(n,i);var s=Vo;if(s&&n){var u=Ln(s).hoistableScripts,f=ko(n),p=u.get(f);p||(p=s.querySelector(Zl(f)),p||(n=I({src:n,async:!0,type:"module"},i),(i=pr.get(f))&&Em(n,i),p=s.createElement("script"),ht(p),pn(p,"link",n),s.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(f,p))}}function w_(n,i,s,u){var f=(f=Ut.current)?Jc(f):null;if(!f)throw Error(a(446));switch(n){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(i=Lo(s.href),s=Ln(f).hoistableStyles,u=s.get(i),u||(u={type:"style",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){n=Lo(s.href);var p=Ln(f).hoistableStyles,_=p.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,_),(p=f.querySelector(Wl(n)))&&!p._p&&(_.instance=p,_.state.loading=5),pr.has(n)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},pr.set(n,s),p||QA(f,n,s,_.state))),i&&u===null)throw Error(a(528,""));return _}if(i&&u!==null)throw Error(a(529,""));return null;case"script":return i=s.async,s=s.src,typeof s=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ko(s),s=Ln(f).hoistableScripts,u=s.get(i),u||(u={type:"script",instance:null,count:0,state:null},s.set(i,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,n))}}function Lo(n){return'href="'+Nt(n)+'"'}function Wl(n){return'link[rel="stylesheet"]['+n+"]"}function S_(n){return I({},n,{"data-precedence":n.precedence,precedence:null})}function QA(n,i,s,u){n.querySelector('link[rel="preload"][as="style"]['+i+"]")?u.loading=1:(i=n.createElement("link"),u.preload=i,i.addEventListener("load",function(){return u.loading|=1}),i.addEventListener("error",function(){return u.loading|=2}),pn(i,"link",s),ht(i),n.head.appendChild(i))}function ko(n){return'[src="'+Nt(n)+'"]'}function Zl(n){return"script[async]"+n}function A_(n,i,s){if(i.count++,i.instance===null)switch(i.type){case"style":var u=n.querySelector('style[data-href~="'+Nt(s.href)+'"]');if(u)return i.instance=u,ht(u),u;var f=I({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),ht(u),pn(u,"style",f),eh(u,s.precedence,n),i.instance=u;case"stylesheet":f=Lo(s.href);var p=n.querySelector(Wl(f));if(p)return i.state.loading|=4,i.instance=p,ht(p),p;u=S_(s),(f=pr.get(f))&&_m(u,f),p=(n.ownerDocument||n).createElement("link"),ht(p);var _=p;return _._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),pn(p,"link",u),i.state.loading|=4,eh(p,s.precedence,n),i.instance=p;case"script":return p=ko(s.src),(f=n.querySelector(Zl(p)))?(i.instance=f,ht(f),f):(u=s,(f=pr.get(p))&&(u=I({},s),Em(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),ht(f),pn(f,"link",u),n.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(u=i.instance,i.state.loading|=4,eh(u,s.precedence,n));return i.instance}function eh(n,i,s){for(var u=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,p=f,_=0;_<u.length;_++){var w=u[_];if(w.dataset.precedence===i)p=w;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(i=s.nodeType===9?s.head:s,i.insertBefore(n,i.firstChild))}function _m(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.title==null&&(n.title=i.title)}function Em(n,i){n.crossOrigin==null&&(n.crossOrigin=i.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=i.referrerPolicy),n.integrity==null&&(n.integrity=i.integrity)}var th=null;function R_(n,i,s){if(th===null){var u=new Map,f=th=new Map;f.set(s,u)}else f=th,u=f.get(s),u||(u=new Map,f.set(s,u));if(u.has(n))return u;for(u.set(n,null),s=s.getElementsByTagName(n),f=0;f<s.length;f++){var p=s[f];if(!(p[In]||p[Ee]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var _=p.getAttribute(i)||"";_=n+_;var w=u.get(_);w?w.push(p):u.set(_,[p])}}return u}function C_(n,i,s){n=n.ownerDocument||n,n.head.insertBefore(s,i==="title"?n.querySelector("head > title"):null)}function YA(n,i,s){if(s===1||i.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return n=i.disabled,typeof i.precedence=="string"&&n==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function I_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Jl=null;function XA(){}function WA(n,i,s){if(Jl===null)throw Error(a(475));var u=Jl;if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=Lo(s.href),p=n.querySelector(Wl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=nh.bind(u),n.then(u,u)),i.state.loading|=4,i.instance=p,ht(p);return}p=n.ownerDocument||n,s=S_(s),(f=pr.get(f))&&_m(s,f),p=p.createElement("link"),ht(p);var _=p;_._p=new Promise(function(w,N){_.onload=w,_.onerror=N}),pn(p,"link",s),i.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(i,n),(n=i.state.preload)&&(i.state.loading&3)===0&&(u.count++,i=nh.bind(u),n.addEventListener("load",i),n.addEventListener("error",i))}}function ZA(){if(Jl===null)throw Error(a(475));var n=Jl;return n.stylesheets&&n.count===0&&Tm(n,n.stylesheets),0<n.count?function(i){var s=setTimeout(function(){if(n.stylesheets&&Tm(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=i,function(){n.unsuspend=null,clearTimeout(s)}}:null}function nh(){if(this.count--,this.count===0){if(this.stylesheets)Tm(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var rh=null;function Tm(n,i){n.stylesheets=null,n.unsuspend!==null&&(n.count++,rh=new Map,i.forEach(JA,n),rh=null,nh.call(n))}function JA(n,i){if(!(i.state.loading&4)){var s=rh.get(n);if(s)var u=s.get(null);else{s=new Map,rh.set(n,s);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var _=f[p];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(s.set(_.dataset.precedence,_),u=_)}u&&s.set(null,u)}f=i.instance,_=f.getAttribute("data-precedence"),p=s.get(_)||u,p===u&&s.set(null,f),s.set(_,f),this.count++,u=nh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),i.state.loading|=4}}var eu={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ve,_currentValue2:Ve,_threadCount:0};function e1(n,i,s,u,f,p,_,w){this.tag=1,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Q(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Q(0),this.hiddenUpdates=Q(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function D_(n,i,s,u,f,p,_,w,N,z,ee,se){return n=new e1(n,i,s,_,w,N,z,se),i=1,p===!0&&(i|=24),p=dr(3,null,null,i),n.current=p,p.stateNode=n,i=Jf(),i.refCount++,n.pooledCache=i,i.refCount++,p.memoizedState={element:u,isDehydrated:s,cache:i},Md(p),n}function N_(n){return n?(n=po,n):po}function x_(n,i,s,u,f,p){f=N_(f),u.context===null?u.context=f:u.pendingContext=f,u=fa(i),u.payload={element:s},p=p===void 0?null:p,p!==null&&(u.callback=p),s=da(n,u,i),s!==null&&(On(s,n,i),kl(s,n,i))}function O_(n,i){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var s=n.retryLane;n.retryLane=s!==0&&s<i?s:i}}function bm(n,i){O_(n,i),(n=n.alternate)&&O_(n,i)}function M_(n){if(n.tag===13){var i=aa(n,67108864);i!==null&&On(i,n,67108864),bm(n,67108864)}}var ih=!0;function t1(n,i,s,u){var f=A.T;A.T=null;var p=me.p;try{me.p=2,wm(n,i,s,u)}finally{me.p=p,A.T=f}}function n1(n,i,s,u){var f=A.T;A.T=null;var p=me.p;try{me.p=8,wm(n,i,s,u)}finally{me.p=p,A.T=f}}function wm(n,i,s,u){if(ih){var f=Sm(u);if(f===null)hm(n,i,u,ah,s),V_(n,u);else if(i1(f,n,i,s,u))u.stopPropagation();else if(V_(n,u),i&4&&-1<r1.indexOf(n)){for(;f!==null;){var p=jt(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var _=En(p.pendingLanes);if(_!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;_;){var N=1<<31-nn(_);w.entanglements[1]|=N,_&=~N}Zr(p),(Ct&6)===0&&(Hc=en()+500,Ql(0))}}break;case 13:w=aa(p,2),w!==null&&On(w,p,2),Gc(),bm(p,2)}if(p=Sm(u),p===null&&hm(n,i,u,ah,s),p===f)break;f=p}f!==null&&u.stopPropagation()}else hm(n,i,u,null,s)}}function Sm(n){return n=no(n),Am(n)}var ah=null;function Am(n){if(ah=null,n=Vt(n),n!==null){var i=ye(n);if(i===null)n=null;else{var s=i.tag;if(s===13){if(n=De(i),n!==null)return n;n=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;n=null}else i!==n&&(n=null)}}return ah=n,null}function P_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zn()){case pt:return 2;case Pt:return 8;case Bn:case Ws:return 32;case Vn:return 268435456;default:return 32}default:return 32}}var Rm=!1,Ea=null,Ta=null,ba=null,tu=new Map,nu=new Map,wa=[],r1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(n,i){switch(n){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Ta=null;break;case"mouseover":case"mouseout":ba=null;break;case"pointerover":case"pointerout":tu.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":nu.delete(i.pointerId)}}function ru(n,i,s,u,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:i,domEventName:s,eventSystemFlags:u,nativeEvent:p,targetContainers:[f]},i!==null&&(i=jt(i),i!==null&&M_(i)),n):(n.eventSystemFlags|=u,i=n.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),n)}function i1(n,i,s,u,f){switch(i){case"focusin":return Ea=ru(Ea,n,i,s,u,f),!0;case"dragenter":return Ta=ru(Ta,n,i,s,u,f),!0;case"mouseover":return ba=ru(ba,n,i,s,u,f),!0;case"pointerover":var p=f.pointerId;return tu.set(p,ru(tu.get(p)||null,n,i,s,u,f)),!0;case"gotpointercapture":return p=f.pointerId,nu.set(p,ru(nu.get(p)||null,n,i,s,u,f)),!0}return!1}function L_(n){var i=Vt(n.target);if(i!==null){var s=ye(i);if(s!==null){if(i=s.tag,i===13){if(i=De(s),i!==null){n.blockedOn=i,pe(n.priority,function(){if(s.tag===13){var u=Kn(),f=aa(s,u);f!==null&&On(f,s,u),bm(s,u)}});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){n.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}n.blockedOn=null}function sh(n){if(n.blockedOn!==null)return!1;for(var i=n.targetContainers;0<i.length;){var s=Sm(n.nativeEvent);if(s===null){s=n.nativeEvent;var u=new s.constructor(s.type,s);rr=u,s.target.dispatchEvent(u),rr=null}else return i=jt(s),i!==null&&M_(i),n.blockedOn=s,!1;i.shift()}return!0}function k_(n,i,s){sh(n)&&s.delete(i)}function a1(){Rm=!1,Ea!==null&&sh(Ea)&&(Ea=null),Ta!==null&&sh(Ta)&&(Ta=null),ba!==null&&sh(ba)&&(ba=null),tu.forEach(k_),nu.forEach(k_)}function oh(n,i){n.blockedOn===i&&(n.blockedOn=null,Rm||(Rm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,a1)))}var lh=null;function U_(n){lh!==n&&(lh=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){lh===n&&(lh=null);for(var i=0;i<n.length;i+=3){var s=n[i],u=n[i+1],f=n[i+2];if(typeof u!="function"){if(Am(u||s)===null)continue;break}var p=jt(s);p!==null&&(n.splice(i,3),i-=3,pd(p,{pending:!0,data:f,method:s.method,action:u},u,f))}}))}function iu(n){function i(N){return oh(N,n)}Ea!==null&&oh(Ea,n),Ta!==null&&oh(Ta,n),ba!==null&&oh(ba,n),tu.forEach(i),nu.forEach(i);for(var s=0;s<wa.length;s++){var u=wa[s];u.blockedOn===n&&(u.blockedOn=null)}for(;0<wa.length&&(s=wa[0],s.blockedOn===null);)L_(s),s.blockedOn===null&&wa.shift();if(s=(n.ownerDocument||n).$$reactFormReplay,s!=null)for(u=0;u<s.length;u+=3){var f=s[u],p=s[u+1],_=f[xe]||null;if(typeof p=="function")_||U_(s);else if(_){var w=null;if(p&&p.hasAttribute("formAction")){if(f=p,_=p[xe]||null)w=_.formAction;else if(Am(f)!==null)continue}else w=_.action;typeof w=="function"?s[u+1]=w:(s.splice(u,3),u-=3),U_(s)}}}function Cm(n){this._internalRoot=n}uh.prototype.render=Cm.prototype.render=function(n){var i=this._internalRoot;if(i===null)throw Error(a(409));var s=i.current,u=Kn();x_(s,u,n,i,null,null)},uh.prototype.unmount=Cm.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var i=n.containerInfo;n.tag===0&&Oo(),x_(n.current,2,null,n,null,null),Gc(),i[ot]=null}};function uh(n){this._internalRoot=n}uh.prototype.unstable_scheduleHydration=function(n){if(n){var i=Se();n={blockedOn:null,target:n,priority:i};for(var s=0;s<wa.length&&i!==0&&i<wa[s].priority;s++);wa.splice(s,0,n),s===0&&L_(n)}};var j_=e.version;if(j_!=="19.0.0")throw Error(a(527,j_,"19.0.0"));me.findDOMNode=function(n){var i=n._reactInternals;if(i===void 0)throw typeof n.render=="function"?Error(a(188)):(n=Object.keys(n).join(","),Error(a(268,n)));return n=ie(i),n=n!==null?ge(n):null,n=n===null?null:n.stateNode,n};var s1={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Vt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ch.isDisabled&&ch.supportsFiber)try{br=ch.inject(s1),tn=ch}catch{}}return su.createRoot=function(n,i){if(!o(n))throw Error(a(299));var s=!1,u="",f=nv,p=rv,_=iv,w=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(u=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(p=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=D_(n,1,!1,null,null,s,u,f,p,_,w,null),n[ot]=i.current,cm(n.nodeType===8?n.parentNode:n),new Cm(i)},su.hydrateRoot=function(n,i,s){if(!o(n))throw Error(a(299));var u=!1,f="",p=nv,_=rv,w=iv,N=null,z=null;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(N=s.unstable_transitionCallbacks),s.formState!==void 0&&(z=s.formState)),i=D_(n,1,!0,i,s??null,u,f,p,_,w,N,z),i.context=N_(null),s=i.current,u=Kn(),f=fa(u),f.callback=null,da(s,f,u),i.current.lanes=u,te(i,u),Zr(i),n[ot]=i.current,cm(n),new uh(i)},su.version="19.0.0",su}var Y_;function p1(){if(Y_)return Dm.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Dm.exports=m1(),Dm.exports}var g1=p1();const y1=rT(g1);var k=Op();const Vs=rT(k);var ou={},X_;function v1(){if(X_)return ou;X_=1,Object.defineProperty(ou,"__esModule",{value:!0}),ou.parse=h,ou.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,l=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,D){const L=new l,Y=R.length;if(Y<2)return L;const H=(D==null?void 0:D.decode)||E;let W=0;do{const J=R.indexOf("=",W);if(J===-1)break;const ae=R.indexOf(";",W),de=ae===-1?Y:ae;if(J>de){W=R.lastIndexOf(";",J-1)+1;continue}const U=d(R,W,J),ce=m(R,J,U),P=R.slice(U,ce);if(L[P]===void 0){let C=d(R,J+1,de),A=m(R,de,C);const I=H(R.slice(C,A));L[P]=I}W=de+1}while(W<Y);return L}function d(R,D,L){do{const Y=R.charCodeAt(D);if(Y!==32&&Y!==9)return D}while(++D<L);return L}function m(R,D,L){for(;D>L;){const Y=R.charCodeAt(--D);if(Y!==32&&Y!==9)return D+1}return L}function g(R,D,L){const Y=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const H=Y(D);if(!e.test(H))throw new TypeError(`argument val is invalid: ${D}`);let W=R+"="+H;if(!L)return W;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);W+="; Max-Age="+L.maxAge}if(L.domain){if(!t.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);W+="; Domain="+L.domain}if(L.path){if(!a.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);W+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);W+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(W+="; HttpOnly"),L.secure&&(W+="; Secure"),L.partitioned&&(W+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":W+="; Priority=Low";break;case"medium":W+="; Priority=Medium";break;case"high":W+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":W+="; SameSite=Strict";break;case"lax":W+="; SameSite=Lax";break;case"none":W+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return W}function E(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return ou}v1();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var aT=r=>{throw TypeError(r)},_1=(r,e,t)=>e.has(r)||aT("Cannot "+t),Pm=(r,e,t)=>(_1(r,e,"read from private field"),t?t.call(r):e.get(r)),E1=(r,e,t)=>e.has(r)?aT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),W_="popstate";function T1(r={}){function e(a,o){let{pathname:l,search:h,hash:d}=a.location;return Ru("",{pathname:l,search:h,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(a,o){return typeof o=="string"?o:za(o)}return w1(e,t,null,r)}function et(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function b1(){return Math.random().toString(36).substring(2,10)}function Z_(r,e){return{usr:r.state,key:r.key,idx:e}}function Ru(r,e,t=null,a){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Qa(e):e,state:t,key:e&&e.key||a||b1()}}function za({pathname:r="/",search:e="",hash:t=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(r+=t.charAt(0)==="#"?t:"#"+t),r}function Qa(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substring(t),r=r.substring(0,t));let a=r.indexOf("?");a>=0&&(e.search=r.substring(a),r=r.substring(0,a)),r&&(e.pathname=r)}return e}function w1(r,e,t,a={}){let{window:o=document.defaultView,v5Compat:l=!1}=a,h=o.history,d="POP",m=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){d="POP";let H=E(),W=H==null?null:H-g;g=H,m&&m({action:d,location:Y.location,delta:W})}function R(H,W){d="PUSH";let J=Ru(Y.location,H,W);g=E()+1;let ae=Z_(J,g),de=Y.createHref(J);try{h.pushState(ae,"",de)}catch(U){if(U instanceof DOMException&&U.name==="DataCloneError")throw U;o.location.assign(de)}l&&m&&m({action:d,location:Y.location,delta:1})}function D(H,W){d="REPLACE";let J=Ru(Y.location,H,W);g=E();let ae=Z_(J,g),de=Y.createHref(J);h.replaceState(ae,"",de),l&&m&&m({action:d,location:Y.location,delta:0})}function L(H){let W=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof H=="string"?H:za(H);return J=J.replace(/ $/,"%20"),et(W,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,W)}let Y={get action(){return d},get location(){return r(o,h)},listen(H){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(W_,b),m=H,()=>{o.removeEventListener(W_,b),m=null}},createHref(H){return e(o,H)},createURL:L,encodeLocation(H){let W=L(H);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:R,replace:D,go(H){return h.go(H)}};return Y}var hu,J_=class{constructor(r){if(E1(this,hu,new Map),r)for(let[e,t]of r)this.set(e,t)}get(r){if(Pm(this,hu).has(r))return Pm(this,hu).get(r);if(r.defaultValue!==void 0)return r.defaultValue;throw new Error("No value found for context")}set(r,e){Pm(this,hu).set(r,e)}};hu=new WeakMap;var S1=new Set(["lazy","caseSensitive","path","id","index","children"]);function A1(r){return r.index===!0}function Ph(r,e,t=[],a={}){return r.map((o,l)=>{let h=[...t,String(l)],d=typeof o.id=="string"?o.id:h.join("-");if(et(o.index!==!0||!o.children,"Cannot specify children on an index route"),et(!a[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),A1(o)){let m={...o,...e(o),id:d};return a[d]=m,m}else{let m={...o,...e(o),id:d,children:void 0};return a[d]=m,o.children&&(m.children=Ph(o.children,e,h,a)),m}})}function Ca(r,e,t="/"){return Eh(r,e,t,!1)}function Eh(r,e,t,a){let o=typeof e=="string"?Qa(e):e,l=Er(o.pathname||"/",t);if(l==null)return null;let h=sT(r);C1(h);let d=null;for(let m=0;d==null&&m<h.length;++m){let g=U1(l);d=L1(h[m],g,a)}return d}function R1(r,e){let{route:t,pathname:a,params:o}=r;return{id:t.id,pathname:a,params:o,data:e[t.id],handle:t.handle}}function sT(r,e=[],t=[],a=""){let o=(l,h,d)=>{let m={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};m.relativePath.startsWith("/")&&(et(m.relativePath.startsWith(a),`Absolute route path "${m.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(a.length));let g=ei([a,m.relativePath]),E=t.concat(m);l.children&&l.children.length>0&&(et(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),sT(l.children,e,E,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:P1(g,l.index),routesMeta:E})};return r.forEach((l,h)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))o(l,h);else for(let m of oT(l.path))o(l,h,m)}),e}function oT(r){let e=r.split("/");if(e.length===0)return[];let[t,...a]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(a.length===0)return o?[l,""]:[l];let h=oT(a.join("/")),d=[];return d.push(...h.map(m=>m===""?l:[l,m].join("/"))),o&&d.push(...h),d.map(m=>r.startsWith("/")&&m===""?"/":m)}function C1(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:V1(e.routesMeta.map(a=>a.childrenIndex),t.routesMeta.map(a=>a.childrenIndex)))}var I1=/^:[\w-]+$/,D1=3,N1=2,x1=1,O1=10,M1=-2,e0=r=>r==="*";function P1(r,e){let t=r.split("/"),a=t.length;return t.some(e0)&&(a+=M1),e&&(a+=N1),t.filter(o=>!e0(o)).reduce((o,l)=>o+(I1.test(l)?D1:l===""?x1:O1),a)}function V1(r,e){return r.length===e.length&&r.slice(0,-1).every((a,o)=>a===e[o])?r[r.length-1]-e[e.length-1]:0}function L1(r,e,t=!1){let{routesMeta:a}=r,o={},l="/",h=[];for(let d=0;d<a.length;++d){let m=a[d],g=d===a.length-1,E=l==="/"?e:e.slice(l.length)||"/",b=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},E),R=m.route;if(!b&&g&&t&&!a[a.length-1].route.index&&(b=Vh({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:ei([l,b.pathname]),pathnameBase:B1(ei([l,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(l=ei([l,b.pathnameBase]))}return h}function Vh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,a]=k1(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:a.reduce((g,{paramName:E,isOptional:b},R)=>{if(E==="*"){let L=d[R]||"";h=l.slice(0,l.length-L.length).replace(/(.)\/+$/,"$1")}const D=d[R];return b&&!D?g[E]=void 0:g[E]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:h,pattern:r}}function k1(r,e=!1,t=!0){vn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let a=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,m)=>(a.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(a.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),a]}function U1(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function Er(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,a=r.charAt(t);return a&&a!=="/"?null:r.slice(t)||"/"}function j1(r,e="/"){let{pathname:t,search:a="",hash:o=""}=typeof r=="string"?Qa(r):r;return{pathname:t?t.startsWith("/")?t:z1(t,e):e,search:H1(a),hash:F1(o)}}function z1(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Vm(r,e,t,a){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function lT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Mp(r){let e=lT(r);return e.map((t,a)=>a===e.length-1?t.pathname:t.pathnameBase)}function Pp(r,e,t,a=!1){let o;typeof r=="string"?o=Qa(r):(o={...r},et(!o.pathname||!o.pathname.includes("?"),Vm("?","pathname","search",o)),et(!o.pathname||!o.pathname.includes("#"),Vm("#","pathname","hash",o)),et(!o.search||!o.search.includes("#"),Vm("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,d;if(h==null)d=t;else{let b=e.length-1;if(!a&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}d=b>=0?e[b]:"/"}let m=j1(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(l||h===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||E)&&(m.pathname+="/"),m}var ei=r=>r.join("/").replace(/\/\/+/g,"/"),B1=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),H1=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,F1=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,Lh=class{constructor(r,e,t,a=!1){this.status=r,this.statusText=e||"",this.internal=a,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function Cu(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var uT=["POST","PUT","PATCH","DELETE"],q1=new Set(uT),G1=["GET",...uT],$1=new Set(G1),K1=new Set([301,302,303,307,308]),Q1=new Set([307,308]),Lm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Y1={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},lu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Vp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X1=r=>({hasErrorBoundary:!!r.hasErrorBoundary}),cT="remix-router-transitions",hT=Symbol("ResetLoaderData");function W1(r){const e=r.window?r.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";et(r.routes.length>0,"You must provide a non-empty routes array to createRouter");let a=r.mapRouteProperties||X1,o={},l=Ph(r.routes,a,void 0,o),h,d=r.basename||"/",m=r.dataStrategy||nR,g={unstable_middleware:!1,...r.future},E=null,b=new Set,R=null,D=null,L=null,Y=r.hydrationData!=null,H=Ca(l,r.history.location,d),W=!1,J=null;if(H==null&&!r.patchRoutesOnNavigation){let V=gr(404,{pathname:r.history.location.pathname}),{matches:F,route:Q}=f0(l);H=F,J={[Q.id]:V}}H&&!r.hydrationData&&En(H,l,r.history.location.pathname).active&&(H=null);let ae;if(H)if(H.some(V=>V.route.lazy))ae=!1;else if(!H.some(V=>V.route.loader))ae=!0;else{let V=r.hydrationData?r.hydrationData.loaderData:null,F=r.hydrationData?r.hydrationData.errors:null;if(F){let Q=H.findIndex(te=>F[te.route.id]!==void 0);ae=H.slice(0,Q+1).every(te=>!ep(te.route,V,F))}else ae=H.every(Q=>!ep(Q.route,V,F))}else{ae=!1,H=[];let V=En(null,l,r.history.location.pathname);V.active&&V.matches&&(W=!0,H=V.matches)}let de,U={historyAction:r.history.action,location:r.history.location,matches:H,initialized:ae,navigation:Lm,restoreScrollPosition:r.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:r.hydrationData&&r.hydrationData.loaderData||{},actionData:r.hydrationData&&r.hydrationData.actionData||null,errors:r.hydrationData&&r.hydrationData.errors||J,fetchers:new Map,blockers:new Map},ce="POP",P=!1,C,A=!1,I=new Map,M=null,B=!1,x=!1,Fe=new Set,Ue=new Map,le=0,we=-1,ye=new Map,De=new Set,O=new Map,ie=new Map,ge=new Set,he=new Map,me,Ve=null;function Be(){if(E=r.history.listen(({action:V,location:F,delta:Q})=>{if(me){me(),me=void 0;return}vn(he.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let te=nn({currentLocation:U.location,nextLocation:F,historyAction:V});if(te&&Q!=null){let fe=new Promise(Ce=>{me=Ce});r.history.go(Q*-1),Cn(te,{state:"blocked",location:F,proceed(){Cn(te,{state:"proceeding",proceed:void 0,reset:void 0,location:F}),fe.then(()=>r.history.go(Q))},reset(){let Ce=new Map(U.blockers);Ce.set(te,lu),Ke({blockers:Ce})}});return}return Ut(V,F)}),t){mR(e,I);let V=()=>pR(e,I);e.addEventListener("pagehide",V),M=()=>e.removeEventListener("pagehide",V)}return U.initialized||Ut("POP",U.location,{initialHydration:!0}),de}function Dt(){E&&E(),M&&M(),b.clear(),C&&C.abort(),U.fetchers.forEach((V,F)=>Bn(F)),U.blockers.forEach((V,F)=>Ji(F))}function tt(V){return b.add(V),()=>b.delete(V)}function Ke(V,F={}){U={...U,...V};let Q=[],te=[];U.fetchers.forEach((fe,Ce)=>{fe.state==="idle"&&(ge.has(Ce)?Q.push(Ce):te.push(Ce))}),ge.forEach(fe=>{!U.fetchers.has(fe)&&!Ue.has(fe)&&Q.push(fe)}),[...b].forEach(fe=>fe(U,{deletedFetchers:Q,viewTransitionOpts:F.viewTransitionOpts,flushSync:F.flushSync===!0})),Q.forEach(fe=>Bn(fe)),te.forEach(fe=>U.fetchers.delete(fe))}function Xe(V,F,{flushSync:Q}={}){var pe,_e;let te=U.actionData!=null&&U.navigation.formMethod!=null&&Dr(U.navigation.formMethod)&&U.navigation.state==="loading"&&((pe=V.state)==null?void 0:pe._isRedirect)!==!0,fe;F.actionData?Object.keys(F.actionData).length>0?fe=F.actionData:fe=null:te?fe=U.actionData:fe=null;let Ce=F.loaderData?c0(U.loaderData,F.loaderData,F.matches||[],F.errors):U.loaderData,Re=U.blockers;Re.size>0&&(Re=new Map(Re),Re.forEach((Ee,xe)=>Re.set(xe,lu)));let be=P===!0||U.navigation.formMethod!=null&&Dr(U.navigation.formMethod)&&((_e=V.state)==null?void 0:_e._isRedirect)!==!0;h&&(l=h,h=void 0),B||ce==="POP"||(ce==="PUSH"?r.history.push(V,V.state):ce==="REPLACE"&&r.history.replace(V,V.state));let Se;if(ce==="POP"){let Ee=I.get(U.location.pathname);Ee&&Ee.has(V.pathname)?Se={currentLocation:U.location,nextLocation:V}:I.has(V.pathname)&&(Se={currentLocation:V,nextLocation:U.location})}else if(A){let Ee=I.get(U.location.pathname);Ee?Ee.add(V.pathname):(Ee=new Set([V.pathname]),I.set(U.location.pathname,Ee)),Se={currentLocation:U.location,nextLocation:V}}Ke({...F,actionData:fe,loaderData:Ce,historyAction:ce,location:V,initialized:!0,navigation:Lm,revalidation:"idle",restoreScrollPosition:wr(V,F.matches||U.matches),preventScrollReset:be,blockers:Re},{viewTransitionOpts:Se,flushSync:Q===!0}),ce="POP",P=!1,A=!1,B=!1,x=!1,Ve==null||Ve.resolve(),Ve=null}async function Jt(V,F){if(typeof V=="number"){r.history.go(V);return}let Q=Jm(U.location,U.matches,d,V,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:te,submission:fe,error:Ce}=t0(!1,Q,F),Re=U.location,be=Ru(U.location,te,F&&F.state);be={...be,...r.history.encodeLocation(be)};let Se=F&&F.replace!=null?F.replace:void 0,pe="PUSH";Se===!0?pe="REPLACE":Se===!1||fe!=null&&Dr(fe.formMethod)&&fe.formAction===U.location.pathname+U.location.search&&(pe="REPLACE");let _e=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,Ee=(F&&F.flushSync)===!0,xe=nn({currentLocation:Re,nextLocation:be,historyAction:pe});if(xe){Cn(xe,{state:"blocked",location:be,proceed(){Cn(xe,{state:"proceeding",proceed:void 0,reset:void 0,location:be}),Jt(V,F)},reset(){let ot=new Map(U.blockers);ot.set(xe,lu),Ke({blockers:ot})}});return}await Ut(pe,be,{submission:fe,pendingError:Ce,preventScrollReset:_e,replace:F&&F.replace,enableViewTransition:F&&F.viewTransition,flushSync:Ee})}function Tr(){Ve||(Ve=gR()),en(),Ke({revalidation:"loading"});let V=Ve.promise;return U.navigation.state==="submitting"?V:U.navigation.state==="idle"?(Ut(U.historyAction,U.location,{startUninterruptedRevalidation:!0}),V):(Ut(ce||U.historyAction,U.navigation.location,{overrideNavigation:U.navigation,enableViewTransition:A===!0}),V)}async function Ut(V,F,Q){C&&C.abort(),C=null,ce=V,B=(Q&&Q.startUninterruptedRevalidation)===!0,Zn(U.location,U.matches),P=(Q&&Q.preventScrollReset)===!0,A=(Q&&Q.enableViewTransition)===!0;let te=h||l,fe=Q&&Q.overrideNavigation,Ce=Q!=null&&Q.initialHydration&&U.matches&&U.matches.length>0&&!W?U.matches:Ca(te,F,d),Re=(Q&&Q.flushSync)===!0;if(Ce&&U.initialized&&!x&&uR(U.location,F)&&!(Q&&Q.submission&&Dr(Q.submission.formMethod))){Xe(F,{matches:Ce},{flushSync:Re});return}let be=En(Ce,te,F.pathname);if(be.active&&be.matches&&(Ce=be.matches),!Ce){let{error:vt,notFoundMatches:st,route:wt}=mi(F.pathname);Xe(F,{matches:st,loaderData:{},errors:{[wt.id]:vt}},{flushSync:Re});return}C=new AbortController;let Se=Uo(r.history,F,C.signal,Q&&Q.submission),pe=new J_(r.unstable_getContext?await r.unstable_getContext():void 0),_e;if(Q&&Q.pendingError)_e=[Ns(Ce).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&Dr(Q.submission.formMethod)){let vt=await Vr(Se,F,Q.submission,Ce,pe,be.active,{replace:Q.replace,flushSync:Re});if(vt.shortCircuited)return;if(vt.pendingActionResult){let[st,wt]=vt.pendingActionResult;if(Qn(wt)&&Cu(wt.error)&&wt.error.status===404){C=null,Xe(F,{matches:vt.matches,loaderData:{},errors:{[st]:wt.error}});return}}Ce=vt.matches||Ce,_e=vt.pendingActionResult,fe=km(F,Q.submission),Re=!1,be.active=!1,Se=Uo(r.history,Se.url,Se.signal)}let{shortCircuited:Ee,matches:xe,loaderData:ot,errors:St}=await Lr(Se,F,Ce,pe,be.active,fe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Re,_e);Ee||(C=null,Xe(F,{matches:xe||Ce,...h0(_e),loaderData:ot,errors:St}))}async function Vr(V,F,Q,te,fe,Ce,Re={}){en();let be=fR(F,Q);if(Ke({navigation:be},{flushSync:Re.flushSync===!0}),Ce){let _e=await hn(te,F.pathname,V.signal);if(_e.type==="aborted")return{shortCircuited:!0};if(_e.type==="error"){let Ee=Ns(_e.partialMatches).route.id;return{matches:_e.partialMatches,pendingActionResult:[Ee,{type:"error",error:_e.error}]}}else if(_e.matches)te=_e.matches;else{let{notFoundMatches:Ee,error:xe,route:ot}=mi(F.pathname);return{matches:Ee,pendingActionResult:[ot.id,{type:"error",error:xe}]}}}let Se,pe=fu(te,F);if(!pe.route.action&&!pe.route.lazy)Se={type:"error",error:gr(405,{method:V.method,pathname:F.pathname,routeId:pe.route.id})};else{let _e=await di("action",V,[pe],te,fe,null);if(Se=_e[pe.route.id],!Se){for(let Ee of te)if(_e[Ee.route.id]){Se=_e[Ee.route.id];break}}if(V.signal.aborted)return{shortCircuited:!0}}if(xs(Se)){let _e;return Re&&Re.replace!=null?_e=Re.replace:_e=o0(Se.response.headers.get("Location"),new URL(V.url),d)===U.location.pathname+U.location.search,await Pn(V,Se,!0,{submission:Q,replace:_e}),{shortCircuited:!0}}if(Qn(Se)){let _e=Ns(te,pe.route.id);return(Re&&Re.replace)!==!0&&(ce="PUSH"),{matches:te,pendingActionResult:[_e.route.id,Se]}}return{matches:te,pendingActionResult:[pe.route.id,Se]}}async function Lr(V,F,Q,te,fe,Ce,Re,be,Se,pe,_e,Ee){let xe=Ce||km(F,Re),ot=Re||be||m0(xe),St=!B&&!pe;if(fe){if(St){let ft=Wn(Ee);Ke({navigation:xe,...ft!==void 0?{actionData:ft}:{}},{flushSync:_e})}let qe=await hn(Q,F.pathname,V.signal);if(qe.type==="aborted")return{shortCircuited:!0};if(qe.type==="error"){let ft=Ns(qe.partialMatches).route.id;return{matches:qe.partialMatches,loaderData:{},errors:{[ft]:qe.error}}}else if(qe.matches)Q=qe.matches;else{let{error:ft,notFoundMatches:rn,route:pi}=mi(F.pathname);return{matches:rn,loaderData:{},errors:{[pi.id]:ft}}}}let vt=h||l,[st,wt]=r0(r.history,U,Q,ot,F,pe===!0,x,Fe,ge,O,De,vt,d,Ee);if(we=++le,st.length===0&&wt.length===0){let qe=kr();return Xe(F,{matches:Q,loaderData:{},errors:Ee&&Qn(Ee[1])?{[Ee[0]]:Ee[1].error}:null,...h0(Ee),...qe?{fetchers:new Map(U.fetchers)}:{}},{flushSync:_e}),{shortCircuited:!0}}if(St){let qe={};if(!fe){qe.navigation=xe;let ft=Wn(Ee);ft!==void 0&&(qe.actionData=ft)}wt.length>0&&(qe.fetchers=Za(wt)),Ke(qe,{flushSync:_e})}wt.forEach(qe=>{Vn(qe.key),qe.controller&&Ue.set(qe.key,qe.controller)});let In=()=>wt.forEach(qe=>Vn(qe.key));C&&C.signal.addEventListener("abort",In);let{loaderResults:Hn,fetcherResults:Vt}=await Zi(Q,st,wt,V,te);if(V.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",In),wt.forEach(qe=>Ue.delete(qe.key));let jt=hh(Hn);if(jt)return await Pn(V,jt.result,!0,{replace:Se}),{shortCircuited:!0};if(jt=hh(Vt),jt)return De.add(jt.key),await Pn(V,jt.result,!0,{replace:Se}),{shortCircuited:!0};let{loaderData:Jn,errors:Ln}=u0(U,Q,Hn,Ee,wt,Vt);pe&&U.errors&&(Ln={...U.errors,...Ln});let ht=kr(),jr=br(we),Sr=ht||jr||wt.length>0;return{matches:Q,loaderData:Jn,errors:Ln,...Sr?{fetchers:new Map(U.fetchers)}:{}}}function Wn(V){if(V&&!Qn(V[1]))return{[V[0]]:V[1].data};if(U.actionData)return Object.keys(U.actionData).length===0?null:U.actionData}function Za(V){return V.forEach(F=>{let Q=U.fetchers.get(F.key),te=uu(void 0,Q?Q.data:void 0);U.fetchers.set(F.key,te)}),new Map(U.fetchers)}async function Xi(V,F,Q,te){Vn(V);let fe=(te&&te.flushSync)===!0,Ce=h||l,Re=Jm(U.location,U.matches,d,Q,F,te==null?void 0:te.relative),be=Ca(Ce,Re,d),Se=En(be,Ce,Re);if(Se.active&&Se.matches&&(be=Se.matches),!be){pt(V,F,gr(404,{pathname:Re}),{flushSync:fe});return}let{path:pe,submission:_e,error:Ee}=t0(!0,Re,te);if(Ee){pt(V,F,Ee,{flushSync:fe});return}let xe=fu(be,pe),ot=new J_(r.unstable_getContext?await r.unstable_getContext():void 0),St=(te&&te.preventScrollReset)===!0;if(_e&&Dr(_e.formMethod)){await Wi(V,F,pe,xe,be,ot,Se.active,fe,St,_e);return}O.set(V,{routeId:F,path:pe}),await fi(V,F,pe,xe,be,ot,Se.active,fe,St,_e)}async function Wi(V,F,Q,te,fe,Ce,Re,be,Se,pe){en(),O.delete(V);function _e(Et){if(!Et.route.action&&!Et.route.lazy){let er=gr(405,{method:pe.formMethod,pathname:Q,routeId:F});return pt(V,F,er,{flushSync:be}),!0}return!1}if(!Re&&_e(te))return;let Ee=U.fetchers.get(V);zn(V,dR(pe,Ee),{flushSync:be});let xe=new AbortController,ot=Uo(r.history,Q,xe.signal,pe);if(Re){let Et=await hn(fe,Q,ot.signal,V);if(Et.type==="aborted")return;if(Et.type==="error"){pt(V,F,Et.error,{flushSync:be});return}else if(Et.matches){if(fe=Et.matches,te=fu(fe,Q),_e(te))return}else{pt(V,F,gr(404,{pathname:Q}),{flushSync:be});return}}Ue.set(V,xe);let St=le,st=(await di("action",ot,[te],fe,Ce,V))[te.route.id];if(ot.signal.aborted){Ue.get(V)===xe&&Ue.delete(V);return}if(ge.has(V)){if(xs(st)||Qn(st)){zn(V,Ra(void 0));return}}else{if(xs(st))if(Ue.delete(V),we>St){zn(V,Ra(void 0));return}else return De.add(V),zn(V,uu(pe)),Pn(ot,st,!1,{fetcherSubmission:pe,preventScrollReset:Se});if(Qn(st)){pt(V,F,st.error);return}}let wt=U.navigation.location||U.location,In=Uo(r.history,wt,xe.signal),Hn=h||l,Vt=U.navigation.state!=="idle"?Ca(Hn,U.navigation.location,d):U.matches;et(Vt,"Didn't find any matches after fetcher action");let jt=++le;ye.set(V,jt);let Jn=uu(pe,st.data);U.fetchers.set(V,Jn);let[Ln,ht]=r0(r.history,U,Vt,pe,wt,!1,x,Fe,ge,O,De,Hn,d,[te.route.id,st]);ht.filter(Et=>Et.key!==V).forEach(Et=>{let er=Et.key,es=U.fetchers.get(er),zr=uu(void 0,es?es.data:void 0);U.fetchers.set(er,zr),Vn(er),Et.controller&&Ue.set(er,Et.controller)}),Ke({fetchers:new Map(U.fetchers)});let jr=()=>ht.forEach(Et=>Vn(Et.key));xe.signal.addEventListener("abort",jr);let{loaderResults:Sr,fetcherResults:qe}=await Zi(Vt,Ln,ht,In,Ce);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",jr),ye.delete(V),Ue.delete(V),ht.forEach(Et=>Ue.delete(Et.key));let ft=hh(Sr);if(ft)return Pn(In,ft.result,!1,{preventScrollReset:Se});if(ft=hh(qe),ft)return De.add(ft.key),Pn(In,ft.result,!1,{preventScrollReset:Se});let{loaderData:rn,errors:pi}=u0(U,Vt,Sr,void 0,ht,qe);if(U.fetchers.has(V)){let Et=Ra(st.data);U.fetchers.set(V,Et)}br(jt),U.navigation.state==="loading"&&jt>we?(et(ce,"Expected pending action"),C&&C.abort(),Xe(U.navigation.location,{matches:Vt,loaderData:rn,errors:pi,fetchers:new Map(U.fetchers)})):(Ke({errors:pi,loaderData:c0(U.loaderData,rn,Vt,pi),fetchers:new Map(U.fetchers)}),x=!1)}async function fi(V,F,Q,te,fe,Ce,Re,be,Se,pe){let _e=U.fetchers.get(V);zn(V,uu(pe,_e?_e.data:void 0),{flushSync:be});let Ee=new AbortController,xe=Uo(r.history,Q,Ee.signal);if(Re){let st=await hn(fe,Q,xe.signal,V);if(st.type==="aborted")return;if(st.type==="error"){pt(V,F,st.error,{flushSync:be});return}else if(st.matches)fe=st.matches,te=fu(fe,Q);else{pt(V,F,gr(404,{pathname:Q}),{flushSync:be});return}}Ue.set(V,Ee);let ot=le,vt=(await di("loader",xe,[te],fe,Ce,V))[te.route.id];if(Ue.get(V)===Ee&&Ue.delete(V),!xe.signal.aborted){if(ge.has(V)){zn(V,Ra(void 0));return}if(xs(vt))if(we>ot){zn(V,Ra(void 0));return}else{De.add(V),await Pn(xe,vt,!1,{preventScrollReset:Se});return}if(Qn(vt)){pt(V,F,vt.error);return}zn(V,Ra(vt.data))}}async function Pn(V,F,Q,{submission:te,fetcherSubmission:fe,preventScrollReset:Ce,replace:Re}={}){F.response.headers.has("X-Remix-Revalidate")&&(x=!0);let be=F.response.headers.get("Location");et(be,"Expected a Location header on the redirect Response"),be=o0(be,new URL(V.url),d);let Se=Ru(U.location,be,{_isRedirect:!0});if(t){let St=!1;if(F.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(Vp.test(be)){const vt=r.history.createURL(be);St=vt.origin!==e.location.origin||Er(vt.pathname,d)==null}if(St){Re?e.location.replace(be):e.location.assign(be);return}}C=null;let pe=Re===!0||F.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:_e,formAction:Ee,formEncType:xe}=U.navigation;!te&&!fe&&_e&&Ee&&xe&&(te=m0(U.navigation));let ot=te||fe;if(Q1.has(F.response.status)&&ot&&Dr(ot.formMethod))await Ut(pe,Se,{submission:{...ot,formAction:be},preventScrollReset:Ce||P,enableViewTransition:Q?A:void 0});else{let St=km(Se,te);await Ut(pe,Se,{overrideNavigation:St,fetcherSubmission:fe,preventScrollReset:Ce||P,enableViewTransition:Q?A:void 0})}}async function di(V,F,Q,te,fe,Ce){let Re,be={};try{Re=await iR(m,V,F,Q,te,Ce,o,a,fe,g.unstable_middleware)}catch(Se){return Q.forEach(pe=>{be[pe.route.id]={type:"error",error:Se}}),be}for(let[Se,pe]of Object.entries(Re))if(cR(pe)){let _e=pe.result;be[Se]={type:"redirect",response:oR(_e,F,Se,te,d)}}else be[Se]=await sR(pe);return be}async function Zi(V,F,Q,te,fe){let Ce=di("loader",te,F,V,fe,null),Re=Promise.all(Q.map(async pe=>{if(pe.matches&&pe.match&&pe.controller){let Ee=(await di("loader",Uo(r.history,pe.path,pe.controller.signal),[pe.match],pe.matches,fe,pe.key))[pe.match.route.id];return{[pe.key]:Ee}}else return Promise.resolve({[pe.key]:{type:"error",error:gr(404,{pathname:pe.path})}})})),be=await Ce,Se=(await Re).reduce((pe,_e)=>Object.assign(pe,_e),{});return{loaderResults:be,fetcherResults:Se}}function en(){x=!0,O.forEach((V,F)=>{Ue.has(F)&&Fe.add(F),Vn(F)})}function zn(V,F,Q={}){U.fetchers.set(V,F),Ke({fetchers:new Map(U.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function pt(V,F,Q,te={}){let fe=Ns(U.matches,F);Bn(V),Ke({errors:{[fe.route.id]:Q},fetchers:new Map(U.fetchers)},{flushSync:(te&&te.flushSync)===!0})}function Pt(V){return ie.set(V,(ie.get(V)||0)+1),ge.has(V)&&ge.delete(V),U.fetchers.get(V)||Y1}function Bn(V){let F=U.fetchers.get(V);Ue.has(V)&&!(F&&F.state==="loading"&&ye.has(V))&&Vn(V),O.delete(V),ye.delete(V),De.delete(V),ge.delete(V),Fe.delete(V),U.fetchers.delete(V)}function Ws(V){let F=(ie.get(V)||0)-1;F<=0?(ie.delete(V),ge.add(V)):ie.set(V,F),Ke({fetchers:new Map(U.fetchers)})}function Vn(V){let F=Ue.get(V);F&&(F.abort(),Ue.delete(V))}function Zs(V){for(let F of V){let Q=Pt(F),te=Ra(Q.data);U.fetchers.set(F,te)}}function kr(){let V=[],F=!1;for(let Q of De){let te=U.fetchers.get(Q);et(te,`Expected fetcher: ${Q}`),te.state==="loading"&&(De.delete(Q),V.push(Q),F=!0)}return Zs(V),F}function br(V){let F=[];for(let[Q,te]of ye)if(te<V){let fe=U.fetchers.get(Q);et(fe,`Expected fetcher: ${Q}`),fe.state==="loading"&&(Vn(Q),ye.delete(Q),F.push(Q))}return Zs(F),F.length>0}function tn(V,F){let Q=U.blockers.get(V)||lu;return he.get(V)!==F&&he.set(V,F),Q}function Ji(V){U.blockers.delete(V),he.delete(V)}function Cn(V,F){let Q=U.blockers.get(V)||lu;et(Q.state==="unblocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="proceeding"||Q.state==="blocked"&&F.state==="unblocked"||Q.state==="proceeding"&&F.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${F.state}`);let te=new Map(U.blockers);te.set(V,F),Ke({blockers:te})}function nn({currentLocation:V,nextLocation:F,historyAction:Q}){if(he.size===0)return;he.size>1&&vn(!1,"A router only supports one blocker at a time");let te=Array.from(he.entries()),[fe,Ce]=te[te.length-1],Re=U.blockers.get(fe);if(!(Re&&Re.state==="proceeding")&&Ce({currentLocation:V,nextLocation:F,historyAction:Q}))return fe}function mi(V){let F=gr(404,{pathname:V}),Q=h||l,{matches:te,route:fe}=f0(Q);return{notFoundMatches:te,route:fe,error:F}}function Js(V,F,Q){if(R=V,L=F,D=Q||null,!Y&&U.navigation===Lm){Y=!0;let te=wr(U.location,U.matches);te!=null&&Ke({restoreScrollPosition:te})}return()=>{R=null,L=null,D=null}}function Ja(V,F){return D&&D(V,F.map(te=>R1(te,U.loaderData)))||V.key}function Zn(V,F){if(R&&L){let Q=Ja(V,F);R[Q]=L()}}function wr(V,F){if(R){let Q=Ja(V,F),te=R[Q];if(typeof te=="number")return te}return null}function En(V,F,Q){if(r.patchRoutesOnNavigation)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Eh(F,Q,d,!0)}}else return{active:!0,matches:Eh(F,Q,d,!0)||[]};return{active:!1,matches:null}}async function hn(V,F,Q,te){if(!r.patchRoutesOnNavigation)return{type:"success",matches:V};let fe=V;for(;;){let Ce=h==null,Re=h||l,be=o;try{await r.patchRoutesOnNavigation({signal:Q,path:F,matches:fe,fetcherKey:te,patch:(_e,Ee)=>{Q.aborted||a0(_e,Ee,Re,be,a)}})}catch(_e){return{type:"error",error:_e,partialMatches:fe}}finally{Ce&&!Q.aborted&&(l=[...l])}if(Q.aborted)return{type:"aborted"};let Se=Ca(Re,F,d);if(Se)return{type:"success",matches:Se};let pe=Eh(Re,F,d,!0);if(!pe||fe.length===pe.length&&fe.every((_e,Ee)=>_e.route.id===pe[Ee].route.id))return{type:"success",matches:null};fe=pe}}function Ur(V){o={},h=Ph(V,a,void 0,o)}function ea(V,F){let Q=h==null;a0(V,F,h||l,o,a),Q&&(l=[...l],Ke({}))}return de={get basename(){return d},get future(){return g},get state(){return U},get routes(){return l},get window(){return e},initialize:Be,subscribe:tt,enableScrollRestoration:Js,navigate:Jt,fetch:Xi,revalidate:Tr,createHref:V=>r.history.createHref(V),encodeLocation:V=>r.history.encodeLocation(V),getFetcher:Pt,deleteFetcher:Ws,dispose:Dt,getBlocker:tn,deleteBlocker:Ji,patchRoutes:ea,_internalFetchControllers:Ue,_internalSetRoutes:Ur},de}function Z1(r){return r!=null&&("formData"in r&&r.formData!=null||"body"in r&&r.body!==void 0)}function Jm(r,e,t,a,o,l){let h,d;if(o){h=[];for(let g of e)if(h.push(g),g.route.id===o){d=g;break}}else h=e,d=e[e.length-1];let m=Pp(a||".",Mp(h),Er(r.pathname,t)||r.pathname,l==="path");if(a==null&&(m.search=r.search,m.hash=r.hash),(a==null||a===""||a===".")&&d){let g=Lp(m.search);if(d.route.index&&!g)m.search=m.search?m.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&g){let E=new URLSearchParams(m.search),b=E.getAll("index");E.delete("index"),b.filter(D=>D).forEach(D=>E.append("index",D));let R=E.toString();m.search=R?`?${R}`:""}}return t!=="/"&&(m.pathname=m.pathname==="/"?t:ei([t,m.pathname])),za(m)}function t0(r,e,t){if(!t||!Z1(t))return{path:e};if(t.formMethod&&!hR(t.formMethod))return{path:e,error:gr(405,{method:t.formMethod})};let a=()=>({path:e,error:gr(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),h=mT(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!Dr(l))return a();let b=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((R,[D,L])=>`${R}${D}=${L}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:b}}}else if(t.formEncType==="application/json"){if(!Dr(l))return a();try{let b=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:b,text:void 0}}}catch{return a()}}}et(typeof FormData=="function","FormData is not available in this environment");let d,m;if(t.formData)d=tp(t.formData),m=t.formData;else if(t.body instanceof FormData)d=tp(t.body),m=t.body;else if(t.body instanceof URLSearchParams)d=t.body,m=l0(d);else if(t.body==null)d=new URLSearchParams,m=new FormData;else try{d=new URLSearchParams(t.body),m=l0(d)}catch{return a()}let g={formMethod:l,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:m,json:void 0,text:void 0};if(Dr(g.formMethod))return{path:e,submission:g};let E=Qa(e);return r&&E.search&&Lp(E.search)&&d.append("index",""),E.search=`?${d}`,{path:za(E),submission:g}}function n0(r,e,t=!1){let a=r.findIndex(o=>o.route.id===e);return a>=0?r.slice(0,t?a+1:a):r}function r0(r,e,t,a,o,l,h,d,m,g,E,b,R,D){let L=D?Qn(D[1])?D[1].error:D[1].data:void 0,Y=r.createURL(e.location),H=r.createURL(o),W=t;l&&e.errors?W=n0(t,Object.keys(e.errors)[0],!0):D&&Qn(D[1])&&(W=n0(t,D[0]));let J=D?D[1].statusCode:void 0,ae=J&&J>=400,de=W.filter((ce,P)=>{let{route:C}=ce;if(C.lazy)return!0;if(C.loader==null)return!1;if(l)return ep(C,e.loaderData,e.errors);if(J1(e.loaderData,e.matches[P],ce))return!0;let A=e.matches[P],I=ce;return i0(ce,{currentUrl:Y,currentParams:A.params,nextUrl:H,nextParams:I.params,...a,actionResult:L,actionStatus:J,defaultShouldRevalidate:ae?!1:h||Y.pathname+Y.search===H.pathname+H.search||Y.search!==H.search||eR(A,I)})}),U=[];return g.forEach((ce,P)=>{if(l||!t.some(B=>B.route.id===ce.routeId)||m.has(P))return;let C=Ca(b,ce.path,R);if(!C){U.push({key:P,routeId:ce.routeId,path:ce.path,matches:null,match:null,controller:null});return}let A=e.fetchers.get(P),I=fu(C,ce.path),M=!1;E.has(P)?M=!1:d.has(P)?(d.delete(P),M=!0):A&&A.state!=="idle"&&A.data===void 0?M=h:M=i0(I,{currentUrl:Y,currentParams:e.matches[e.matches.length-1].params,nextUrl:H,nextParams:t[t.length-1].params,...a,actionResult:L,actionStatus:J,defaultShouldRevalidate:ae?!1:h}),M&&U.push({key:P,routeId:ce.routeId,path:ce.path,matches:C,match:I,controller:new AbortController})}),[de,U]}function ep(r,e,t){if(r.lazy)return!0;if(!r.loader)return!1;let a=e!=null&&e[r.id]!==void 0,o=t!=null&&t[r.id]!==void 0;return!a&&o?!1:typeof r.loader=="function"&&r.loader.hydrate===!0?!0:!a&&!o}function J1(r,e,t){let a=!e||t.route.id!==e.route.id,o=!r.hasOwnProperty(t.route.id);return a||o}function eR(r,e){let t=r.route.path;return r.pathname!==e.pathname||t!=null&&t.endsWith("*")&&r.params["*"]!==e.params["*"]}function i0(r,e){if(r.route.shouldRevalidate){let t=r.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function a0(r,e,t,a,o){let l;if(r){let m=a[r];et(m,`No route found to patch children into: routeId = ${r}`),m.children||(m.children=[]),l=m.children}else l=t;let h=e.filter(m=>!l.some(g=>fT(m,g))),d=Ph(h,o,[r||"_","patch",String((l==null?void 0:l.length)||"0")],a);l.push(...d)}function fT(r,e){return"id"in r&&"id"in e&&r.id===e.id?!0:r.index===e.index&&r.path===e.path&&r.caseSensitive===e.caseSensitive?(!r.children||r.children.length===0)&&(!e.children||e.children.length===0)?!0:r.children.every((t,a)=>{var o;return(o=e.children)==null?void 0:o.some(l=>fT(t,l))}):!1}async function tR(r,e,t){if(!r.lazy)return;let a=await r.lazy();if(!r.lazy)return;let o=t[r.id];et(o,"No route found in manifest");let l={};for(let h in a){let m=o[h]!==void 0&&h!=="hasErrorBoundary";vn(!m,`Route "${o.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!m&&!S1.has(h)&&(l[h]=a[h])}Object.assign(o,l),Object.assign(o,{...e(o),lazy:void 0})}async function s0(r){let e=r.matches.filter(o=>o.shouldLoad),t={};return(await Promise.all(e.map(o=>o.resolve()))).forEach((o,l)=>{t[e[l].route.id]=o}),t}async function nR(r){return r.matches.some(e=>e.route.unstable_middleware)?rR(r,!1,()=>s0(r),(e,t)=>({[t]:{type:"error",result:e}})):s0(r)}async function rR(r,e,t,a){let{matches:o,request:l,params:h,context:d}=r,m={handlerResult:void 0};try{let g=o.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(R=>[b.route.id,R]):[]),E=await dT({request:l,params:h,context:d},g,e,m,t);return e?E:m.handlerResult}catch(g){if(!m.middlewareError)throw g;let E=await a(m.middlewareError.error,m.middlewareError.routeId);return m.handlerResult?Object.assign(m.handlerResult,E):E}}async function dT(r,e,t,a,o,l=0){let{request:h}=r;if(h.signal.aborted)throw h.signal.reason?h.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${h.method} ${h.url}`);let d=e[l];if(!d)return a.handlerResult=await o(),a.handlerResult;let[m,g]=d,E=!1,b,R=async()=>{if(E)throw new Error("You may only call `next()` once per middleware");E=!0,await dT(r,e,t,a,o,l+1)};try{let D=await g({request:r.request,params:r.params,context:r.context},R);return E?D===void 0?b:D:R()}catch(D){throw a.middlewareError?a.middlewareError.error!==D&&(a.middlewareError={routeId:m,error:D}):a.middlewareError={routeId:m,error:D},D}}async function iR(r,e,t,a,o,l,h,d,m,g){let E=o.map(D=>D.route.lazy?tR(D.route,d,h):void 0);g&&await Promise.all(E);let b=o.map((D,L)=>{let Y=E[L],H=a.some(J=>J.route.id===D.route.id);return{...D,shouldLoad:H,resolve:async J=>(J&&t.method==="GET"&&(D.route.lazy||D.route.loader)&&(H=!0),H?aR(e,t,D,Y,J,m):Promise.resolve({type:"data",result:void 0}))}}),R=await r({matches:b,request:t,params:o[0].params,fetcherKey:l,context:m});try{await Promise.all(E)}catch{}return R}async function aR(r,e,t,a,o,l){let h,d,m=g=>{let E,b=new Promise((L,Y)=>E=Y);d=()=>E(),e.signal.addEventListener("abort",d);let R=L=>typeof g!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${r}" [routeId: ${t.route.id}]`)):g({request:e,params:t.params,context:l},...L!==void 0?[L]:[]),D=(async()=>{try{return{type:"data",result:await(o?o(Y=>R(Y)):R())}}catch(L){return{type:"error",result:L}}})();return Promise.race([D,b])};try{let g=t.route[r];if(a)if(g){let E,[b]=await Promise.all([m(g).catch(R=>{E=R}),a]);if(E!==void 0)throw E;h=b}else if(await a,g=t.route[r],g)h=await m(g);else if(r==="action"){let E=new URL(e.url),b=E.pathname+E.search;throw gr(405,{method:e.method,pathname:b,routeId:t.route.id})}else return{type:"data",result:void 0};else if(g)h=await m(g);else{let E=new URL(e.url),b=E.pathname+E.search;throw gr(404,{pathname:b})}}catch(g){return{type:"error",result:g}}finally{d&&e.signal.removeEventListener("abort",d)}return h}async function sR(r){var a,o,l,h,d,m;let{result:e,type:t}=r;if(pT(e)){let g;try{let E=e.headers.get("Content-Type");E&&/\bapplication\/json\b/.test(E)?e.body==null?g=null:g=await e.json():g=await e.text()}catch(E){return{type:"error",error:E}}return t==="error"?{type:"error",error:new Lh(e.status,e.statusText,g),statusCode:e.status,headers:e.headers}:{type:"data",data:g,statusCode:e.status,headers:e.headers}}return t==="error"?d0(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(a=e.init)==null?void 0:a.status,headers:(o=e.init)!=null&&o.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Lh(((l=e.init)==null?void 0:l.status)||500,void 0,e.data),statusCode:Cu(e)?e.status:void 0,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Cu(e)?e.status:void 0}:d0(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(m=e.init)!=null&&m.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function oR(r,e,t,a,o){let l=r.headers.get("Location");if(et(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Vp.test(l)){let h=a.slice(0,a.findIndex(d=>d.route.id===t)+1);l=Jm(new URL(e.url),h,o,l),r.headers.set("Location",l)}return r}function o0(r,e,t){if(Vp.test(r)){let a=r,o=a.startsWith("//")?new URL(e.protocol+a):new URL(a),l=Er(o.pathname,t)!=null;if(o.origin===e.origin&&l)return o.pathname+o.search+o.hash}return r}function Uo(r,e,t,a){let o=r.createURL(mT(e)).toString(),l={signal:t};if(a&&Dr(a.formMethod)){let{formMethod:h,formEncType:d}=a;l.method=h.toUpperCase(),d==="application/json"?(l.headers=new Headers({"Content-Type":d}),l.body=JSON.stringify(a.json)):d==="text/plain"?l.body=a.text:d==="application/x-www-form-urlencoded"&&a.formData?l.body=tp(a.formData):l.body=a.formData}return new Request(o,l)}function tp(r){let e=new URLSearchParams;for(let[t,a]of r.entries())e.append(t,typeof a=="string"?a:a.name);return e}function l0(r){let e=new FormData;for(let[t,a]of r.entries())e.append(t,a);return e}function lR(r,e,t,a=!1,o=!1){let l={},h=null,d,m=!1,g={},E=t&&Qn(t[1])?t[1].error:void 0;return r.forEach(b=>{if(!(b.route.id in e))return;let R=b.route.id,D=e[R];if(et(!xs(D),"Cannot handle redirect results in processLoaderData"),Qn(D)){let L=D.error;if(E!==void 0&&(L=E,E=void 0),h=h||{},o)h[R]=L;else{let Y=Ns(r,R);h[Y.route.id]==null&&(h[Y.route.id]=L)}a||(l[R]=hT),m||(m=!0,d=Cu(D.error)?D.error.status:500),D.headers&&(g[R]=D.headers)}else l[R]=D.data,D.statusCode&&D.statusCode!==200&&!m&&(d=D.statusCode),D.headers&&(g[R]=D.headers)}),E!==void 0&&t&&(h={[t[0]]:E},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:d||200,loaderHeaders:g}}function u0(r,e,t,a,o,l){let{loaderData:h,errors:d}=lR(e,t,a);return o.forEach(m=>{let{key:g,match:E,controller:b}=m,R=l[g];if(et(R,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Qn(R)){let D=Ns(r.matches,E==null?void 0:E.route.id);d&&d[D.route.id]||(d={...d,[D.route.id]:R.error}),r.fetchers.delete(g)}else if(xs(R))et(!1,"Unhandled fetcher revalidation redirect");else{let D=Ra(R.data);r.fetchers.set(g,D)}}),{loaderData:h,errors:d}}function c0(r,e,t,a){let o=Object.entries(e).filter(([,l])=>l!==hT).reduce((l,[h,d])=>(l[h]=d,l),{});for(let l of t){let h=l.route.id;if(!e.hasOwnProperty(h)&&r.hasOwnProperty(h)&&l.route.loader&&(o[h]=r[h]),a&&a.hasOwnProperty(h))break}return o}function h0(r){return r?Qn(r[1])?{actionData:{}}:{actionData:{[r[0]]:r[1].data}}:{}}function Ns(r,e){return(e?r.slice(0,r.findIndex(a=>a.route.id===e)+1):[...r]).reverse().find(a=>a.route.hasErrorBoundary===!0)||r[0]}function f0(r){let e=r.length===1?r[0]:r.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function gr(r,{pathname:e,routeId:t,method:a,type:o,message:l}={}){let h="Unknown Server Error",d="Unknown @remix-run/router error";return r===400?(h="Bad Request",a&&e&&t?d=`You made a ${a} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:o==="invalid-body"&&(d="Unable to encode submission body")):r===403?(h="Forbidden",d=`Route "${t}" does not match URL "${e}"`):r===404?(h="Not Found",d=`No route matches URL "${e}"`):r===405&&(h="Method Not Allowed",a&&e&&t?d=`You made a ${a.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:a&&(d=`Invalid request method "${a.toUpperCase()}"`)),new Lh(r||500,h,new Error(d),!0)}function hh(r){let e=Object.entries(r);for(let t=e.length-1;t>=0;t--){let[a,o]=e[t];if(xs(o))return{key:a,result:o}}}function mT(r){let e=typeof r=="string"?Qa(r):r;return za({...e,hash:""})}function uR(r,e){return r.pathname!==e.pathname||r.search!==e.search?!1:r.hash===""?e.hash!=="":r.hash===e.hash?!0:e.hash!==""}function cR(r){return pT(r.result)&&K1.has(r.result.status)}function Qn(r){return r.type==="error"}function xs(r){return(r&&r.type)==="redirect"}function d0(r){return typeof r=="object"&&r!=null&&"type"in r&&"data"in r&&"init"in r&&r.type==="DataWithResponseInit"}function pT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.headers=="object"&&typeof r.body<"u"}function hR(r){return $1.has(r.toUpperCase())}function Dr(r){return q1.has(r.toUpperCase())}function Lp(r){return new URLSearchParams(r).getAll("index").some(e=>e==="")}function fu(r,e){let t=typeof e=="string"?Qa(e).search:e.search;if(r[r.length-1].route.index&&Lp(t||""))return r[r.length-1];let a=lT(r);return a[a.length-1]}function m0(r){let{formMethod:e,formAction:t,formEncType:a,text:o,formData:l,json:h}=r;if(!(!e||!t||!a)){if(o!=null)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:void 0,text:o};if(l!=null)return{formMethod:e,formAction:t,formEncType:a,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:a,formData:void 0,json:h,text:void 0}}}function km(r,e){return e?{state:"loading",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function fR(r,e){return{state:"submitting",location:r,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function uu(r,e){return r?{state:"loading",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function dR(r,e){return{state:"submitting",formMethod:r.formMethod,formAction:r.formAction,formEncType:r.formEncType,formData:r.formData,json:r.json,text:r.text,data:e?e.data:void 0}}function Ra(r){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:r}}function mR(r,e){try{let t=r.sessionStorage.getItem(cT);if(t){let a=JSON.parse(t);for(let[o,l]of Object.entries(a||{}))l&&Array.isArray(l)&&e.set(o,new Set(l||[]))}}catch{}}function pR(r,e){if(e.size>0){let t={};for(let[a,o]of e)t[a]=[...o];try{r.sessionStorage.setItem(cT,JSON.stringify(t))}catch(a){vn(!1,`Failed to save applied view transitions in sessionStorage (${a}).`)}}}function gR(){let r,e,t=new Promise((a,o)=>{r=async l=>{a(l);try{await t}catch{}},e=async l=>{o(l);try{await t}catch{}}});return{promise:t,resolve:r,reject:e}}var Hs=k.createContext(null);Hs.displayName="DataRouter";var Uu=k.createContext(null);Uu.displayName="DataRouterState";var kp=k.createContext({isTransitioning:!1});kp.displayName="ViewTransition";var gT=k.createContext(new Map);gT.displayName="Fetchers";var yR=k.createContext(null);yR.displayName="Await";var ui=k.createContext(null);ui.displayName="Navigation";var uf=k.createContext(null);uf.displayName="Location";var ci=k.createContext({outlet:null,matches:[],isDataRoute:!1});ci.displayName="Route";var Up=k.createContext(null);Up.displayName="RouteError";function vR(r,{relative:e}={}){et(ju(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:a}=k.useContext(ui),{hash:o,pathname:l,search:h}=zu(r,{relative:e}),d=l;return t!=="/"&&(d=l==="/"?t:ei([t,l])),a.createHref({pathname:d,search:h,hash:o})}function ju(){return k.useContext(uf)!=null}function Ya(){return et(ju(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(uf).location}var yT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function vT(r){k.useContext(ui).static||k.useLayoutEffect(r)}function jp(){let{isDataRoute:r}=k.useContext(ci);return r?MR():_R()}function _R(){et(ju(),"useNavigate() may be used only in the context of a <Router> component.");let r=k.useContext(Hs),{basename:e,navigator:t}=k.useContext(ui),{matches:a}=k.useContext(ci),{pathname:o}=Ya(),l=JSON.stringify(Mp(a)),h=k.useRef(!1);return vT(()=>{h.current=!0}),k.useCallback((m,g={})=>{if(vn(h.current,yT),!h.current)return;if(typeof m=="number"){t.go(m);return}let E=Pp(m,JSON.parse(l),o,g.relative==="path");r==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ei([e,E.pathname])),(g.replace?t.replace:t.push)(E,g.state,g)},[e,t,l,o,r])}var ER=k.createContext(null);function TR(r){let e=k.useContext(ci).outlet;return e&&k.createElement(ER.Provider,{value:r},e)}function zu(r,{relative:e}={}){let{matches:t}=k.useContext(ci),{pathname:a}=Ya(),o=JSON.stringify(Mp(t));return k.useMemo(()=>Pp(r,JSON.parse(o),a,e==="path"),[r,o,a,e])}function bR(r,e,t,a){et(ju(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:l}=k.useContext(ui),{matches:h}=k.useContext(ci),d=h[h.length-1],m=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",b=d&&d.route;{let J=b&&b.path||"";_T(g,!b||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let R=Ya(),D;D=R;let L=D.pathname||"/",Y=L;if(E!=="/"){let J=E.replace(/^\//,"").split("/");Y="/"+L.replace(/^\//,"").split("/").slice(J.length).join("/")}let H=!l&&t&&t.matches&&t.matches.length>0?t.matches:Ca(r,{pathname:Y});return vn(b||H!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),vn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),CR(H&&H.map(J=>Object.assign({},J,{params:Object.assign({},m,J.params),pathname:ei([E,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?E:ei([E,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),h,t,a)}function wR(){let r=OR(),e=Cu(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:a},l={padding:"2px 4px",backgroundColor:a},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:l},"ErrorBoundary")," or"," ",k.createElement("code",{style:l},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),t?k.createElement("pre",{style:o},t):null,h)}var SR=k.createElement(wR,null),AR=class extends k.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?k.createElement(ci.Provider,{value:this.props.routeContext},k.createElement(Up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RR({routeContext:r,match:e,children:t}){let a=k.useContext(Hs);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(ci.Provider,{value:r},t)}function CR(r,e=[],t=null,a=null){if(r==null){if(!t)return null;if(t.errors)r=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let o=r,l=t==null?void 0:t.errors;if(l!=null){let m=o.findIndex(g=>g.route.id&&(l==null?void 0:l[g.route.id])!==void 0);et(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let h=!1,d=-1;if(t)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=m),g.route.id){let{loaderData:E,errors:b}=t,R=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||R){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((m,g,E)=>{let b,R=!1,D=null,L=null;t&&(b=l&&g.route.id?l[g.route.id]:void 0,D=g.route.errorElement||SR,h&&(d<0&&E===0?(_T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):d===E&&(R=!0,L=g.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,E+1)),H=()=>{let W;return b?W=D:R?W=L:g.route.Component?W=k.createElement(g.route.Component,null):g.route.element?W=g.route.element:W=m,k.createElement(RR,{match:g,routeContext:{outlet:m,matches:Y,isDataRoute:t!=null},children:W})};return t&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?k.createElement(AR,{location:t.location,revalidation:t.revalidation,component:D,error:b,children:H(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):H()},null)}function zp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IR(r){let e=k.useContext(Hs);return et(e,zp(r)),e}function DR(r){let e=k.useContext(Uu);return et(e,zp(r)),e}function NR(r){let e=k.useContext(ci);return et(e,zp(r)),e}function Bp(r){let e=NR(r),t=e.matches[e.matches.length-1];return et(t.route.id,`${r} can only be used on routes that contain a unique "id"`),t.route.id}function xR(){return Bp("useRouteId")}function OR(){var a;let r=k.useContext(Up),e=DR("useRouteError"),t=Bp("useRouteError");return r!==void 0?r:(a=e.errors)==null?void 0:a[t]}function MR(){let{router:r}=IR("useNavigate"),e=Bp("useNavigate"),t=k.useRef(!1);return vT(()=>{t.current=!0}),k.useCallback(async(o,l={})=>{vn(t.current,yT),t.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...l}))},[r,e])}var p0={};function _T(r,e,t){!e&&!p0[r]&&(p0[r]=!0,vn(!1,t))}var g0={};function y0(r,e){!r&&!g0[e]&&(g0[e]=!0,console.warn(e))}function PR(r){let e={hasErrorBoundary:r.hasErrorBoundary||r.ErrorBoundary!=null||r.errorElement!=null};return r.Component&&(r.element&&vn(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(r.Component),Component:void 0})),r.HydrateFallback&&(r.hydrateFallbackElement&&vn(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(r.HydrateFallback),HydrateFallback:void 0})),r.ErrorBoundary&&(r.errorElement&&vn(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(r.ErrorBoundary),ErrorBoundary:void 0})),e}var VR=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=a=>{this.status==="pending"&&(this.status="resolved",e(a))},this.reject=a=>{this.status==="pending"&&(this.status="rejected",t(a))}})}};function LR({router:r,flushSync:e}){let[t,a]=k.useState(r.state),[o,l]=k.useState(),[h,d]=k.useState({isTransitioning:!1}),[m,g]=k.useState(),[E,b]=k.useState(),[R,D]=k.useState(),L=k.useRef(new Map),Y=k.useCallback((ae,{deletedFetchers:de,flushSync:U,viewTransitionOpts:ce})=>{ae.fetchers.forEach((C,A)=>{C.data!==void 0&&L.current.set(A,C.data)}),de.forEach(C=>L.current.delete(C)),y0(U===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let P=r.window!=null&&r.window.document!=null&&typeof r.window.document.startViewTransition=="function";if(y0(ce==null||P,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ce||!P){e&&U?e(()=>a(ae)):k.startTransition(()=>a(ae));return}if(e&&U){e(()=>{E&&(m&&m.resolve(),E.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})});let C=r.window.document.startViewTransition(()=>{e(()=>a(ae))});C.finished.finally(()=>{e(()=>{g(void 0),b(void 0),l(void 0),d({isTransitioning:!1})})}),e(()=>b(C));return}E?(m&&m.resolve(),E.skipTransition(),D({state:ae,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation})):(l(ae),d({isTransitioning:!0,flushSync:!1,currentLocation:ce.currentLocation,nextLocation:ce.nextLocation}))},[r.window,e,E,m]);k.useLayoutEffect(()=>r.subscribe(Y),[r,Y]),k.useEffect(()=>{h.isTransitioning&&!h.flushSync&&g(new VR)},[h]),k.useEffect(()=>{if(m&&o&&r.window){let ae=o,de=m.promise,U=r.window.document.startViewTransition(async()=>{k.startTransition(()=>a(ae)),await de});U.finished.finally(()=>{g(void 0),b(void 0),l(void 0),d({isTransitioning:!1})}),b(U)}},[o,m,r.window]),k.useEffect(()=>{m&&o&&t.location.key===o.location.key&&m.resolve()},[m,E,t.location,o]),k.useEffect(()=>{!h.isTransitioning&&R&&(l(R.state),d({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),D(void 0))},[h.isTransitioning,R]);let H=k.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:ae=>r.navigate(ae),push:(ae,de,U)=>r.navigate(ae,{state:de,preventScrollReset:U==null?void 0:U.preventScrollReset}),replace:(ae,de,U)=>r.navigate(ae,{replace:!0,state:de,preventScrollReset:U==null?void 0:U.preventScrollReset})}),[r]),W=r.basename||"/",J=k.useMemo(()=>({router:r,navigator:H,static:!1,basename:W}),[r,H,W]);return k.createElement(k.Fragment,null,k.createElement(Hs.Provider,{value:J},k.createElement(Uu.Provider,{value:t},k.createElement(gT.Provider,{value:L.current},k.createElement(kp.Provider,{value:h},k.createElement(jR,{basename:W,location:t.location,navigationType:t.historyAction,navigator:H},k.createElement(kR,{routes:r.routes,future:r.future,state:t})))))),null)}var kR=k.memo(UR);function UR({routes:r,future:e,state:t}){return bR(r,void 0,t,e)}function cf(r){return TR(r.context)}function jR({basename:r="/",children:e=null,location:t,navigationType:a="POP",navigator:o,static:l=!1}){et(!ju(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=r.replace(/^\/*/,"/"),d=k.useMemo(()=>({basename:h,navigator:o,static:l,future:{}}),[h,o,l]);typeof t=="string"&&(t=Qa(t));let{pathname:m="/",search:g="",hash:E="",state:b=null,key:R="default"}=t,D=k.useMemo(()=>{let L=Er(m,h);return L==null?null:{location:{pathname:L,search:g,hash:E,state:b,key:R},navigationType:a}},[h,m,g,E,b,R,a]);return vn(D!=null,`<Router basename="${h}"> is not able to match the URL "${m}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:k.createElement(ui.Provider,{value:d},k.createElement(uf.Provider,{children:e,value:D}))}var Th="get",bh="application/x-www-form-urlencoded";function hf(r){return r!=null&&typeof r.tagName=="string"}function zR(r){return hf(r)&&r.tagName.toLowerCase()==="button"}function BR(r){return hf(r)&&r.tagName.toLowerCase()==="form"}function HR(r){return hf(r)&&r.tagName.toLowerCase()==="input"}function FR(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function qR(r,e){return r.button===0&&(!e||e==="_self")&&!FR(r)}var fh=null;function GR(){if(fh===null)try{new FormData(document.createElement("form"),0),fh=!1}catch{fh=!0}return fh}var $R=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Um(r){return r!=null&&!$R.has(r)?(vn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${bh}"`),null):r}function KR(r,e){let t,a,o,l,h;if(BR(r)){let d=r.getAttribute("action");a=d?Er(d,e):null,t=r.getAttribute("method")||Th,o=Um(r.getAttribute("enctype"))||bh,l=new FormData(r)}else if(zR(r)||HR(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=r.getAttribute("formaction")||d.getAttribute("action");if(a=m?Er(m,e):null,t=r.getAttribute("formmethod")||d.getAttribute("method")||Th,o=Um(r.getAttribute("formenctype"))||Um(d.getAttribute("enctype"))||bh,l=new FormData(d,r),!GR()){let{name:g,type:E,value:b}=r;if(E==="image"){let R=g?`${g}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else g&&l.append(g,b)}}else{if(hf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Th,a=null,o=bh,h=r}return l&&o==="text/plain"&&(h=l,l=void 0),{action:a,method:t.toLowerCase(),encType:o,formData:l,body:h}}function Hp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function QR(r,e){if(r.id in e)return e[r.id];try{let t=await import(r.module);return e[r.id]=t,t}catch(t){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function YR(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function XR(r,e,t){let a=await Promise.all(r.map(async o=>{let l=e.routes[o.route.id];if(l){let h=await QR(l,t);return h.links?h.links():[]}return[]}));return eC(a.flat(1).filter(YR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function v0(r,e,t,a,o,l){let h=(m,g)=>t[g]?m.route.id!==t[g].route.id:!0,d=(m,g)=>{var E;return t[g].pathname!==m.pathname||((E=t[g].route.path)==null?void 0:E.endsWith("*"))&&t[g].params["*"]!==m.params["*"]};return l==="assets"?e.filter((m,g)=>h(m,g)||d(m,g)):l==="data"?e.filter((m,g)=>{var b;let E=a.routes[m.route.id];if(!E||!E.hasLoader)return!1;if(h(m,g)||d(m,g))return!0;if(m.route.shouldRevalidate){let R=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=t[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function WR(r,e,{includeHydrateFallback:t}={}){return ZR(r.map(a=>{let o=e.routes[a.route.id];if(!o)return[];let l=[o.module];return o.clientActionModule&&(l=l.concat(o.clientActionModule)),o.clientLoaderModule&&(l=l.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(l=l.concat(o.hydrateFallbackModule)),o.imports&&(l=l.concat(o.imports)),l}).flat(1))}function ZR(r){return[...new Set(r)]}function JR(r){let e={},t=Object.keys(r).sort();for(let a of t)e[a]=r[a];return e}function eC(r,e){let t=new Set;return new Set(e),r.reduce((a,o)=>{let l=JSON.stringify(JR(o));return t.has(l)||(t.add(l),a.push({key:l,link:o})),a},[])}function tC(r,e){let t=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return t.pathname==="/"?t.pathname="_root.data":e&&Er(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function ET(){let r=k.useContext(Hs);return Hp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function nC(){let r=k.useContext(Uu);return Hp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Fp=k.createContext(void 0);Fp.displayName="FrameworkContext";function TT(){let r=k.useContext(Fp);return Hp(r,"You must render this element inside a <HydratedRouter> element"),r}function rC(r,e){let t=k.useContext(Fp),[a,o]=k.useState(!1),[l,h]=k.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,R=k.useRef(null);k.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let Y=W=>{W.forEach(J=>{h(J.isIntersecting)})},H=new IntersectionObserver(Y,{threshold:.5});return R.current&&H.observe(R.current),()=>{H.disconnect()}}},[r]),k.useEffect(()=>{if(a){let Y=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(Y)}}},[a]);let D=()=>{o(!0)},L=()=>{o(!1),h(!1)};return t?r!=="intent"?[l,R,{}]:[l,R,{onFocus:cu(d,D),onBlur:cu(m,L),onMouseEnter:cu(g,D),onMouseLeave:cu(E,L),onTouchStart:cu(b,D)}]:[!1,R,{}]}function cu(r,e){return t=>{r&&r(t),t.defaultPrevented||e(t)}}function iC({page:r,...e}){let{router:t}=ET(),a=k.useMemo(()=>Ca(t.routes,r,t.basename),[t.routes,r,t.basename]);return a?k.createElement(sC,{page:r,matches:a,...e}):null}function aC(r){let{manifest:e,routeModules:t}=TT(),[a,o]=k.useState([]);return k.useEffect(()=>{let l=!1;return XR(r,e,t).then(h=>{l||o(h)}),()=>{l=!0}},[r,e,t]),a}function sC({page:r,matches:e,...t}){let a=Ya(),{manifest:o,routeModules:l}=TT(),{basename:h}=ET(),{loaderData:d,matches:m}=nC(),g=k.useMemo(()=>v0(r,e,m,o,a,"data"),[r,e,m,o,a]),E=k.useMemo(()=>v0(r,e,m,o,a,"assets"),[r,e,m,o,a]),b=k.useMemo(()=>{if(r===a.pathname+a.search+a.hash)return[];let L=new Set,Y=!1;if(e.forEach(W=>{var ae;let J=o.routes[W.route.id];!J||!J.hasLoader||(!g.some(de=>de.route.id===W.route.id)&&W.route.id in d&&((ae=l[W.route.id])!=null&&ae.shouldRevalidate)||J.hasClientLoader?Y=!0:L.add(W.route.id))}),L.size===0)return[];let H=tC(r,h);return Y&&L.size>0&&H.searchParams.set("_routes",e.filter(W=>L.has(W.route.id)).map(W=>W.route.id).join(",")),[H.pathname+H.search]},[h,d,a,o,g,e,r,l]),R=k.useMemo(()=>WR(E,o),[E,o]),D=aC(E);return k.createElement(k.Fragment,null,b.map(L=>k.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...t})),R.map(L=>k.createElement("link",{key:L,rel:"modulepreload",href:L,...t})),D.map(({key:L,link:Y})=>k.createElement("link",{key:L,...Y})))}function oC(...r){return e=>{r.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var bT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bT&&(window.__reactRouterVersion="7.4.0")}catch{}function lC(r,e){return W1({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:T1({window:e==null?void 0:e.window}),hydrationData:uC(),routes:r,mapRouteProperties:PR,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function uC(){let r=window==null?void 0:window.__staticRouterHydrationData;return r&&r.errors&&(r={...r,errors:cC(r.errors)}),r}function cC(r){if(!r)return null;let e=Object.entries(r),t={};for(let[a,o]of e)if(o&&o.__type==="RouteErrorResponse")t[a]=new Lh(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let l=window[o.__subType];if(typeof l=="function")try{let h=new l(o.message);h.stack="",t[a]=h}catch{}}if(t[a]==null){let l=new Error(o.message);l.stack="",t[a]=l}}else t[a]=o;return t}var wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ST=k.forwardRef(function({onClick:e,discover:t="render",prefetch:a="none",relative:o,reloadDocument:l,replace:h,state:d,target:m,to:g,preventScrollReset:E,viewTransition:b,...R},D){let{basename:L}=k.useContext(ui),Y=typeof g=="string"&&wT.test(g),H,W=!1;if(typeof g=="string"&&Y&&(H=g,bT))try{let A=new URL(window.location.href),I=g.startsWith("//")?new URL(A.protocol+g):new URL(g),M=Er(I.pathname,L);I.origin===A.origin&&M!=null?g=M+I.search+I.hash:W=!0}catch{vn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=vR(g,{relative:o}),[ae,de,U]=rC(a,R),ce=dC(g,{replace:h,state:d,target:m,preventScrollReset:E,relative:o,viewTransition:b});function P(A){e&&e(A),A.defaultPrevented||ce(A)}let C=k.createElement("a",{...R,...U,href:H||J,onClick:W||l?e:P,ref:oC(D,de),target:m,"data-discover":!Y&&t==="render"?"true":void 0});return ae&&!Y?k.createElement(k.Fragment,null,C,k.createElement(iC,{page:J})):C});ST.displayName="Link";var Qt=k.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:a="",end:o=!1,style:l,to:h,viewTransition:d,children:m,...g},E){let b=zu(h,{relative:g.relative}),R=Ya(),D=k.useContext(Uu),{navigator:L,basename:Y}=k.useContext(ui),H=D!=null&&vC(b)&&d===!0,W=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,J=R.pathname,ae=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;t||(J=J.toLowerCase(),ae=ae?ae.toLowerCase():null,W=W.toLowerCase()),ae&&Y&&(ae=Er(ae,Y)||ae);const de=W!=="/"&&W.endsWith("/")?W.length-1:W.length;let U=J===W||!o&&J.startsWith(W)&&J.charAt(de)==="/",ce=ae!=null&&(ae===W||!o&&ae.startsWith(W)&&ae.charAt(W.length)==="/"),P={isActive:U,isPending:ce,isTransitioning:H},C=U?e:void 0,A;typeof a=="function"?A=a(P):A=[a,U?"active":null,ce?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let I=typeof l=="function"?l(P):l;return k.createElement(ST,{...g,"aria-current":C,className:A,ref:E,style:I,to:h,viewTransition:d},typeof m=="function"?m(P):m)});Qt.displayName="NavLink";var hC=k.forwardRef(({discover:r="render",fetcherKey:e,navigate:t,reloadDocument:a,replace:o,state:l,method:h=Th,action:d,onSubmit:m,relative:g,preventScrollReset:E,viewTransition:b,...R},D)=>{let L=gC(),Y=yC(d,{relative:g}),H=h.toLowerCase()==="get"?"get":"post",W=typeof d=="string"&&wT.test(d),J=ae=>{if(m&&m(ae),ae.defaultPrevented)return;ae.preventDefault();let de=ae.nativeEvent.submitter,U=(de==null?void 0:de.getAttribute("formmethod"))||h;L(de||ae.currentTarget,{fetcherKey:e,method:U,navigate:t,replace:o,state:l,relative:g,preventScrollReset:E,viewTransition:b})};return k.createElement("form",{ref:D,method:H,action:Y,onSubmit:a?m:J,...R,"data-discover":!W&&r==="render"?"true":void 0})});hC.displayName="Form";function fC(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AT(r){let e=k.useContext(Hs);return et(e,fC(r)),e}function dC(r,{target:e,replace:t,state:a,preventScrollReset:o,relative:l,viewTransition:h}={}){let d=jp(),m=Ya(),g=zu(r,{relative:l});return k.useCallback(E=>{if(qR(E,e)){E.preventDefault();let b=t!==void 0?t:za(m)===za(g);d(r,{replace:b,state:a,preventScrollReset:o,relative:l,viewTransition:h})}},[m,d,g,t,a,e,r,o,l,h])}var mC=0,pC=()=>`__${String(++mC)}__`;function gC(){let{router:r}=AT("useSubmit"),{basename:e}=k.useContext(ui),t=xR();return k.useCallback(async(a,o={})=>{let{action:l,method:h,encType:d,formData:m,body:g}=KR(a,e);if(o.navigate===!1){let E=o.fetcherKey||pC();await r.fetch(E,t,o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await r.navigate(o.action||l,{preventScrollReset:o.preventScrollReset,formData:m,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,t])}function yC(r,{relative:e}={}){let{basename:t}=k.useContext(ui),a=k.useContext(ci);et(a,"useFormAction must be used inside a RouteContext");let[o]=a.matches.slice(-1),l={...zu(r||".",{relative:e})},h=Ya();if(r==null){l.search=h.search;let d=new URLSearchParams(l.search),m=d.getAll("index");if(m.some(E=>E==="")){d.delete("index"),m.filter(b=>b).forEach(b=>d.append("index",b));let E=d.toString();l.search=E?`?${E}`:""}}return(!r||r===".")&&o.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:ei([t,l.pathname])),za(l)}function vC(r,e={}){let t=k.useContext(kp);et(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=AT("useViewTransitionState"),o=zu(r,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Er(t.currentLocation.pathname,a)||t.currentLocation.pathname,h=Er(t.nextLocation.pathname,a)||t.nextLocation.pathname;return Vh(o.pathname,h)!=null||Vh(o.pathname,l)!=null}new TextEncoder;var _C=iT();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function EC(r){return k.createElement(LR,{flushSync:_C.flushSync,...r})}function TC(){return T.jsx(T.Fragment,{children:T.jsx("span",{className:"logo",children:" MusiFY"})})}const bC=()=>{};var _0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=function(r){const e=[];let t=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},wC=function(r){const e=[];let t=0,a=0;for(;t<r.length;){const o=r[t++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[a++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],d=r[t++],m=((o&7)<<18|(l&63)<<12|(h&63)<<6|d&63)-65536;e[a++]=String.fromCharCode(55296+(m>>10)),e[a++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],h=r[t++];e[a++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},CT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,d=h?r[o+1]:0,m=o+2<r.length,g=m?r[o+2]:0,E=l>>2,b=(l&3)<<4|d>>4;let R=(d&15)<<2|g>>6,D=g&63;m||(D=64,h||(R=64)),a.push(t[E],t[b],t[R],t[D])}return a.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(RT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):wC(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],d=o<r.length?t[r.charAt(o)]:0;++o;const g=o<r.length?t[r.charAt(o)]:64;++o;const b=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||d==null||g==null||b==null)throw new SC;const R=l<<2|d>>4;if(a.push(R),g!==64){const D=d<<4&240|g>>2;if(a.push(D),b!==64){const L=g<<6&192|b;a.push(L)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class SC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const AC=function(r){const e=RT(r);return CT.encodeByteArray(e,!0)},kh=function(r){return AC(r).replace(/\./g,"")},IT=function(r){try{return CT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=()=>RC().__FIREBASE_DEFAULTS__,IC=()=>{if(typeof process>"u"||typeof _0>"u")return;const r=_0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},DC=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&IT(r[1]);return e&&JSON.parse(e)},ff=()=>{try{return bC()||CC()||IC()||DC()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},DT=r=>{var e,t;return(t=(e=ff())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},NC=r=>{const e=DT(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),a]:[e.substring(0,t),a]},NT=()=>{var r;return(r=ff())===null||r===void 0?void 0:r.config},xT=r=>{var e;return(e=ff())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,a)=>{t?this.reject(t):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},a=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[kh(JSON.stringify(t)),kh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Rn())}function PC(){var r;const e=(r=ff())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OT(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function LC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kC(){const r=Rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function UC(){return!PC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MT(){try{return typeof indexedDB=="object"}catch{return!1}}function PT(){return new Promise((r,e)=>{try{let t=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function jC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="FirebaseError";class Mr extends Error{constructor(e,t,a){super(t),this.code=e,this.customData=a,this.name=zC,Object.setPrototypeOf(this,Mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fs.prototype.create)}}class Fs{constructor(e,t,a){this.service=e,this.serviceName=t,this.errors=a}create(e,...t){const a=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?BC(l,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Mr(o,d,a)}}function BC(r,e){return r.replace(HC,(t,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const HC=/\{\$([^}]+)}/g;function FC(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ba(r,e){if(r===e)return!0;const t=Object.keys(r),a=Object.keys(e);for(const o of t){if(!a.includes(o))return!1;const l=r[o],h=e[o];if(E0(l)&&E0(h)){if(!Ba(l,h))return!1}else if(l!==h)return!1}for(const o of a)if(!t.includes(o))return!1;return!0}function E0(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(r){const e=[];for(const[t,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function du(r){const e={};return r.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,l]=a.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function mu(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function qC(r,e){const t=new GC(r,e);return t.subscribe.bind(t)}class GC{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,a){let o;if(e===void 0&&t===void 0&&a===void 0)throw new Error("Missing Observer.");$C(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:a},o.next===void 0&&(o.next=jm),o.error===void 0&&(o.error=jm),o.complete===void 0&&(o.complete=jm);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $C(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function jm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KC=1e3,QC=2,YC=4*60*60*1e3,XC=.5;function T0(r,e=KC,t=QC){const a=e*Math.pow(t,r),o=Math.round(XC*a*(Math.random()-.5)*2);return Math.min(YC,a+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zt(r){return r&&r._delegate?r._delegate:r}class xr{constructor(e,t,a){this.name=e,this.instanceFactory=t,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const a=new xC;if(this.instancesDeferred.set(t,a),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JC(e))try{this.getOrInitializeService({instanceIdentifier:Ds})}catch{}for(const[t,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});a.resolve(l)}catch{}}}}clearInstance(e=Ds){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ds){return this.instances.has(e)}getOptions(e=Ds){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:t});for(const[l,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);a===d&&h.resolve(o)}return o}onInit(e,t){var a;const o=this.normalizeInstanceIdentifier(t),l=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const a=this.onInitCallbacks.get(t);if(a)for(const o of a)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ZC(e),options:t}),this.instances.set(e,a),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=Ds){return this.component?this.component.multipleInstances?e:Ds:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ZC(r){return r===Ds?void 0:r}function JC(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WC(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var We;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(We||(We={}));const t2={debug:We.DEBUG,verbose:We.VERBOSE,info:We.INFO,warn:We.WARN,error:We.ERROR,silent:We.SILENT},n2=We.INFO,r2={[We.DEBUG]:"log",[We.VERBOSE]:"log",[We.INFO]:"info",[We.WARN]:"warn",[We.ERROR]:"error"},i2=(r,e,...t)=>{if(e<r.logLevel)return;const a=new Date().toISOString(),o=r2[e];if(o)console[o](`[${a}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class df{constructor(e){this.name=e,this._logLevel=n2,this._logHandler=i2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in We))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,We.DEBUG,...e),this._logHandler(this,We.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,We.VERBOSE,...e),this._logHandler(this,We.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,We.INFO,...e),this._logHandler(this,We.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,We.WARN,...e),this._logHandler(this,We.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,We.ERROR,...e),this._logHandler(this,We.ERROR,...e)}}const a2=(r,e)=>e.some(t=>r instanceof t);let b0,w0;function s2(){return b0||(b0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function o2(){return w0||(w0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const VT=new WeakMap,np=new WeakMap,LT=new WeakMap,zm=new WeakMap,qp=new WeakMap;function l2(r){const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Pa(r.result)),o()},h=()=>{a(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&VT.set(t,r)}).catch(()=>{}),qp.set(e,r),e}function u2(r){if(np.has(r))return;const e=new Promise((t,a)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});np.set(r,e)}let rp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return np.get(r);if(e==="objectStoreNames")return r.objectStoreNames||LT.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Pa(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function c2(r){rp=r(rp)}function h2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const a=r.call(Bm(this),e,...t);return LT.set(a,e.sort?e.sort():[e]),Pa(a)}:o2().includes(r)?function(...e){return r.apply(Bm(this),e),Pa(VT.get(this))}:function(...e){return Pa(r.apply(Bm(this),e))}}function f2(r){return typeof r=="function"?h2(r):(r instanceof IDBTransaction&&u2(r),a2(r,s2())?new Proxy(r,rp):r)}function Pa(r){if(r instanceof IDBRequest)return l2(r);if(zm.has(r))return zm.get(r);const e=f2(r);return e!==r&&(zm.set(r,e),qp.set(e,r)),e}const Bm=r=>qp.get(r);function kT(r,e,{blocked:t,upgrade:a,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),d=Pa(h);return a&&h.addEventListener("upgradeneeded",m=>{a(Pa(h.result),m.oldVersion,m.newVersion,Pa(h.transaction),m)}),t&&h.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{l&&m.addEventListener("close",()=>l()),o&&m.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const d2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Hm=new Map;function S0(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Hm.get(e))return Hm.get(e);const t=e.replace(/FromIndex$/,""),a=e!==t,o=m2.includes(t);if(!(t in(a?IDBIndex:IDBObjectStore).prototype)||!(o||d2.includes(t)))return;const l=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let g=m.store;return a&&(g=g.index(d.shift())),(await Promise.all([g[t](...d),o&&m.done]))[0]};return Hm.set(e,l),l}c2(r=>({...r,get:(e,t,a)=>S0(e,t)||r.get(e,t,a),has:(e,t)=>!!S0(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(g2(t)){const a=t.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(t=>t).join(" ")}}function g2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ip="@firebase/app",A0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi=new df("@firebase/app"),y2="@firebase/app-compat",v2="@firebase/analytics-compat",_2="@firebase/analytics",E2="@firebase/app-check-compat",T2="@firebase/app-check",b2="@firebase/auth",w2="@firebase/auth-compat",S2="@firebase/database",A2="@firebase/data-connect",R2="@firebase/database-compat",C2="@firebase/functions",I2="@firebase/functions-compat",D2="@firebase/installations",N2="@firebase/installations-compat",x2="@firebase/messaging",O2="@firebase/messaging-compat",M2="@firebase/performance",P2="@firebase/performance-compat",V2="@firebase/remote-config",L2="@firebase/remote-config-compat",k2="@firebase/storage",U2="@firebase/storage-compat",j2="@firebase/firestore",z2="@firebase/vertexai",B2="@firebase/firestore-compat",H2="firebase",F2="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="[DEFAULT]",q2={[ip]:"fire-core",[y2]:"fire-core-compat",[_2]:"fire-analytics",[v2]:"fire-analytics-compat",[T2]:"fire-app-check",[E2]:"fire-app-check-compat",[b2]:"fire-auth",[w2]:"fire-auth-compat",[S2]:"fire-rtdb",[A2]:"fire-data-connect",[R2]:"fire-rtdb-compat",[C2]:"fire-fn",[I2]:"fire-fn-compat",[D2]:"fire-iid",[N2]:"fire-iid-compat",[x2]:"fire-fcm",[O2]:"fire-fcm-compat",[M2]:"fire-perf",[P2]:"fire-perf-compat",[V2]:"fire-rc",[L2]:"fire-rc-compat",[k2]:"fire-gcs",[U2]:"fire-gcs-compat",[j2]:"fire-fst",[B2]:"fire-fst-compat",[z2]:"fire-vertex","fire-js":"fire-js",[H2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,G2=new Map,sp=new Map;function R0(r,e){try{r.container.addComponent(e)}catch(t){qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function si(r){const e=r.name;if(sp.has(e))return qi.debug(`There were multiple attempts to register component ${e}.`),!1;sp.set(e,r);for(const t of Uh.values())R0(t,r);for(const t of G2.values())R0(t,r);return!0}function qs(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function yr(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Va=new Fs("app","Firebase",$2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,t,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new xr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=F2;function UT(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const a=Object.assign({name:ap,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw Va.create("bad-app-name",{appName:String(o)});if(t||(t=NT()),!t)throw Va.create("no-options");const l=Uh.get(o);if(l){if(Ba(t,l.options)&&Ba(a,l.config))return l;throw Va.create("duplicate-app",{appName:o})}const h=new e2(o);for(const m of sp.values())h.addComponent(m);const d=new K2(t,a,h);return Uh.set(o,d),d}function Gp(r=ap){const e=Uh.get(r);if(!e&&r===ap&&NT())return UT();if(!e)throw Va.create("no-app",{appName:r});return e}function _r(r,e,t){var a;let o=(a=q2[r])!==null&&a!==void 0?a:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const d=[`Unable to register library "${o}" with version "${e}":`];l&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qi.warn(d.join(" "));return}si(new xr(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="firebase-heartbeat-database",Y2=1,Iu="firebase-heartbeat-store";let Fm=null;function jT(){return Fm||(Fm=kT(Q2,Y2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Iu)}catch(t){console.warn(t)}}}}).catch(r=>{throw Va.create("idb-open",{originalErrorMessage:r.message})})),Fm}async function X2(r){try{const t=(await jT()).transaction(Iu),a=await t.objectStore(Iu).get(zT(r));return await t.done,a}catch(e){if(e instanceof Mr)qi.warn(e.message);else{const t=Va.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qi.warn(t.message)}}}async function C0(r,e){try{const a=(await jT()).transaction(Iu,"readwrite");await a.objectStore(Iu).put(e,zT(r)),await a.done}catch(t){if(t instanceof Mr)qi.warn(t.message);else{const a=Va.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});qi.warn(a.message)}}}function zT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=1024,Z2=30;class J2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tI(t),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=I0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>Z2){const h=nI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){qi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=I0(),{heartbeatsToSend:a,unsentEntries:o}=eI(this._heartbeatsCache.heartbeats),l=kh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return qi.warn(t),""}}}function I0(){return new Date().toISOString().substring(0,10)}function eI(r,e=W2){const t=[];let a=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),D0(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),D0(t)>e){t.pop();break}a=a.slice(1)}return{heartbeatsToSend:t,unsentEntries:a}}class tI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MT()?PT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await X2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return C0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function D0(r){return kh(JSON.stringify({version:2,heartbeats:r})).length}function nI(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let a=1;a<r.length;a++)r[a].date<t&&(t=r[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(r){si(new xr("platform-logger",e=>new p2(e),"PRIVATE")),si(new xr("heartbeat",e=>new J2(e),"PRIVATE")),_r(ip,A0,r),_r(ip,A0,"esm2017"),_r("fire-js","")}rI("");var iI="firebase",aI="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r(iI,aI,"app");const BT="@firebase/installations",$p="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1e4,FT=`w:${$p}`,qT="FIS_v2",sI="https://firebaseinstallations.googleapis.com/v1",oI=60*60*1e3,lI="installations",uI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ls=new Fs(lI,uI,cI);function GT(r){return r instanceof Mr&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T({projectId:r}){return`${sI}/projects/${r}/installations`}function KT(r){return{token:r.token,requestStatus:2,expiresIn:fI(r.expiresIn),creationTime:Date.now()}}async function QT(r,e){const a=(await e.json()).error;return Ls.create("request-failed",{requestName:r,serverCode:a.code,serverMessage:a.message,serverStatus:a.status})}function YT({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function hI(r,{refreshToken:e}){const t=YT(r);return t.append("Authorization",dI(e)),t}async function XT(r){const e=await r();return e.status>=500&&e.status<600?r():e}function fI(r){return Number(r.replace("s","000"))}function dI(r){return`${qT} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const a=$T(r),o=YT(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:t,authVersion:qT,appId:r.appId,sdkVersion:FT},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await XT(()=>fetch(a,d));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:KT(g.authToken)}}else throw await QT("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gI=/^[cdef][\w-]{21}$/,op="";function yI(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=vI(r);return gI.test(t)?t:op}catch{return op}}function vI(r){return pI(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Map;function JT(r,e){const t=mf(r);eb(t,e),_I(t,e)}function eb(r,e){const t=ZT.get(r);if(t)for(const a of t)a(e)}function _I(r,e){const t=EI();t&&t.postMessage({key:r,fid:e}),TI()}let Os=null;function EI(){return!Os&&"BroadcastChannel"in self&&(Os=new BroadcastChannel("[Firebase] FID Change"),Os.onmessage=r=>{eb(r.data.key,r.data.fid)}),Os}function TI(){ZT.size===0&&Os&&(Os.close(),Os=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bI="firebase-installations-database",wI=1,ks="firebase-installations-store";let qm=null;function Kp(){return qm||(qm=kT(bI,wI,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(ks)}}})),qm}async function jh(r,e){const t=mf(r),o=(await Kp()).transaction(ks,"readwrite"),l=o.objectStore(ks),h=await l.get(t);return await l.put(e,t),await o.done,(!h||h.fid!==e.fid)&&JT(r,e.fid),e}async function tb(r){const e=mf(r),a=(await Kp()).transaction(ks,"readwrite");await a.objectStore(ks).delete(e),await a.done}async function pf(r,e){const t=mf(r),o=(await Kp()).transaction(ks,"readwrite"),l=o.objectStore(ks),h=await l.get(t),d=e(h);return d===void 0?await l.delete(t):await l.put(d,t),await o.done,d&&(!h||h.fid!==d.fid)&&JT(r,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qp(r){let e;const t=await pf(r.appConfig,a=>{const o=SI(a),l=AI(r,o);return e=l.registrationPromise,l.installationEntry});return t.fid===op?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function SI(r){const e=r||{fid:yI(),registrationStatus:0};return nb(e)}function AI(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Ls.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},a=RI(r,t);return{installationEntry:t,registrationPromise:a}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:CI(r)}:{installationEntry:e}}async function RI(r,e){try{const t=await mI(r,e);return jh(r.appConfig,t)}catch(t){throw GT(t)&&t.customData.serverCode===409?await tb(r.appConfig):await jh(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function CI(r){let e=await N0(r.appConfig);for(;e.registrationStatus===1;)await WT(100),e=await N0(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:a}=await Qp(r);return a||t}return e}function N0(r){return pf(r,e=>{if(!e)throw Ls.create("installation-not-found");return nb(e)})}function nb(r){return II(r)?{fid:r.fid,registrationStatus:0}:r}function II(r){return r.registrationStatus===1&&r.registrationTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI({appConfig:r,heartbeatServiceProvider:e},t){const a=NI(r,t),o=hI(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:FT,appId:r.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},m=await XT(()=>fetch(a,d));if(m.ok){const g=await m.json();return KT(g)}else throw await QT("Generate Auth Token",m)}function NI(r,{fid:e}){return`${$T(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yp(r,e=!1){let t;const a=await pf(r.appConfig,l=>{if(!rb(l))throw Ls.create("not-registered");const h=l.authToken;if(!e&&MI(h))return l;if(h.requestStatus===1)return t=xI(r,e),l;{if(!navigator.onLine)throw Ls.create("app-offline");const d=VI(l);return t=OI(r,d),d}});return t?await t:a.authToken}async function xI(r,e){let t=await x0(r.appConfig);for(;t.authToken.requestStatus===1;)await WT(100),t=await x0(r.appConfig);const a=t.authToken;return a.requestStatus===0?Yp(r,e):a}function x0(r){return pf(r,e=>{if(!rb(e))throw Ls.create("not-registered");const t=e.authToken;return LI(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function OI(r,e){try{const t=await DI(r,e),a=Object.assign(Object.assign({},e),{authToken:t});return await jh(r.appConfig,a),t}catch(t){if(GT(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await tb(r.appConfig);else{const a=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await jh(r.appConfig,a)}throw t}}function rb(r){return r!==void 0&&r.registrationStatus===2}function MI(r){return r.requestStatus===2&&!PI(r)}function PI(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+oI}function VI(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function LI(r){return r.requestStatus===1&&r.requestTime+HT<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kI(r){const e=r,{installationEntry:t,registrationPromise:a}=await Qp(e);return a?a.catch(console.error):Yp(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(r,e=!1){const t=r;return await jI(t),(await Yp(t,e)).token}async function jI(r){const{registrationPromise:e}=await Qp(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(r){if(!r||!r.options)throw Gm("App Configuration");if(!r.name)throw Gm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw Gm(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function Gm(r){return Ls.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="installations",BI="installations-internal",HI=r=>{const e=r.getProvider("app").getImmediate(),t=zI(e),a=qs(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:a,_delete:()=>Promise.resolve()}},FI=r=>{const e=r.getProvider("app").getImmediate(),t=qs(e,ib).getImmediate();return{getId:()=>kI(t),getToken:o=>UI(t,o)}};function qI(){si(new xr(ib,HI,"PUBLIC")),si(new xr(BI,FI,"PRIVATE"))}qI();_r(BT,$p);_r(BT,$p,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh="analytics",GI="firebase_id",$I="origin",KI=60*1e3,QI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Xp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new df("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Yn=new Fs("analytics","Analytics",YI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(r){if(!r.startsWith(Xp)){const e=Yn.create("invalid-gtag-resource",{gtagURL:r});return jn.warn(e.message),""}return r}function ab(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function WI(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function ZI(r,e){const t=WI("firebase-js-sdk-policy",{createScriptURL:XI}),a=document.createElement("script"),o=`${Xp}?l=${r}&id=${e}`;a.src=t?t==null?void 0:t.createScriptURL(o):o,a.async=!0,document.head.appendChild(a)}function JI(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function eD(r,e,t,a,o,l){const h=a[o];try{if(h)await e[h];else{const m=(await ab(t)).find(g=>g.measurementId===o);m&&await e[m.appId]}}catch(d){jn.error(d)}r("config",o,l)}async function tD(r,e,t,a,o){try{let l=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await ab(t);for(const m of h){const g=d.find(b=>b.measurementId===m),E=g&&e[g.appId];if(E)l.push(E);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",a,o||{})}catch(l){jn.error(l)}}function nD(r,e,t,a){async function o(l,...h){try{if(l==="event"){const[d,m]=h;await tD(r,e,t,d,m)}else if(l==="config"){const[d,m]=h;await eD(r,e,t,a,d,m)}else if(l==="consent"){const[d,m]=h;r("consent",d,m)}else if(l==="get"){const[d,m,g]=h;r("get",d,m,g)}else if(l==="set"){const[d]=h;r("set",d)}else r(l,...h)}catch(d){jn.error(d)}}return o}function rD(r,e,t,a,o){let l=function(...h){window[a].push(arguments)};return window[o]&&typeof window[o]=="function"&&(l=window[o]),window[o]=nD(l,r,e,t),{gtagCore:l,wrappedGtag:window[o]}}function iD(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(Xp)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=30,sD=1e3;class oD{constructor(e={},t=sD){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const sb=new oD;function lD(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function uD(r){var e;const{appId:t,apiKey:a}=r,o={method:"GET",headers:lD(a)},l=QI.replace("{app-id}",t),h=await fetch(l,o);if(h.status!==200&&h.status!==304){let d="";try{const m=await h.json();!((e=m.error)===null||e===void 0)&&e.message&&(d=m.error.message)}catch{}throw Yn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function cD(r,e=sb,t){const{appId:a,apiKey:o,measurementId:l}=r.options;if(!a)throw Yn.create("no-app-id");if(!o){if(l)return{measurementId:l,appId:a};throw Yn.create("no-api-key")}const h=e.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new dD;return setTimeout(async()=>{d.abort()},KI),ob({appId:a,apiKey:o,measurementId:l},h,d,e)}async function ob(r,{throttleEndTimeMillis:e,backoffCount:t},a,o=sb){var l;const{appId:h,measurementId:d}=r;try{await hD(a,e)}catch(m){if(d)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:h,measurementId:d};throw m}try{const m=await uD(r);return o.deleteThrottleMetadata(h),m}catch(m){const g=m;if(!fD(g)){if(o.deleteThrottleMetadata(h),d)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw m}const E=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?T0(t,o.intervalMillis,aD):T0(t,o.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:t+1};return o.setThrottleMetadata(h,b),jn.debug(`Calling attemptFetch again in ${E} millis`),ob(r,b,a,o)}}function hD(r,e){return new Promise((t,a)=>{const o=Math.max(e-Date.now(),0),l=setTimeout(t,o);r.addEventListener(()=>{clearTimeout(l),a(Yn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function fD(r){if(!(r instanceof Mr)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class dD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function mD(r,e,t,a,o){if(o&&o.global){r("event",t,a);return}else{const l=await e,h=Object.assign(Object.assign({},a),{send_to:l});r("event",t,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pD(){if(MT())try{await PT()}catch(r){return jn.warn(Yn.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return jn.warn(Yn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function gD(r,e,t,a,o,l,h){var d;const m=cD(r);m.then(D=>{t[D.measurementId]=D.appId,r.options.measurementId&&D.measurementId!==r.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${D.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(D=>jn.error(D)),e.push(m);const g=pD().then(D=>{if(D)return a.getId()}),[E,b]=await Promise.all([m,g]);iD(l)||ZI(l,E.measurementId),o("js",new Date);const R=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return R[$I]="firebase",R.update=!0,b!=null&&(R[GI]=b),o("config",E.measurementId,R),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.app=e}_delete(){return delete _u[this.app.options.appId],Promise.resolve()}}let _u={},O0=[];const M0={};let $m="dataLayer",vD="gtag",P0,lb,V0=!1;function _D(){const r=[];if(OT()&&r.push("This is a browser extension environment."),jC()||r.push("Cookies are not available."),r.length>0){const e=r.map((a,o)=>`(${o+1}) ${a}`).join(" "),t=Yn.create("invalid-analytics-context",{errorInfo:e});jn.warn(t.message)}}function ED(r,e,t){_D();const a=r.options.appId;if(!a)throw Yn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Yn.create("no-api-key");if(_u[a]!=null)throw Yn.create("already-exists",{id:a});if(!V0){JI($m);const{wrappedGtag:l,gtagCore:h}=rD(_u,O0,M0,$m,vD);lb=l,P0=h,V0=!0}return _u[a]=gD(r,O0,M0,e,P0,$m,t),new yD(r)}function TD(r=Gp()){r=Zt(r);const e=qs(r,zh);return e.isInitialized()?e.getImmediate():bD(r)}function bD(r,e={}){const t=qs(r,zh);if(t.isInitialized()){const o=t.getImmediate();if(Ba(e,t.getOptions()))return o;throw Yn.create("already-initialized")}return t.initialize({options:e})}function wD(r,e,t,a){r=Zt(r),mD(lb,_u[r.app.options.appId],e,t,a).catch(o=>jn.error(o))}const L0="@firebase/analytics",k0="0.10.12";function SD(){si(new xr(zh,(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return ED(a,o,t)},"PUBLIC")),si(new xr("analytics-internal",r,"PRIVATE")),_r(L0,k0),_r(L0,k0,"esm2017");function r(e){try{const t=e.getProvider(zh).getImmediate();return{logEvent:(a,o,l)=>wD(t,a,o,l)}}catch(t){throw Yn.create("interop-component-reg-failed",{reason:t})}}}SD();function Wp(r,e){var t={};for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&e.indexOf(a)<0&&(t[a]=r[a]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(r);o<a.length;o++)e.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(r,a[o])&&(t[a[o]]=r[a[o]]);return t}function ub(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AD=ub,cb=new Fs("auth","Firebase",ub());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh=new df("@firebase/auth");function RD(r,...e){Bh.logLevel<=We.WARN&&Bh.warn(`Auth (${il}): ${r}`,...e)}function wh(r,...e){Bh.logLevel<=We.ERROR&&Bh.error(`Auth (${il}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Or(r,...e){throw Zp(r,...e)}function ti(r,...e){return Zp(r,...e)}function hb(r,e,t){const a=Object.assign(Object.assign({},AD()),{[e]:t});return new Fs("auth","Firebase",a).create(e,{appName:r.name})}function Hi(r){return hb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(r,...e){if(typeof r!="string"){const t=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(t,...a)}return cb.create(r,...e)}function Pe(r,e,...t){if(!r)throw Zp(e,...t)}function ji(r){const e="INTERNAL ASSERTION FAILED: "+r;throw wh(e),new Error(e)}function Gi(r,e){r||ji(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function CD(){return U0()==="http:"||U0()==="https:"}function U0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CD()||OT()||"connection"in navigator)?navigator.onLine:!0}function DD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Gi(t>e,"Short delay should be less than long delay!"),this.isMobile=MC()||LC()}get(){return ID()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){Gi(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{static initialize(e,t,a){this.fetchImpl=e,t&&(this.headersImpl=t),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ND={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD=new Hu(3e4,6e4);function Yi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function hi(r,e,t,a,o={}){return db(r,o,async()=>{let l={},h={};a&&(e==="GET"?h=a:l={body:JSON.stringify(a)});const d=Bu(Object.assign({key:r.config.apiKey},h)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},l);return VC()||(g.referrerPolicy="no-referrer"),fb.fetch()(mb(r,r.config.apiHost,t,d),g)})}async function db(r,e,t){r._canInitEmulator=!1;const a=Object.assign(Object.assign({},ND),e);try{const o=new MD(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw dh(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const d=l.ok?h.errorMessage:h.error.message,[m,g]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw dh(r,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw dh(r,"email-already-in-use",h);if(m==="USER_DISABLED")throw dh(r,"user-disabled",h);const E=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw hb(r,E,g);Or(r,E)}}catch(o){if(o instanceof Mr)throw o;Or(r,"network-request-failed",{message:String(o)})}}async function Fu(r,e,t,a,o={}){const l=await hi(r,e,t,a,o);return"mfaPendingCredential"in l&&Or(r,"multi-factor-auth-required",{_serverResponse:l}),l}function mb(r,e,t,a){const o=`${e}${t}?${a}`;return r.config.emulator?Jp(r.config,o):`${r.config.apiScheme}://${o}`}function OD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class MD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,a)=>{this.timer=setTimeout(()=>a(ti(this.auth,"network-request-failed")),xD.get())})}}function dh(r,e,t){const a={appName:r.name};t.email&&(a.email=t.email),t.phoneNumber&&(a.phoneNumber=t.phoneNumber);const o=ti(r,e,a);return o.customData._tokenResponse=t,o}function j0(r){return r!==void 0&&r.enterprise!==void 0}class PD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OD(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VD(r,e){return hi(r,"GET","/v2/recaptchaConfig",Yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LD(r,e){return hi(r,"POST","/v1/accounts:delete",e)}async function pb(r,e){return hi(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function kD(r,e=!1){const t=Zt(r),a=await t.getIdToken(e),o=eg(a);Pe(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:a,authTime:Eu(Km(o.auth_time)),issuedAtTime:Eu(Km(o.iat)),expirationTime:Eu(Km(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Km(r){return Number(r)*1e3}function eg(r){const[e,t,a]=r.split(".");if(e===void 0||t===void 0||a===void 0)return wh("JWT malformed, contained fewer than 3 sections"),null;try{const o=IT(t);return o?JSON.parse(o):(wh("Failed to decode base64 JWT payload"),null)}catch(o){return wh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function z0(r){const e=eg(r);return Pe(e,"internal-error"),Pe(typeof e.exp<"u","internal-error"),Pe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qo(r,e,t=!1){if(t)return e;try{return await e}catch(a){throw a instanceof Mr&&UD(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function UD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(r){var e;const t=r.auth,a=await r.getIdToken(),o=await Qo(r,pb(t,{idToken:a}));Pe(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?gb(l.providerUserInfo):[],d=BD(r.providerData,h),m=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(d!=null&&d.length),E=m?g:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new up(l.createdAt,l.lastLoginAt),isAnonymous:E};Object.assign(r,b)}async function zD(r){const e=Zt(r);await Hh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function BD(r,e){return[...r.filter(a=>!e.some(o=>o.providerId===a.providerId)),...e]}function gb(r){return r.map(e=>{var{providerId:t}=e,a=Wp(e,["providerId"]);return{providerId:t,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(r,e){const t=await db(r,{},async()=>{const a=Bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=mb(r,o,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",fb.fetch()(h,{method:"POST",headers:d,body:a})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function FD(r,e){return hi(r,"POST","/v2/accounts:revokeToken",Yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pe(e.idToken,"internal-error"),Pe(typeof e.idToken<"u","internal-error"),Pe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pe(e.length!==0,"internal-error");const t=z0(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Pe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:a,refreshToken:o,expiresIn:l}=await HD(e,t);this.updateTokensAndExpiration(a,o,Number(l))}updateTokensAndExpiration(e,t,a){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,t){const{refreshToken:a,accessToken:o,expirationTime:l}=t,h=new qo;return a&&(Pe(typeof a=="string","internal-error",{appName:e}),h.refreshToken=a),o&&(Pe(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Pe(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new qo,this.toJSON())}_performRefresh(){return ji("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aa(r,e){Pe(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class zi{constructor(e){var{uid:t,auth:a,stsTokenManager:o}=e,l=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new up(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Qo(this,this.stsTokenManager.getToken(this.auth,e));return Pe(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return kD(this,e)}reload(){return zD(this)}_assign(e){this!==e&&(Pe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Pe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),t&&await Hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yr(this.auth.app))return Promise.reject(Hi(this.auth));const e=await this.getIdToken();return await Qo(this,LD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var a,o,l,h,d,m,g,E;const b=(a=t.displayName)!==null&&a!==void 0?a:void 0,R=(o=t.email)!==null&&o!==void 0?o:void 0,D=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,Y=(d=t.tenantId)!==null&&d!==void 0?d:void 0,H=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,W=(g=t.createdAt)!==null&&g!==void 0?g:void 0,J=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ae,emailVerified:de,isAnonymous:U,providerData:ce,stsTokenManager:P}=t;Pe(ae&&P,e,"internal-error");const C=qo.fromJSON(this.name,P);Pe(typeof ae=="string",e,"internal-error"),Aa(b,e.name),Aa(R,e.name),Pe(typeof de=="boolean",e,"internal-error"),Pe(typeof U=="boolean",e,"internal-error"),Aa(D,e.name),Aa(L,e.name),Aa(Y,e.name),Aa(H,e.name),Aa(W,e.name),Aa(J,e.name);const A=new zi({uid:ae,auth:e,email:R,emailVerified:de,displayName:b,isAnonymous:U,photoURL:L,phoneNumber:D,tenantId:Y,stsTokenManager:C,createdAt:W,lastLoginAt:J});return ce&&Array.isArray(ce)&&(A.providerData=ce.map(I=>Object.assign({},I))),H&&(A._redirectEventId=H),A}static async _fromIdTokenResponse(e,t,a=!1){const o=new qo;o.updateFromServerResponse(t);const l=new zi({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:a});return await Hh(l),l}static async _fromGetAccountInfoResponse(e,t,a){const o=t.users[0];Pe(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?gb(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),d=new qo;d.updateFromIdToken(a);const m=new zi({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new up(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map;function Bi(r){Gi(r instanceof Function,"Expected a class definition");let e=B0.get(r);return e?(Gi(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,B0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yb.type="NONE";const H0=yb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(r,e,t){return`firebase:${r}:${e}:${t}`}class Go{constructor(e,t,a){this.persistence=e,this.auth=t,this.userKey=a;const{config:o,name:l}=this.auth;this.fullUserKey=Sh(this.userKey,o.apiKey,l),this.fullPersistenceKey=Sh("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,a="authUser"){if(!t.length)return new Go(Bi(H0),e,a);const o=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=o[0]||Bi(H0);const h=Sh(a,e.config.apiKey,e.name);let d=null;for(const g of t)try{const E=await g._get(h);if(E){const b=zi._fromJSON(e,E);g!==l&&(d=b),l=g;break}}catch{}const m=o.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Go(l,e,a):(l=m[0],d&&await l._set(h,d.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(h)}catch{}})),new Go(l,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(vb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wb(e))return"Blackberry";if(Sb(e))return"Webos";if(_b(e))return"Safari";if((e.includes("chrome/")||Eb(e))&&!e.includes("edge/"))return"Chrome";if(bb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(t);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function vb(r=Rn()){return/firefox\//i.test(r)}function _b(r=Rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Eb(r=Rn()){return/crios\//i.test(r)}function Tb(r=Rn()){return/iemobile/i.test(r)}function bb(r=Rn()){return/android/i.test(r)}function wb(r=Rn()){return/blackberry/i.test(r)}function Sb(r=Rn()){return/webos/i.test(r)}function tg(r=Rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function qD(r=Rn()){var e;return tg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GD(){return kC()&&document.documentMode===10}function Ab(r=Rn()){return tg(r)||bb(r)||Sb(r)||wb(r)||/windows phone/i.test(r)||Tb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rb(r,e=[]){let t;switch(r){case"Browser":t=F0(Rn());break;case"Worker":t=`${F0(Rn())}-${r}`;break;default:t=r}const a=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${il}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const a=l=>new Promise((h,d)=>{try{const m=e(l);h(m)}catch(m){d(m)}});a.onAbort=t,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const a of this.queue)await a(e),a.onAbort&&t.push(a.onAbort)}catch(a){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(r,e={}){return hi(r,"GET","/v2/passwordPolicy",Yi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=6;class YD{constructor(e){var t,a,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:QD,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,a,o,l,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(e,t){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(t.meetsMinPasswordLength=e.length>=a),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let a;for(let o=0;o<e.length;o++)a=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,t,a,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t,a,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new q0(this),this.idTokenSubscription=new q0(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=cb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Bi(t)),this._initializationPromise=this.queue(async()=>{var a,o;if(!this._deleted&&(this.persistenceManager=await Go.create(this,e),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await pb(this,{idToken:e}),a=await zi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(a)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yr(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(e);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Pe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Hh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yr(this.app))return Promise.reject(Hi(this));const t=e?Zt(e):null;return t&&Pe(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yr(this.app)?Promise.reject(Hi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yr(this.app)?Promise.reject(Hi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await KD(this),t=new YD(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Fs("auth","Firebase",e())}onAuthStateChanged(e,t,a){return this.registerStateListener(this.authStateSubscription,e,t,a)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,a){return this.registerStateListener(this.idTokenSubscription,e,t,a)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(a.tenantId=this.tenantId),await FD(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const a=await this.getOrInitRedirectPersistenceManager(t);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Bi(e)||this._popupRedirectResolver;Pe(t,this,"argument-error"),this.redirectPersistenceManager=await Go.create(this,[Bi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,a;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,a,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pe(d,this,"internal-error"),d.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,a,o);return()=>{h=!0,m()}}else{const m=e.addObserver(t);return()=>{h=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(t["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(yr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&RD(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xa(r){return Zt(r)}class q0{constructor(e){this.auth=e,this.observer=null,this.addObserver=qC(t=>this.observer=t)}get next(){return Pe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WD(r){gf=r}function Cb(r){return gf.loadJS(r)}function ZD(){return gf.recaptchaEnterpriseScript}function JD(){return gf.gapiScript}function eN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class tN{constructor(){this.enterprise=new nN}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class nN{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const rN="recaptcha-enterprise",Ib="NO_RECAPTCHA";class iN{constructor(e){this.type=rN,this.auth=Xa(e)}async verify(e="verify",t=!1){async function a(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,d)=>{VD(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new PD(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,h(g.siteKey)}}).catch(m=>{d(m)})})}function o(l,h,d){const m=window.grecaptcha;j0(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{h(g)}).catch(()=>{h(Ib)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new tN().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{a(this.auth).then(d=>{if(!t&&j0(window.grecaptcha))o(d,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=ZD();m.length!==0&&(m+=d),Cb(m).then(()=>{o(d,l,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function G0(r,e,t,a=!1,o=!1){const l=new iN(r);let h;if(o)h=Ib;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Fh(r,e,t,a,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await G0(r,e,t,t==="getOobCode");return a(r,h)}else return a(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await G0(r,e,t,t==="getOobCode");return a(r,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aN(r,e){const t=qs(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ba(l,e??{}))return o;Or(o,"already-initialized")}return t.initialize({options:e})}function sN(r,e){const t=(e==null?void 0:e.persistence)||[],a=(Array.isArray(t)?t:[t]).map(Bi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function oN(r,e,t){const a=Xa(r);Pe(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const o=!1,l=Db(e),{host:h,port:d}=lN(e),m=d===null?"":`:${d}`,g={url:`${l}//${h}${m}/`},E=Object.freeze({host:h,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){Pe(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Pe(Ba(g,a.config.emulator)&&Ba(E,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=g,a.emulatorConfig=E,a.settings.appVerificationDisabledForTesting=!0,uN()}function Db(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function lN(r){const e=Db(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const a=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const l=o[1];return{host:l,port:$0(a.substr(l.length+1))}}else{const[l,h]=a.split(":");return{host:l,port:$0(h)}}}function $0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function uN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ji("not implemented")}_getIdTokenResponse(e){return ji("not implemented")}_linkToIdToken(e,t){return ji("not implemented")}_getReauthenticationResolver(e){return ji("not implemented")}}async function cN(r,e){return hi(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hN(r,e){return Fu(r,"POST","/v1/accounts:signInWithPassword",Yi(r,e))}async function Nb(r,e){return hi(r,"POST","/v1/accounts:sendOobCode",Yi(r,e))}async function fN(r,e){return Nb(r,e)}async function dN(r,e){return Nb(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mN(r,e){return Fu(r,"POST","/v1/accounts:signInWithEmailLink",Yi(r,e))}async function pN(r,e){return Fu(r,"POST","/v1/accounts:signInWithEmailLink",Yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du extends ng{constructor(e,t,a,o=null){super("password",a),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Du(e,t,"password")}static _fromEmailAndCode(e,t,a=null){return new Du(e,t,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,t,"signInWithPassword",hN);case"emailLink":return mN(e,{email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const a={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Fh(e,a,"signUpPassword",cN);case"emailLink":return pN(e,{idToken:t,email:this._email,oobCode:this._password});default:Or(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(r,e){return Fu(r,"POST","/v1/accounts:signInWithIdp",Yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN="http://localhost";class Us extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Us(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Or("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:o}=t,l=Wp(t,["providerId","signInMethod"]);if(!a||!o)return null;const h=new Us(a,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const a=this.buildRequest();return a.idToken=t,$o(e,a)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:gN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Bu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function vN(r){const e=du(mu(r)).link,t=e?du(mu(e)).deep_link_id:null,a=du(mu(r)).deep_link_id;return(a?du(mu(a)).link:null)||a||t||e||r}class rg{constructor(e){var t,a,o,l,h,d;const m=du(mu(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,E=(a=m.oobCode)!==null&&a!==void 0?a:null,b=yN((o=m.mode)!==null&&o!==void 0?o:null);Pe(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=m.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=vN(e);try{return new rg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(){this.providerId=al.PROVIDER_ID}static credential(e,t){return Du._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const a=rg.parseLink(t);return Pe(a,"argument-error"),Du._fromEmailAndCode(e,a.code,a.tenantId)}}al.PROVIDER_ID="password";al.EMAIL_PASSWORD_SIGN_IN_METHOD="password";al.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends xb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia extends qu{constructor(){super("facebook.com")}static credential(e){return Us._fromParams({providerId:Ia.PROVIDER_ID,signInMethod:Ia.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ia.credentialFromTaggedObject(e)}static credentialFromError(e){return Ia.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ia.credential(e.oauthAccessToken)}catch{return null}}}Ia.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ia.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da extends qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Us._fromParams({providerId:Da.PROVIDER_ID,signInMethod:Da.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Da.credentialFromTaggedObject(e)}static credentialFromError(e){return Da.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:a}=e;if(!t&&!a)return null;try{return Da.credential(t,a)}catch{return null}}}Da.GOOGLE_SIGN_IN_METHOD="google.com";Da.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na extends qu{constructor(){super("github.com")}static credential(e){return Us._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Na.credential(e.oauthAccessToken)}catch{return null}}}Na.GITHUB_SIGN_IN_METHOD="github.com";Na.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa extends qu{constructor(){super("twitter.com")}static credential(e,t){return Us._fromParams({providerId:xa.PROVIDER_ID,signInMethod:xa.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return xa.credentialFromTaggedObject(e)}static credentialFromError(e){return xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:a}=e;if(!t||!a)return null;try{return xa.credential(t,a)}catch{return null}}}xa.TWITTER_SIGN_IN_METHOD="twitter.com";xa.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(r,e){return Fu(r,"POST","/v1/accounts:signUp",Yi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,a,o=!1){const l=await zi._fromIdTokenResponse(e,a,o),h=K0(a);return new js({user:l,providerId:h,_tokenResponse:a,operationType:t})}static async _forOperation(e,t,a){await e._updateTokensIfNecessary(a,!0);const o=K0(a);return new js({user:e,providerId:o,_tokenResponse:a,operationType:t})}}function K0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends Mr{constructor(e,t,a,o){var l;super(t.code,t.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,t,a,o){return new qh(e,t,a,o)}}function Ob(r,e,t,a){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(r,l,e,a):l})}async function EN(r,e,t=!1){const a=await Qo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return js._forOperation(r,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TN(r,e,t=!1){const{auth:a}=r;if(yr(a.app))return Promise.reject(Hi(a));const o="reauthenticate";try{const l=await Qo(r,Ob(a,o,e,r),t);Pe(l.idToken,a,"internal-error");const h=eg(l.idToken);Pe(h,a,"internal-error");const{sub:d}=h;return Pe(r.uid===d,a,"user-mismatch"),js._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Or(a,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(r,e,t=!1){if(yr(r.app))return Promise.reject(Hi(r));const a="signIn",o=await Ob(r,a,e),l=await js._fromIdTokenResponse(r,a,o);return t||await r._updateCurrentUser(l.user),l}async function bN(r,e){return Mb(Xa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pb(r){const e=Xa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wN(r,e,t){const a=Xa(r);await Fh(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",dN)}async function SN(r,e,t){if(yr(r.app))return Promise.reject(Hi(r));const a=Xa(r),h=await Fh(a,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_N).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Pb(r),m}),d=await js._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function AN(r,e,t){return yr(r.app)?Promise.reject(Hi(r)):bN(Zt(r),al.credential(e,t)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Pb(r),a})}async function RN(r,e){const t=Zt(r),o={requestType:"VERIFY_EMAIL",idToken:await r.getIdToken()},{email:l}=await fN(t.auth,o);l!==r.email&&await r.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,e){return hi(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const a=Zt(r),l={idToken:await a.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},h=await Qo(a,CN(a.auth,l));a.displayName=h.displayName||null,a.photoURL=h.photoUrl||null;const d=a.providerData.find(({providerId:m})=>m==="password");d&&(d.displayName=a.displayName,d.photoURL=a.photoURL),await a._updateTokensIfNecessary(h)}function IN(r,e,t,a){return Zt(r).onIdTokenChanged(e,t,a)}function DN(r,e,t){return Zt(r).beforeAuthStateChanged(e,t)}function NN(r,e,t,a){return Zt(r).onAuthStateChanged(e,t,a)}function xN(r){return Zt(r).signOut()}const Gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Gh,"1"),this.storage.removeItem(Gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1e3,MN=10;class kb extends Lb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ab(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const a=this.storage.getItem(t),o=this.localCache[t];a!==o&&e(t,o,a)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!t&&this.localCache[a]===h||this.notifyListeners(a,h)},l=this.storage.getItem(a);GD()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MN):o()}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:a}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}kb.type="LOCAL";const PN=kb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Lb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ub.type="SESSION";const jb=Ub;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const a=new yf(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:a,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async g=>g(t.origin,l)),m=await VN(d);t.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ig(r="",e=10){let t="";for(let a=0;a<e;a++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((d,m)=>{const g=ig("",20);o.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(E),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(R.data.response);break;default:clearTimeout(E),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function kN(r){ni().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function UN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zN(){return zb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="firebaseLocalStorageDb",BN=1,$h="firebaseLocalStorage",Hb="fbase_key";class Gu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function vf(r,e){return r.transaction([$h],e?"readwrite":"readonly").objectStore($h)}function HN(){const r=indexedDB.deleteDatabase(Bb);return new Gu(r).toPromise()}function cp(){const r=indexedDB.open(Bb,BN);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore($h,{keyPath:Hb})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains($h)?e(a):(a.close(),await HN(),e(await cp()))})})}async function Q0(r,e,t){const a=vf(r,!0).put({[Hb]:e,value:t});return new Gu(a).toPromise()}async function FN(r,e){const t=vf(r,!1).get(e),a=await new Gu(t).toPromise();return a===void 0?null:a.value}function Y0(r,e){const t=vf(r,!0).delete(e);return new Gu(t).toPromise()}const qN=800,GN=3;class Fb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(t++>GN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yf._getInstance(zN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new LN(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((t=a[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cp();return await Q0(e,Gh,"1"),await Y0(e,Gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(a=>Q0(a,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(a=>FN(a,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Y0(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=vf(o,!1).getAll();return new Gu(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],a=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const a=this.listeners[e];if(a)for(const o of Array.from(a))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),qN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Fb.type="LOCAL";const $N=Fb;new Hu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KN(r,e){return e?Bi(e):(Pe(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function QN(r){return Mb(r.auth,new ag(r),r.bypassAuthState)}function YN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),TN(t,new ag(r),r.bypassAuthState)}async function XN(r){const{auth:e,user:t}=r;return Pe(t,e,"internal-error"),EN(t,new ag(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,t,a,o,l=!1){this.auth=e,this.resolver=a,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:a,postBody:o,tenantId:l,error:h,type:d}=e;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:t,sessionId:a,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return YN;default:Or(this.auth,"internal-error")}}resolve(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new Hu(2e3,1e4);class Fo extends qb{constructor(e,t,a,o,l){super(e,t,o,l),this.provider=a,this.authWindow=null,this.pollId=null,Fo.currentPopupAction&&Fo.currentPopupAction.cancel(),Fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pe(e,this.auth,"internal-error"),e}async onExecution(){Gi(this.filter.length===1,"Popup operations only handle one event");const e=ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ti(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ti(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,a;if(!((a=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ti(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}Fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="pendingRedirect",Ah=new Map;class JN extends qb{constructor(e,t,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,a),this.eventId=null}async execute(){let e=Ah.get(this.auth._key());if(!e){try{const a=await ex(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(t){e=()=>Promise.reject(t)}Ah.set(this.auth._key(),e)}return this.bypassAuthState||Ah.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ex(r,e){const t=rx(e),a=nx(r);if(!await a._isAvailable())return!1;const o=await a._get(t)==="true";return await a._remove(t),o}function tx(r,e){Ah.set(r._key(),e)}function nx(r){return Bi(r._redirectPersistence)}function rx(r){return Sh(ZN,r.config.apiKey,r.name)}async function ix(r,e,t=!1){if(yr(r.app))return Promise.reject(Hi(r));const a=Xa(r),o=KN(a,e),h=await new JN(a,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=10*60*1e3;class sx{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(t=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ox(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var a;if(e.error&&!Gb(e)){const o=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";t.onError(ti(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const a=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ax&&this.cachedEventUids.clear(),this.cachedEventUids.has(X0(e))}saveEventToCache(e){this.cachedEventUids.add(X0(e)),this.lastProcessedEventTime=Date.now()}}function X0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Gb({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ox(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gb(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(r,e={}){return hi(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cx=/^https?/;async function hx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lx(r);for(const t of e)try{if(fx(t))return}catch{}Or(r,"unauthorized-domain")}function fx(r){const e=lp(),{protocol:t,hostname:a}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&a===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===a}if(!cx.test(t))return!1;if(ux.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new Hu(3e4,6e4);function W0(){const r=ni().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function mx(r){return new Promise((e,t)=>{var a,o,l;function h(){W0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{W0(),t(ti(r,"network-request-failed"))},timeout:dx.get()})}if(!((o=(a=ni().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ni().gapi)===null||l===void 0)&&l.load)h();else{const d=eN("iframefcb");return ni()[d]=()=>{gapi.load?h():t(ti(r,"network-request-failed"))},Cb(`${JD()}?onload=${d}`).catch(m=>t(m))}}).catch(e=>{throw Rh=null,e})}let Rh=null;function px(r){return Rh=Rh||mx(r),Rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new Hu(5e3,15e3),yx="__/auth/iframe",vx="emulator/auth/iframe",_x={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(r){const e=r.config;Pe(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Jp(e,vx):`https://${r.config.authDomain}/${yx}`,a={apiKey:e.apiKey,appName:r.name,v:il},o=Ex.get(r.config.apiHost);o&&(a.eid=o);const l=r._getFrameworks();return l.length&&(a.fw=l.join(",")),`${t}?${Bu(a).slice(1)}`}async function bx(r){const e=await px(r),t=ni().gapi;return Pe(t,r,"internal-error"),e.open({where:document.body,url:Tx(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_x,dontclear:!0},a=>new Promise(async(o,l)=>{await a.restyle({setHideOnLeave:!1});const h=ti(r,"network-request-failed"),d=ni().setTimeout(()=>{l(h)},gx.get());function m(){ni().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sx=500,Ax=600,Rx="_blank",Cx="http://localhost";class Z0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(r,e,t,a=Sx,o=Ax){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},wx),{width:a.toString(),height:o.toString(),top:l,left:h}),g=Rn().toLowerCase();t&&(d=Eb(g)?Rx:t),vb(g)&&(e=e||Cx,m.scrollbars="yes");const E=Object.entries(m).reduce((R,[D,L])=>`${R}${D}=${L},`,"");if(qD(g)&&d!=="_self")return Dx(e||"",d),new Z0(null);const b=window.open(e||"",d,E);Pe(b,r,"popup-blocked");try{b.focus()}catch{}return new Z0(b)}function Dx(r,e){const t=document.createElement("a");t.href=r,t.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__/auth/handler",xx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function J0(r,e,t,a,o,l){Pe(r.config.authDomain,r,"auth-domain-config-required"),Pe(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:a,v:il,eventId:o};if(e instanceof xb){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",FC(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof qu){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}r.tenantId&&(h.tid=r.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const m=await r._getAppCheckToken(),g=m?`#${Ox}=${encodeURIComponent(m)}`:"";return`${Mx(r)}?${Bu(d).slice(1)}${g}`}function Mx({config:r}){return r.emulator?Jp(r,xx):`https://${r.authDomain}/${Nx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="webStorageSupport";class Px{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jb,this._completeRedirectFn=ix,this._overrideRedirectResult=tx}async _openPopup(e,t,a,o){var l;Gi((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await J0(e,t,a,lp(),o);return Ix(e,h,ig())}async _openRedirect(e,t,a,o){await this._originValidation(e);const l=await J0(e,t,a,lp(),o);return kN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Gi(l,"If manager is not set, promise should be"),l)}const a=this.initAndGetManager(e);return this.eventManagers[t]={promise:a},a.catch(()=>{delete this.eventManagers[t]}),a}async initAndGetManager(e){const t=await bx(e),a=new sx(e);return t.register("authEvent",o=>(Pe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=t,a}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qm,{type:Qm},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Qm];h!==void 0&&t(!!h),Or(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hx(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ab()||_b()||tg()}}const Vx=Px;var eE="@firebase/auth",tE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(r){si(new xr("auth",(e,{options:t})=>{const a=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;Pe(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rb(r)},g=new XD(a,o,l,m);return sN(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,a)=>{e.getProvider("auth-internal").initialize()})),si(new xr("auth-internal",e=>{const t=Xa(e.getProvider("auth").getImmediate());return(a=>new Lx(a))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),_r(eE,tE,kx(r)),_r(eE,tE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=5*60,zx=xT("authIdTokenMaxAge")||jx;let nE=null;const Bx=r=>async e=>{const t=e&&await e.getIdTokenResult(),a=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(a&&a>zx)return;const o=t==null?void 0:t.token;nE!==o&&(nE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hx(r=Gp()){const e=qs(r,"auth");if(e.isInitialized())return e.getImmediate();const t=aN(r,{popupRedirectResolver:Vx,persistence:[$N,PN,jb]}),a=xT("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(a,location.origin);if(location.origin===l.origin){const h=Bx(l.toString());DN(t,h,()=>h(t.currentUser)),IN(t,d=>h(d))}}const o=DT("auth");return o&&oN(t,`http://${o}`),t}function Fx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}WD({loadJS(r){return new Promise((e,t)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=e,a.onerror=o=>{const l=ti("internal-error");l.customData=o,t(l)},a.type="text/javascript",a.charset="UTF-8",Fx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");var rE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var La,$b;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,C){function A(){}A.prototype=C.prototype,P.D=C.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(I,M,B){for(var x=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)x[Fe-2]=arguments[Fe];return C.prototype[M].apply(I,x)}}function t(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,t),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,C,A){A||(A=0);var I=Array(16);if(typeof C=="string")for(var M=0;16>M;++M)I[M]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(M=0;16>M;++M)I[M]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=P.g[0],A=P.g[1],M=P.g[2];var B=P.g[3],x=C+(B^A&(M^B))+I[0]+3614090360&4294967295;C=A+(x<<7&4294967295|x>>>25),x=B+(M^C&(A^M))+I[1]+3905402710&4294967295,B=C+(x<<12&4294967295|x>>>20),x=M+(A^B&(C^A))+I[2]+606105819&4294967295,M=B+(x<<17&4294967295|x>>>15),x=A+(C^M&(B^C))+I[3]+3250441966&4294967295,A=M+(x<<22&4294967295|x>>>10),x=C+(B^A&(M^B))+I[4]+4118548399&4294967295,C=A+(x<<7&4294967295|x>>>25),x=B+(M^C&(A^M))+I[5]+1200080426&4294967295,B=C+(x<<12&4294967295|x>>>20),x=M+(A^B&(C^A))+I[6]+2821735955&4294967295,M=B+(x<<17&4294967295|x>>>15),x=A+(C^M&(B^C))+I[7]+4249261313&4294967295,A=M+(x<<22&4294967295|x>>>10),x=C+(B^A&(M^B))+I[8]+1770035416&4294967295,C=A+(x<<7&4294967295|x>>>25),x=B+(M^C&(A^M))+I[9]+2336552879&4294967295,B=C+(x<<12&4294967295|x>>>20),x=M+(A^B&(C^A))+I[10]+4294925233&4294967295,M=B+(x<<17&4294967295|x>>>15),x=A+(C^M&(B^C))+I[11]+2304563134&4294967295,A=M+(x<<22&4294967295|x>>>10),x=C+(B^A&(M^B))+I[12]+1804603682&4294967295,C=A+(x<<7&4294967295|x>>>25),x=B+(M^C&(A^M))+I[13]+4254626195&4294967295,B=C+(x<<12&4294967295|x>>>20),x=M+(A^B&(C^A))+I[14]+2792965006&4294967295,M=B+(x<<17&4294967295|x>>>15),x=A+(C^M&(B^C))+I[15]+1236535329&4294967295,A=M+(x<<22&4294967295|x>>>10),x=C+(M^B&(A^M))+I[1]+4129170786&4294967295,C=A+(x<<5&4294967295|x>>>27),x=B+(A^M&(C^A))+I[6]+3225465664&4294967295,B=C+(x<<9&4294967295|x>>>23),x=M+(C^A&(B^C))+I[11]+643717713&4294967295,M=B+(x<<14&4294967295|x>>>18),x=A+(B^C&(M^B))+I[0]+3921069994&4294967295,A=M+(x<<20&4294967295|x>>>12),x=C+(M^B&(A^M))+I[5]+3593408605&4294967295,C=A+(x<<5&4294967295|x>>>27),x=B+(A^M&(C^A))+I[10]+38016083&4294967295,B=C+(x<<9&4294967295|x>>>23),x=M+(C^A&(B^C))+I[15]+3634488961&4294967295,M=B+(x<<14&4294967295|x>>>18),x=A+(B^C&(M^B))+I[4]+3889429448&4294967295,A=M+(x<<20&4294967295|x>>>12),x=C+(M^B&(A^M))+I[9]+568446438&4294967295,C=A+(x<<5&4294967295|x>>>27),x=B+(A^M&(C^A))+I[14]+3275163606&4294967295,B=C+(x<<9&4294967295|x>>>23),x=M+(C^A&(B^C))+I[3]+4107603335&4294967295,M=B+(x<<14&4294967295|x>>>18),x=A+(B^C&(M^B))+I[8]+1163531501&4294967295,A=M+(x<<20&4294967295|x>>>12),x=C+(M^B&(A^M))+I[13]+2850285829&4294967295,C=A+(x<<5&4294967295|x>>>27),x=B+(A^M&(C^A))+I[2]+4243563512&4294967295,B=C+(x<<9&4294967295|x>>>23),x=M+(C^A&(B^C))+I[7]+1735328473&4294967295,M=B+(x<<14&4294967295|x>>>18),x=A+(B^C&(M^B))+I[12]+2368359562&4294967295,A=M+(x<<20&4294967295|x>>>12),x=C+(A^M^B)+I[5]+4294588738&4294967295,C=A+(x<<4&4294967295|x>>>28),x=B+(C^A^M)+I[8]+2272392833&4294967295,B=C+(x<<11&4294967295|x>>>21),x=M+(B^C^A)+I[11]+1839030562&4294967295,M=B+(x<<16&4294967295|x>>>16),x=A+(M^B^C)+I[14]+4259657740&4294967295,A=M+(x<<23&4294967295|x>>>9),x=C+(A^M^B)+I[1]+2763975236&4294967295,C=A+(x<<4&4294967295|x>>>28),x=B+(C^A^M)+I[4]+1272893353&4294967295,B=C+(x<<11&4294967295|x>>>21),x=M+(B^C^A)+I[7]+4139469664&4294967295,M=B+(x<<16&4294967295|x>>>16),x=A+(M^B^C)+I[10]+3200236656&4294967295,A=M+(x<<23&4294967295|x>>>9),x=C+(A^M^B)+I[13]+681279174&4294967295,C=A+(x<<4&4294967295|x>>>28),x=B+(C^A^M)+I[0]+3936430074&4294967295,B=C+(x<<11&4294967295|x>>>21),x=M+(B^C^A)+I[3]+3572445317&4294967295,M=B+(x<<16&4294967295|x>>>16),x=A+(M^B^C)+I[6]+76029189&4294967295,A=M+(x<<23&4294967295|x>>>9),x=C+(A^M^B)+I[9]+3654602809&4294967295,C=A+(x<<4&4294967295|x>>>28),x=B+(C^A^M)+I[12]+3873151461&4294967295,B=C+(x<<11&4294967295|x>>>21),x=M+(B^C^A)+I[15]+530742520&4294967295,M=B+(x<<16&4294967295|x>>>16),x=A+(M^B^C)+I[2]+3299628645&4294967295,A=M+(x<<23&4294967295|x>>>9),x=C+(M^(A|~B))+I[0]+4096336452&4294967295,C=A+(x<<6&4294967295|x>>>26),x=B+(A^(C|~M))+I[7]+1126891415&4294967295,B=C+(x<<10&4294967295|x>>>22),x=M+(C^(B|~A))+I[14]+2878612391&4294967295,M=B+(x<<15&4294967295|x>>>17),x=A+(B^(M|~C))+I[5]+4237533241&4294967295,A=M+(x<<21&4294967295|x>>>11),x=C+(M^(A|~B))+I[12]+1700485571&4294967295,C=A+(x<<6&4294967295|x>>>26),x=B+(A^(C|~M))+I[3]+2399980690&4294967295,B=C+(x<<10&4294967295|x>>>22),x=M+(C^(B|~A))+I[10]+4293915773&4294967295,M=B+(x<<15&4294967295|x>>>17),x=A+(B^(M|~C))+I[1]+2240044497&4294967295,A=M+(x<<21&4294967295|x>>>11),x=C+(M^(A|~B))+I[8]+1873313359&4294967295,C=A+(x<<6&4294967295|x>>>26),x=B+(A^(C|~M))+I[15]+4264355552&4294967295,B=C+(x<<10&4294967295|x>>>22),x=M+(C^(B|~A))+I[6]+2734768916&4294967295,M=B+(x<<15&4294967295|x>>>17),x=A+(B^(M|~C))+I[13]+1309151649&4294967295,A=M+(x<<21&4294967295|x>>>11),x=C+(M^(A|~B))+I[4]+4149444226&4294967295,C=A+(x<<6&4294967295|x>>>26),x=B+(A^(C|~M))+I[11]+3174756917&4294967295,B=C+(x<<10&4294967295|x>>>22),x=M+(C^(B|~A))+I[2]+718787259&4294967295,M=B+(x<<15&4294967295|x>>>17),x=A+(B^(M|~C))+I[9]+3951481745&4294967295,P.g[0]=P.g[0]+C&4294967295,P.g[1]=P.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,P.g[2]=P.g[2]+M&4294967295,P.g[3]=P.g[3]+B&4294967295}a.prototype.u=function(P,C){C===void 0&&(C=P.length);for(var A=C-this.blockSize,I=this.B,M=this.h,B=0;B<C;){if(M==0)for(;B<=A;)o(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<C;)if(I[M++]=P.charCodeAt(B++),M==this.blockSize){o(this,I),M=0;break}}else for(;B<C;)if(I[M++]=P[B++],M==this.blockSize){o(this,I),M=0;break}}this.h=M,this.o+=C},a.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var C=1;C<P.length-8;++C)P[C]=0;var A=8*this.o;for(C=P.length-8;C<P.length;++C)P[C]=A&255,A/=256;for(this.u(P),P=Array(16),C=A=0;4>C;++C)for(var I=0;32>I;I+=8)P[A++]=this.g[C]>>>I&255;return P};function l(P,C){var A=d;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=C(P)}function h(P,C){this.h=C;for(var A=[],I=!0,M=P.length-1;0<=M;M--){var B=P[M]|0;I&&B==C||(A[M]=B,I=!1)}this.g=A}var d={};function m(P){return-128<=P&&128>P?l(P,function(C){return new h([C|0],0>C?-1:0)}):new h([P|0],0>P?-1:0)}function g(P){if(isNaN(P)||!isFinite(P))return b;if(0>P)return H(g(-P));for(var C=[],A=1,I=0;P>=A;I++)C[I]=P/A|0,A*=4294967296;return new h(C,0)}function E(P,C){if(P.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(P.charAt(0)=="-")return H(E(P.substring(1),C));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(C,8)),I=b,M=0;M<P.length;M+=8){var B=Math.min(8,P.length-M),x=parseInt(P.substring(M,M+B),C);8>B?(B=g(Math.pow(C,B)),I=I.j(B).add(g(x))):(I=I.j(A),I=I.add(g(x)))}return I}var b=m(0),R=m(1),D=m(16777216);r=h.prototype,r.m=function(){if(Y(this))return-H(this).m();for(var P=0,C=1,A=0;A<this.g.length;A++){var I=this.i(A);P+=(0<=I?I:4294967296+I)*C,C*=4294967296}return P},r.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(L(this))return"0";if(Y(this))return"-"+H(this).toString(P);for(var C=g(Math.pow(P,6)),A=this,I="";;){var M=de(A,C).g;A=W(A,M.j(C));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=M,L(A))return B+I;for(;6>B.length;)B="0"+B;I=B+I}},r.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function L(P){if(P.h!=0)return!1;for(var C=0;C<P.g.length;C++)if(P.g[C]!=0)return!1;return!0}function Y(P){return P.h==-1}r.l=function(P){return P=W(this,P),Y(P)?-1:L(P)?0:1};function H(P){for(var C=P.g.length,A=[],I=0;I<C;I++)A[I]=~P.g[I];return new h(A,~P.h).add(R)}r.abs=function(){return Y(this)?H(this):this},r.add=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],I=0,M=0;M<=C;M++){var B=I+(this.i(M)&65535)+(P.i(M)&65535),x=(B>>>16)+(this.i(M)>>>16)+(P.i(M)>>>16);I=x>>>16,B&=65535,x&=65535,A[M]=x<<16|B}return new h(A,A[A.length-1]&-2147483648?-1:0)};function W(P,C){return P.add(H(C))}r.j=function(P){if(L(this)||L(P))return b;if(Y(this))return Y(P)?H(this).j(H(P)):H(H(this).j(P));if(Y(P))return H(this.j(H(P)));if(0>this.l(D)&&0>P.l(D))return g(this.m()*P.m());for(var C=this.g.length+P.g.length,A=[],I=0;I<2*C;I++)A[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<P.g.length;M++){var B=this.i(I)>>>16,x=this.i(I)&65535,Fe=P.i(M)>>>16,Ue=P.i(M)&65535;A[2*I+2*M]+=x*Ue,J(A,2*I+2*M),A[2*I+2*M+1]+=B*Ue,J(A,2*I+2*M+1),A[2*I+2*M+1]+=x*Fe,J(A,2*I+2*M+1),A[2*I+2*M+2]+=B*Fe,J(A,2*I+2*M+2)}for(I=0;I<C;I++)A[I]=A[2*I+1]<<16|A[2*I];for(I=C;I<2*C;I++)A[I]=0;return new h(A,0)};function J(P,C){for(;(P[C]&65535)!=P[C];)P[C+1]+=P[C]>>>16,P[C]&=65535,C++}function ae(P,C){this.g=P,this.h=C}function de(P,C){if(L(C))throw Error("division by zero");if(L(P))return new ae(b,b);if(Y(P))return C=de(H(P),C),new ae(H(C.g),H(C.h));if(Y(C))return C=de(P,H(C)),new ae(H(C.g),C.h);if(30<P.g.length){if(Y(P)||Y(C))throw Error("slowDivide_ only works with positive integers.");for(var A=R,I=C;0>=I.l(P);)A=U(A),I=U(I);var M=ce(A,1),B=ce(I,1);for(I=ce(I,2),A=ce(A,2);!L(I);){var x=B.add(I);0>=x.l(P)&&(M=M.add(A),B=x),I=ce(I,1),A=ce(A,1)}return C=W(P,M.j(C)),new ae(M,C)}for(M=b;0<=P.l(C);){for(A=Math.max(1,Math.floor(P.m()/C.m())),I=Math.ceil(Math.log(A)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),B=g(A),x=B.j(C);Y(x)||0<x.l(P);)A-=I,B=g(A),x=B.j(C);L(B)&&(B=R),M=M.add(B),P=W(P,x)}return new ae(M,P)}r.A=function(P){return de(this,P).h},r.and=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],I=0;I<C;I++)A[I]=this.i(I)&P.i(I);return new h(A,this.h&P.h)},r.or=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],I=0;I<C;I++)A[I]=this.i(I)|P.i(I);return new h(A,this.h|P.h)},r.xor=function(P){for(var C=Math.max(this.g.length,P.g.length),A=[],I=0;I<C;I++)A[I]=this.i(I)^P.i(I);return new h(A,this.h^P.h)};function U(P){for(var C=P.g.length+1,A=[],I=0;I<C;I++)A[I]=P.i(I)<<1|P.i(I-1)>>>31;return new h(A,P.h)}function ce(P,C){var A=C>>5;C%=32;for(var I=P.g.length-A,M=[],B=0;B<I;B++)M[B]=0<C?P.i(B+A)>>>C|P.i(B+A+1)<<32-C:P.i(B+A);return new h(M,P.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,$b=a,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,La=h}).apply(typeof rE<"u"?rE:typeof self<"u"?self:typeof window<"u"?window:{});var mh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kb,pu,Qb,Ch,hp,Yb,Xb,Wb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mh=="object"&&mh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=t(this);function o(c,y){if(y)e:{var v=a;c=c.split(".");for(var S=0;S<c.length-1;S++){var G=c[S];if(!(G in v))break e;v=v[G]}c=c[c.length-1],S=v[c],y=y(S),y!=S&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var v=0,S=!1,G={next:function(){if(!S&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return S=!0,{done:!0,value:void 0}}};return G[Symbol.iterator]=function(){return G},G}o("Array.prototype.values",function(c){return c||function(){return l(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function m(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var G=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(G,S),c.apply(y,G)}}return function(){return c.apply(y,arguments)}}function R(c,y,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,R.apply(null,arguments)}function D(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,G,X){for(var ue=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)ue[nt-2]=arguments[nt];return y.prototype[G].apply(S,ue)}}function Y(c){const y=c.length;if(0<y){const v=Array(y);for(let S=0;S<y;S++)v[S]=c[S];return v}return[]}function H(c,y){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(m(S)){const G=c.length||0,X=S.length||0;c.length=G+X;for(let ue=0;ue<X;ue++)c[G+ue]=S[ue]}else c.push(S)}}class W{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function J(c){return/^[\s\xa0]*$/.test(c)}function ae(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var U=ae().indexOf("Gecko")!=-1&&!(ae().toLowerCase().indexOf("webkit")!=-1&&ae().indexOf("Edge")==-1)&&!(ae().indexOf("Trident")!=-1||ae().indexOf("MSIE")!=-1)&&ae().indexOf("Edge")==-1;function ce(c,y,v){for(const S in c)y.call(v,c[S],S,c)}function P(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function C(c){const y={};for(const v in c)y[v]=c[v];return y}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,y){let v,S;for(let G=1;G<arguments.length;G++){S=arguments[G];for(v in S)c[v]=S[v];for(let X=0;X<A.length;X++)v=A[X],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function M(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function B(c){d.setTimeout(()=>{throw c},0)}function x(){var c=De;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Fe{constructor(){this.h=this.g=null}add(y,v){const S=Ue.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ue=new W(()=>new le,c=>c.reset());class le{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let we,ye=!1,De=new Fe,O=()=>{const c=d.Promise.resolve(void 0);we=()=>{c.then(ie)}};var ie=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){B(v)}var y=Ue;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ye=!1};function ge(){this.s=this.s,this.C=this.C}ge.prototype.s=!1,ge.prototype.ma=function(){this.s||(this.s=!0,this.N())},ge.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var me=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ve(c,y){if(he.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(U){e:{try{de(y.nodeName);var G=!0;break e}catch{}G=!1}G||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ve.aa.h.call(this)}}L(Ve,he);var Be={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Dt="closure_listenable_"+(1e6*Math.random()|0),tt=0;function Ke(c,y,v,S,G){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=G,this.key=++tt,this.da=this.fa=!1}function Xe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Jt(c){this.src=c,this.g={},this.h=0}Jt.prototype.add=function(c,y,v,S,G){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var ue=Ut(c,y,S,G);return-1<ue?(y=c[ue],v||(y.fa=!1)):(y=new Ke(y,this.src,X,!!S,G),y.fa=v,c.push(y)),y};function Tr(c,y){var v=y.type;if(v in c.g){var S=c.g[v],G=Array.prototype.indexOf.call(S,y,void 0),X;(X=0<=G)&&Array.prototype.splice.call(S,G,1),X&&(Xe(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Ut(c,y,v,S){for(var G=0;G<c.length;++G){var X=c[G];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==S)return G}return-1}var Vr="closure_lm_"+(1e6*Math.random()|0),Lr={};function Wn(c,y,v,S,G){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Wn(c,y[X],v,S,G);return null}return v=zn(v),c&&c[Dt]?c.K(y,v,g(S)?!!S.capture:!1,G):Za(c,y,v,!1,S,G)}function Za(c,y,v,S,G,X){if(!y)throw Error("Invalid event type");var ue=g(G)?!!G.capture:!!G,nt=Zi(c);if(nt||(c[Vr]=nt=new Jt(c)),v=nt.add(y,v,S,ue,X),v.proxy)return v;if(S=Xi(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)me||(G=ue),G===void 0&&(G=!1),c.addEventListener(y.toString(),S,G);else if(c.attachEvent)c.attachEvent(Pn(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Xi(){function c(v){return y.call(c.src,c.listener,v)}const y=di;return c}function Wi(c,y,v,S,G){if(Array.isArray(y))for(var X=0;X<y.length;X++)Wi(c,y[X],v,S,G);else S=g(S)?!!S.capture:!!S,v=zn(v),c&&c[Dt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=Ut(X,v,S,G),-1<v&&(Xe(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=Zi(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Ut(y,v,S,G)),(v=-1<c?y[c]:null)&&fi(v))}function fi(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Dt])Tr(y.i,c);else{var v=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(v,S,c.capture):y.detachEvent?y.detachEvent(Pn(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Zi(y))?(Tr(v,c),v.h==0&&(v.src=null,y[Vr]=null)):Xe(c)}}}function Pn(c){return c in Lr?Lr[c]:Lr[c]="on"+c}function di(c,y){if(c.da)c=!0;else{y=new Ve(y,this);var v=c.listener,S=c.ha||c.src;c.fa&&fi(c),c=v.call(S,y)}return c}function Zi(c){return c=c[Vr],c instanceof Jt?c:null}var en="__closure_events_fn_"+(1e9*Math.random()>>>0);function zn(c){return typeof c=="function"?c:(c[en]||(c[en]=function(y){return c.handleEvent(y)}),c[en])}function pt(){ge.call(this),this.i=new Jt(this),this.M=this,this.F=null}L(pt,ge),pt.prototype[Dt]=!0,pt.prototype.removeEventListener=function(c,y,v,S){Wi(this,c,y,v,S)};function Pt(c,y){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new he(y,c);else if(y instanceof he)y.target=y.target||c;else{var G=y;y=new he(S,c),I(y,G)}if(G=!0,v)for(var X=v.length-1;0<=X;X--){var ue=y.g=v[X];G=Bn(ue,S,!0,y)&&G}if(ue=y.g=c,G=Bn(ue,S,!0,y)&&G,G=Bn(ue,S,!1,y)&&G,v)for(X=0;X<v.length;X++)ue=y.g=v[X],G=Bn(ue,S,!1,y)&&G}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],S=0;S<v.length;S++)Xe(v[S]);delete c.g[y],c.h--}}this.F=null},pt.prototype.K=function(c,y,v,S){return this.i.add(String(c),y,!1,v,S)},pt.prototype.L=function(c,y,v,S){return this.i.add(String(c),y,!0,v,S)};function Bn(c,y,v,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var G=!0,X=0;X<y.length;++X){var ue=y[X];if(ue&&!ue.da&&ue.capture==v){var nt=ue.listener,qt=ue.ha||ue.src;ue.fa&&Tr(c.i,ue),G=nt.call(qt,S)!==!1&&G}}return G&&!S.defaultPrevented}function Ws(c,y,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Vn(c){c.g=Ws(()=>{c.g=null,c.i&&(c.i=!1,Vn(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zs extends ge{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vn(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function kr(c){ge.call(this),this.h=c,this.g={}}L(kr,ge);var br=[];function tn(c){ce(c.g,function(y,v){this.g.hasOwnProperty(v)&&fi(y)},c),c.g={}}kr.prototype.N=function(){kr.aa.N.call(this),tn(this)},kr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ji=d.JSON.stringify,Cn=d.JSON.parse,nn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function mi(){}mi.prototype.h=null;function Js(c){return c.h||(c.h=c.i())}function Ja(){}var Zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){he.call(this,"d")}L(wr,he);function En(){he.call(this,"c")}L(En,he);var hn={},Ur=null;function ea(){return Ur=Ur||new pt}hn.La="serverreachability";function V(c){he.call(this,hn.La,c)}L(V,he);function F(c){const y=ea();Pt(y,new V(y))}hn.STAT_EVENT="statevent";function Q(c,y){he.call(this,hn.STAT_EVENT,c),this.stat=y}L(Q,he);function te(c){const y=ea();Pt(y,new Q(y,c))}hn.Ma="timingevent";function fe(c,y){he.call(this,hn.Ma,c),this.size=y}L(fe,he);function Ce(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Re(){this.g=!0}Re.prototype.xa=function(){this.g=!1};function be(c,y,v,S,G,X){c.info(function(){if(c.g)if(X)for(var ue="",nt=X.split("&"),qt=0;qt<nt.length;qt++){var rt=nt[qt].split("=");if(1<rt.length){var sn=rt[0];rt=rt[1];var Gt=sn.split("_");ue=2<=Gt.length&&Gt[1]=="type"?ue+(sn+"="+rt+"&"):ue+(sn+"=redacted&")}}else ue=null;else ue=X;return"XMLHTTP REQ ("+S+") [attempt "+G+"]: "+y+`
`+v+`
`+ue})}function Se(c,y,v,S,G,X,ue){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+G+"]: "+y+`
`+v+`
`+X+" "+ue})}function pe(c,y,v,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Ee(c,v)+(S?" "+S:"")})}function _e(c,y){c.info(function(){return"TIMEOUT: "+y})}Re.prototype.info=function(){};function Ee(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var G=S[1];if(Array.isArray(G)&&!(1>G.length)){var X=G[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ue=1;ue<G.length;ue++)G[ue]=""}}}}return Ji(v)}catch{return y}}var xe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ot={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},St;function vt(){}L(vt,mi),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},St=new vt;function st(c,y,v,S){this.j=c,this.i=y,this.l=v,this.R=S||1,this.U=new kr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wt}function wt(){this.i=null,this.g="",this.h=!1}var In={},Hn={};function Vt(c,y,v){c.L=1,c.v=rs(Nt(y)),c.m=v,c.P=!0,jt(c,null)}function jt(c,y){c.F=Date.now(),ht(c),c.A=Nt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),vi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new wt,c.g=cc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Zs(R(c.Y,c,c.g),c.O)),y=c.U,v=c.g,S=c.ca;var G="readystatechange";Array.isArray(G)||(G&&(br[0]=G.toString()),G=br);for(var X=0;X<G.length;X++){var ue=Wn(v,G[X],S||y.handleEvent,!1,y.h||y);if(!ue)break;y.g[ue.key]=ue}y=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),F(),be(c.i,c.u,c.A,c.l,c.R,c.m)}st.prototype.ca=function(c){c=c.target;const y=this.M;y&&ar(c)==3?y.j():this.Y(c)},st.prototype.Y=function(c){try{if(c==this.g)e:{const Gt=ar(this.g);var y=this.g.Ba();const bi=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||nc(this.g)))){this.J||Gt!=4||y==7||(y==8||0>=bi?F(3):F(2)),Sr(this);var v=this.g.Z();this.X=v;t:if(Jn(this)){var S=nc(this.g);c="";var G=S.length,X=ar(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ft(this),qe(this);var ue="";break t}this.h.i=new d.TextDecoder}for(y=0;y<G;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(X&&y==G-1)});S.length=0,this.h.g+=c,this.C=0,ue=this.h.g}else ue=this.g.oa();if(this.o=v==200,Se(this.i,this.u,this.A,this.l,this.R,Gt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var nt,qt=this.g;if((nt=qt.g?qt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(nt)){var rt=nt;break t}}rt=null}if(v=rt)pe(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rn(this,v);else{this.o=!1,this.s=3,te(12),ft(this),qe(this);break e}}if(this.P){v=!0;let fn;for(;!this.J&&this.C<ue.length;)if(fn=Ln(this,ue),fn==Hn){Gt==4&&(this.s=4,te(14),v=!1),pe(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==In){this.s=4,te(15),pe(this.i,this.l,ue,"[Invalid Chunk]"),v=!1;break}else pe(this.i,this.l,fn,null),rn(this,fn);if(Jn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ue.length!=0||this.h.h||(this.s=1,te(16),v=!1),this.o=this.o&&v,!v)pe(this.i,this.l,ue,"[Invalid Chunked Response]"),ft(this),qe(this);else if(0<ue.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+ue.length),cs(sn),sn.M=!0,te(11))}}else pe(this.i,this.l,ue,null),rn(this,ue);Gt==4&&ft(this),this.o&&!this.J&&(Gt==4?oc(this.j,this):(this.o=!1,ht(this)))}else kf(this.g),v==400&&0<ue.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),ft(this),qe(this)}}}catch{}finally{}};function Jn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ln(c,y){var v=c.C,S=y.indexOf(`
`,v);return S==-1?Hn:(v=Number(y.substring(v,S)),isNaN(v)?In:(S+=1,S+v>y.length?Hn:(y=y.slice(S,S+v),c.C=S+v,y)))}st.prototype.cancel=function(){this.J=!0,ft(this)};function ht(c){c.S=Date.now()+c.I,jr(c,c.I)}function jr(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ce(R(c.ba,c),y)}function Sr(c){c.B&&(d.clearTimeout(c.B),c.B=null)}st.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(_e(this.i,this.A),this.L!=2&&(F(),te(17)),ft(this),this.s=2,qe(this)):jr(this,this.S-c)};function qe(c){c.j.G==0||c.J||oc(c.j,c)}function ft(c){Sr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,tn(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function rn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||zr(v.h,c))){if(!c.K&&zr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var G=S;if(G[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)uo(v),oo(v);else break e;vl(v),te(18)}}else v.za=G[1],0<v.za-v.T&&37500>G[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ce(R(v.Za,v),6e3));if(1>=es(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ti(v,11)}else if((c.K||v.g==c)&&uo(v),!J(y))for(G=v.Da.g.parse(y),y=0;y<G.length;y++){let rt=G[y];if(v.T=rt[0],rt=rt[1],v.G==2)if(rt[0]=="c"){v.K=rt[1],v.ia=rt[2];const sn=rt[3];sn!=null&&(v.la=sn,v.j.info("VER="+v.la));const Gt=rt[4];Gt!=null&&(v.Aa=Gt,v.j.info("SVER="+v.Aa));const bi=rt[5];bi!=null&&typeof bi=="number"&&0<bi&&(S=1.5*bi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const fn=c.g;if(fn){const Kr=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Kr){var X=S.h;X.g||Kr.indexOf("spdy")==-1&&Kr.indexOf("quic")==-1&&Kr.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(ta(X,X.h),X.h=null))}if(S.D){const El=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;El&&(S.ya=El,lt(S.I,S.D,El))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ue=c;if(S.qa=uc(S,S.J?S.ia:null,S.W),ue.K){tr(S.h,ue);var nt=ue,qt=S.L;qt&&(nt.I=qt),nt.B&&(Sr(nt),ht(nt)),S.g=ue}else ac(S);0<v.i.length&&lo(v)}else rt[0]!="stop"&&rt[0]!="close"||Ti(v,7);else v.G==3&&(rt[0]=="stop"||rt[0]=="close"?rt[0]=="stop"?Ti(v,7):gl(v):rt[0]!="noop"&&v.l&&v.l.ta(rt),v.v=0)}}F(4)}catch{}}var pi=class{constructor(c,y){this.g=c,this.map=y}};function Et(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function er(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function es(c){return c.h?1:c.g?c.g.size:0}function zr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function ta(c,y){c.g?c.g.add(y):c.h=y}function tr(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Et.prototype.cancel=function(){if(this.i=Dn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Dn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return Y(c.i)}function Zu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(m(c)){for(var y=[],v=c.length,S=0;S<v;S++)y.push(c[S]);return y}y=[],v=0;for(S in c)y[v++]=c[S];return y}function Mf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(m(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const S in c)y[v++]=S;return y}}}function ts(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(m(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Mf(c),S=Zu(c),G=S.length,X=0;X<G;X++)y.call(void 0,S[X],v&&v[X],c)}var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function eo(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),G=null;if(0<=S){var X=c[v].substring(0,S);G=c[v].substring(S+1)}else X=c[v];y(X,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function gi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof gi){this.h=c.h,na(this,c.j),this.o=c.o,this.g=c.g,ns(this,c.s),this.l=c.l;var y=c.i,v=new Br;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),to(this,v),this.m=c.m}else c&&(y=String(c).match(cl))?(this.h=!1,na(this,y[1]||"",!0),this.o=ra(y[2]||""),this.g=ra(y[3]||"",!0),ns(this,y[4]),this.l=ra(y[5]||"",!0),to(this,y[6]||"",!0),this.m=ra(y[7]||"")):(this.h=!1,this.i=new Br(null,this.h))}gi.prototype.toString=function(){var c=[],y=this.j;y&&c.push(nr(y,hl,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(nr(y,hl,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(nr(v,v.charAt(0)=="/"?fl:Ju,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",nr(v,Lf)),c.join("")};function Nt(c){return new gi(c)}function na(c,y,v){c.j=v?ra(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function ns(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function to(c,y,v){y instanceof Br?(c.i=y,dl(c.i,c.h)):(v||(y=nr(y,Vf)),c.i=new Br(y,c.h))}function lt(c,y,v){c.i.set(y,v)}function rs(c){return lt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ra(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function nr(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Pf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Pf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var hl=/[#\/\?@]/g,Ju=/[#\?:]/g,fl=/[#\?]/g,Vf=/[#\?@]/g,Lf=/#/g;function Br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function rr(c){c.g||(c.g=new Map,c.h=0,c.i&&eo(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Br.prototype,r.add=function(c,y){rr(this),this.i=null,c=_i(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function no(c,y){rr(c),y=_i(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function yi(c,y){return rr(c),y=_i(c,y),c.g.has(y)}r.forEach=function(c,y){rr(this),this.g.forEach(function(v,S){v.forEach(function(G){c.call(y,G,S,this)},this)},this)},r.na=function(){rr(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let S=0;S<y.length;S++){const G=c[S];for(let X=0;X<G.length;X++)v.push(y[S])}return v},r.V=function(c){rr(this);let y=[];if(typeof c=="string")yi(this,c)&&(y=y.concat(this.g.get(_i(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},r.set=function(c,y){return rr(this),this.i=null,c=_i(this,c),yi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function vi(c,y,v){no(c,y),0<v.length&&(c.i=null,c.g.set(_i(c,y),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var S=y[v];const X=encodeURIComponent(String(S)),ue=this.V(S);for(S=0;S<ue.length;S++){var G=X;ue[S]!==""&&(G+="="+encodeURIComponent(String(ue[S]))),c.push(G)}}return this.i=c.join("&")};function _i(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function dl(c,y){y&&!c.j&&(rr(c),c.i=null,c.g.forEach(function(v,S){var G=S.toLowerCase();S!=G&&(no(this,S),vi(this,G,v))},c)),c.j=y}function ec(c,y){const v=new Re;if(d.Image){const S=new Image;S.onload=D(ir,v,"TestLoadImage: loaded",!0,y,S),S.onerror=D(ir,v,"TestLoadImage: error",!1,y,S),S.onabort=D(ir,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=D(ir,v,"TestLoadImage: timeout",!1,y,S),d.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function is(c,y){const v=new Re,S=new AbortController,G=setTimeout(()=>{S.abort(),ir(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(X=>{clearTimeout(G),X.ok?ir(v,"TestPingServer: ok",!0,y):ir(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(G),ir(v,"TestPingServer: error",!1,y)})}function ir(c,y,v,S,G){try{G&&(G.onload=null,G.onerror=null,G.onabort=null,G.ontimeout=null),S(v)}catch{}}function as(){this.g=new nn}function Hr(c,y,v){const S=v||"";try{ts(c,function(G,X){let ue=G;g(G)&&(ue=Ji(G)),y.push(S+X+"="+encodeURIComponent(ue))})}catch(G){throw y.push(S+"type="+encodeURIComponent("_badmap")),G}}function ia(c){this.l=c.Ub||null,this.j=c.eb||!1}L(ia,mi),ia.prototype.g=function(){return new Ei(this.l,this.j)},ia.prototype.i=function(c){return function(){return c}}({});function Ei(c,y){pt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ei,pt),r=Ei.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,qr(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Fr(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,qr(this)),this.g&&(this.readyState=3,qr(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Fr(this):qr(this),this.readyState==3&&ml(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,Fr(this))},r.Qa=function(c){this.g&&(this.response=c,Fr(this))},r.ga=function(){this.g&&Fr(this)};function Fr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,qr(c)}r.setRequestHeader=function(c,y){this.u.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function qr(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function pl(c){let y="";return ce(c,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function an(c,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=pl(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):lt(c,y,v))}function dt(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(dt,pt);var ro=/^https?$/i,ss=["POST","PUT"];r=dt.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():St.g(),this.v=this.o?Js(this.o):Js(St),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){tc(this,X);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var G in S)v.set(G,S[G]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const X of S.keys())v.set(X,S.get(X));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),G=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(ss,y,void 0))||S||G||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ue]of v)this.g.setRequestHeader(X,ue);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){tc(this,X)}};function tc(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,io(c),Gr(c)}function io(c){c.A||(c.A=!0,Pt(c,"complete"),Pt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Pt(this,"complete"),Pt(this,"abort"),Gr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gr(this,!0)),dt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ao(this):this.bb())},r.bb=function(){ao(this)};function ao(c){if(c.h&&typeof h<"u"&&(!c.v[1]||ar(c)!=4||c.Z()!=2)){if(c.u&&ar(c)==4)Ws(c.Ea,0,c);else if(Pt(c,"readystatechange"),ar(c)==4){c.h=!1;try{const ue=c.Z();e:switch(ue){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=ue===0){var G=String(c.D).match(cl)[1]||null;!G&&d.self&&d.self.location&&(G=d.self.location.protocol.slice(0,-1)),S=!ro.test(G?G.toLowerCase():"")}v=S}if(v)Pt(c,"complete"),Pt(c,"success");else{c.m=6;try{var X=2<ar(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",io(c)}}finally{Gr(c)}}}}function Gr(c,y){if(c.g){os(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Pt(c,"ready");try{v.onreadystatechange=S}catch{}}}function os(c){c.I&&(d.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function ar(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<ar(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Cn(y)}};function nc(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function kf(c){const y={};c=(c.g&&2<=ar(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var v=M(c[S]);const G=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[G]||[];y[G]=X,X.push(v)}P(y,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function so(c){this.Aa=0,this.i=[],this.j=new Re,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ls("baseRetryDelayMs",5e3,c),this.cb=ls("retryDelaySeedMs",1e4,c),this.Wa=ls("forwardChannelMaxRetries",2,c),this.wa=ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Et(c&&c.concurrentRequestLimit),this.Da=new as,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=so.prototype,r.la=8,r.G=1,r.connect=function(c,y,v,S){te(0),this.W=c,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=uc(this,null,this.W),lo(this)};function gl(c){if(rc(c),c.G==3){var y=c.U++,v=Nt(c.I);if(lt(v,"SID",c.K),lt(v,"RID",y),lt(v,"TYPE","terminate"),us(c,v),y=new st(c,c.j,y),y.L=2,y.v=rs(Nt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=cc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ht(y)}lc(c)}function oo(c){c.g&&(cs(c),c.g.cancel(),c.g=null)}function rc(c){oo(c),c.u&&(d.clearTimeout(c.u),c.u=null),uo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function lo(c){if(!er(c.h)&&!c.s){c.s=!0;var y=c.Ga;we||O(),ye||(we(),ye=!0),De.add(y,c),c.B=0}}function Uf(c,y){return es(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ce(R(c.Ga,c,y),_l(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const G=new st(this,this.j,c);let X=this.o;if(this.S&&(X?(X=C(X),I(X,this.S)):X=this.S),this.m!==null||this.O||(G.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=ic(this,G,y),v=Nt(this.I),lt(v,"RID",c),lt(v,"CVER",22),this.D&&lt(v,"X-HTTP-Session-Id",this.D),us(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(pl(X)))+"&"+y:this.m&&an(v,this.m,X)),ta(this.h,G),this.Ua&&lt(v,"TYPE","init"),this.P?(lt(v,"$req",y),lt(v,"SID","null"),G.T=!0,Vt(G,v,null)):Vt(G,v,y),this.G=2}}else this.G==3&&(c?yl(this,c):this.i.length==0||er(this.h)||yl(this))};function yl(c,y){var v;y?v=y.l:v=c.U++;const S=Nt(c.I);lt(S,"SID",c.K),lt(S,"RID",v),lt(S,"AID",c.T),us(c,S),c.m&&c.o&&an(S,c.m,c.o),v=new st(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=ic(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ta(c.h,v),Vt(v,S,y)}function us(c,y){c.H&&ce(c.H,function(v,S){lt(y,S,v)}),c.l&&ts({},function(v,S){lt(y,S,v)})}function ic(c,y,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;e:{var G=c.i;let X=-1;for(;;){const ue=["count="+v];X==-1?0<v?(X=G[0].g,ue.push("ofs="+X)):X=0:ue.push("ofs="+X);let nt=!0;for(let qt=0;qt<v;qt++){let rt=G[qt].g;const sn=G[qt].map;if(rt-=X,0>rt)X=Math.max(0,G[qt].g-100),nt=!1;else try{Hr(sn,ue,"req"+rt+"_")}catch{S&&S(sn)}}if(nt){S=ue.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,S}function ac(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;we||O(),ye||(we(),ye=!0),De.add(y,c),c.v=0}}function vl(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ce(R(c.Fa,c),_l(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,sc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ce(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),oo(this),sc(this))};function cs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function sc(c){c.g=new st(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Nt(c.qa);lt(y,"RID","rpc"),lt(y,"SID",c.K),lt(y,"AID",c.T),lt(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&lt(y,"TO",c.ja),lt(y,"TYPE","xmlhttp"),us(c,y),c.m&&c.o&&an(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=rs(Nt(y)),v.m=null,v.P=!0,jt(v,c)}r.Za=function(){this.C!=null&&(this.C=null,oo(this),vl(this),te(19))};function uo(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function oc(c,y){var v=null;if(c.g==y){uo(c),cs(c),c.g=null;var S=2}else if(zr(c.h,y))v=y.D,tr(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var G=c.B;S=ea(),Pt(S,new fe(S,v)),lo(c)}else ac(c);else if(G=y.s,G==3||G==0&&0<y.X||!(S==1&&Uf(c,y)||S==2&&vl(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),G){case 1:Ti(c,5);break;case 4:Ti(c,10);break;case 3:Ti(c,6);break;default:Ti(c,2)}}}function _l(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function Ti(c,y){if(c.j.info("Error code "+y),y==2){var v=R(c.fb,c),S=c.Xa;const G=!S;S=new gi(S||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||na(S,"https"),rs(S),G?ec(S.toString(),v):is(S.toString(),v)}else te(2);c.G=0,c.l&&c.l.sa(y),lc(c),rc(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function lc(c){if(c.G=0,c.ka=[],c.l){const y=Dn(c.h);(y.length!=0||c.i.length!=0)&&(H(c.ka,y),H(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function uc(c,y,v){var S=v instanceof gi?Nt(v):new gi(v);if(S.g!="")y&&(S.g=y+"."+S.g),ns(S,S.s);else{var G=d.location;S=G.protocol,y=y?y+"."+G.hostname:G.hostname,G=+G.port;var X=new gi(null);S&&na(X,S),y&&(X.g=y),G&&ns(X,G),v&&(X.l=v),S=X}return v=c.D,y=c.ya,v&&y&&lt(S,v,y),lt(S,"VER",c.la),us(c,S),S}function cc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new dt(new ia({eb:v})):new dt(c.pa),y.Ha(c.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function hc(){}r=hc.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function co(){}co.prototype.g=function(c,y){return new Nn(c,y)};function Nn(c,y){pt.call(this),this.g=new so(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!J(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!J(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new $r(this)}L(Nn,pt),Nn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Nn.prototype.close=function(){gl(this.g)},Nn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ji(c),c=v);y.i.push(new pi(y.Ya++,c)),y.G==3&&lo(y)},Nn.prototype.N=function(){this.g.l=null,delete this.j,gl(this.g),delete this.g,Nn.aa.N.call(this)};function fc(c){wr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}L(fc,wr);function dc(){En.call(this),this.status=1}L(dc,En);function $r(c){this.g=c}L($r,hc),$r.prototype.ua=function(){Pt(this.g,"a")},$r.prototype.ta=function(c){Pt(this.g,new fc(c))},$r.prototype.sa=function(c){Pt(this.g,new dc)},$r.prototype.ra=function(){Pt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,Nn.prototype.send=Nn.prototype.o,Nn.prototype.open=Nn.prototype.m,Nn.prototype.close=Nn.prototype.close,Wb=function(){return new co},Xb=function(){return ea()},Yb=hn,hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},xe.NO_ERROR=0,xe.TIMEOUT=8,xe.HTTP_ERROR=6,Ch=xe,ot.COMPLETE="complete",Qb=ot,Ja.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",pt.prototype.listen=pt.prototype.K,pu=Ja,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,Kb=dt}).apply(typeof mh<"u"?mh:typeof self<"u"?self:typeof window<"u"?window:{});const iE="@firebase/firestore",aE="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Sn.UNAUTHENTICATED=new Sn(null),Sn.GOOGLE_CREDENTIALS=new Sn("google-credentials-uid"),Sn.FIRST_PARTY=new Sn("first-party-uid"),Sn.MOCK_USER=new Sn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zs=new df("@firebase/firestore");function jo(){return zs.logLevel}function ve(r,...e){if(zs.logLevel<=We.DEBUG){const t=e.map(sg);zs.debug(`Firestore (${sl}): ${r}`,...t)}}function $i(r,...e){if(zs.logLevel<=We.ERROR){const t=e.map(sg);zs.error(`Firestore (${sl}): ${r}`,...t)}}function Yo(r,...e){if(zs.logLevel<=We.WARN){const t=e.map(sg);zs.warn(`Firestore (${sl}): ${r}`,...t)}}function sg(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(r="Unexpected state"){const e=`FIRESTORE (${sl}) INTERNAL ASSERTION FAILED: `+r;throw $i(e),new Error(e)}function mt(r,e){r||Le()}function ze(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ne extends Mr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Sn.UNAUTHENTICATED))}shutdown(){}}class Gx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class $x{constructor(e){this.t=e,this.currentUser=Sn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){mt(this.o===void 0);let a=this.i;const o=m=>this.i!==a?(a=this.i,t(m)):Promise.resolve();let l=new ka;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ka,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await o(this.currentUser)})},d=m=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(m=>d(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ka)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(a=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(mt(typeof a.accessToken=="string"),new Zb(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Sn(e)}}class Kx{constructor(e,t,a){this.l=e,this.h=t,this.P=a,this.type="FirstParty",this.user=Sn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Qx{constructor(e,t,a){this.l=e,this.h=t,this.P=a}getToken(){return Promise.resolve(new Kx(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Sn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class sE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Yx{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){mt(this.o===void 0);const a=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>a(l))};const o=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>o(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?o(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new sE(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(mt(typeof t.token=="string"),this.R=t.token,new sE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let a=0;a<r;a++)t[a]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=Xx(40);for(let l=0;l<o.length;++l)a.length<20&&o[l]<t&&(a+=e.charAt(o[l]%62))}return a}}function $e(r,e){return r<e?-1:r>e?1:0}function fp(r,e){let t=0;for(;t<r.length&&t<e.length;){const a=r.codePointAt(t),o=e.codePointAt(t);if(a!==o){if(a<128&&o<128)return $e(a,o);{const l=Jb(),h=Wx(l.encode(oE(r,t)),l.encode(oE(e,t)));return h!==0?h:$e(a,o)}}t+=a>65535?2:1}return $e(r.length,e.length)}function oE(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function Wx(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return $e(r[t],e[t]);return $e(r.length,e.length)}function Xo(r,e,t){return r.length===e.length&&r.every((a,o)=>t(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=-62135596800,uE=1e6;class Xt{static now(){return Xt.fromMillis(Date.now())}static fromDate(e){return Xt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),a=Math.floor((e-1e3*t)*uE);return new Xt(t,a)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<lE)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ne(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/uE}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-lE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{static fromTimestamp(e){return new ke(e)}static min(){return new ke(new Xt(0,0))}static max(){return new ke(new Xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__name__";class Jr{constructor(e,t,a){t===void 0?t=0:t>e.length&&Le(),a===void 0?a=e.length-t:a>e.length-t&&Le(),this.segments=e,this.offset=t,this.len=a}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(a=>{t.push(a)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,a=this.limit();t<a;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const a=Math.min(e.length,t.length);for(let o=0;o<a;o++){const l=Jr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return $e(e.length,t.length)}static compareSegments(e,t){const a=Jr.isNumericId(e),o=Jr.isNumericId(t);return a&&!o?-1:!a&&o?1:a&&o?Jr.extractNumericId(e).compare(Jr.extractNumericId(t)):fp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return La.fromString(e.substring(4,e.length-2))}}class At extends Jr{construct(e,t,a){return new At(e,t,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const a of e){if(a.indexOf("//")>=0)throw new Ne(oe.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);t.push(...a.split("/").filter(o=>o.length>0))}return new At(t)}static emptyPath(){return new At([])}}const Zx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class yn extends Jr{construct(e,t,a){return new yn(e,t,a)}static isValidIdentifier(e){return Zx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cE}static keyField(){return new yn([cE])}static fromServerFormat(e){const t=[];let a="",o=0;const l=()=>{if(a.length===0)throw new Ne(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(a),a=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new Ne(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ne(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=m,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(a+=d,o++):(l(),o++)}if(l(),h)throw new Ne(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new yn(t)}static emptyPath(){return new yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(At.fromString(e))}static fromName(e){return new Oe(At.fromString(e).popFirst(5))}static empty(){return new Oe(At.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&At.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return At.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new At(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nu=-1;function Jx(r,e){const t=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=ke.fromTimestamp(a===1e9?new Xt(t+1,0):new Xt(t,a));return new Ha(o,Oe.empty(),e)}function eO(r){return new Ha(r.readTime,r.key,Nu)}class Ha{constructor(e,t,a){this.readTime=e,this.documentKey=t,this.largestBatchId=a}static min(){return new Ha(ke.min(),Oe.empty(),Nu)}static max(){return new Ha(ke.max(),Oe.empty(),Nu)}}function tO(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Oe.comparator(r.documentKey,e.documentKey),t!==0?t:$e(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==nO)throw r;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new re((a,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(a,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(a,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof re?t:re.resolve(t)}catch(t){return re.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):re.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):re.reject(t)}static resolve(e){return new re((t,a)=>{t(e)})}static reject(e){return new re((t,a)=>{a(e)})}static waitFor(e){return new re((t,a)=>{let o=0,l=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++l,h&&l===o&&t()},m=>a(m))}),h=!0,l===o&&t()})}static or(e){let t=re.resolve(!1);for(const a of e)t=t.next(o=>o?re.resolve(o):a());return t}static forEach(e,t){const a=[];return e.forEach((o,l)=>{a.push(t.call(this,o,l))}),this.waitFor(a)}static mapArray(e,t){return new re((a,o)=>{const l=e.length,h=new Array(l);let d=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(E=>{h[g]=E,++d,d===l&&a(h)},E=>o(E))}})}static doWhile(e,t){return new re((a,o)=>{const l=()=>{e()===!0?t().next(()=>{l()},o):a()};l()})}}function iO(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ll(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=a=>this.oe(a),this._e=a=>t.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}_f.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const og=-1;function Ef(r){return r==null}function Kh(r){return r===0&&1/r==-1/0}function aO(r){return typeof r=="number"&&Number.isInteger(r)&&!Kh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="";function sO(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=hE(e)),e=oO(r.get(t),e);return hE(e)}function oO(r,e){let t=e;const a=r.length;for(let o=0;o<a;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case tw:t+="";break;default:t+=l}}return t}function hE(r){return r+tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Gs(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function nw(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e,t){this.comparator=e,this.root=t||gn.EMPTY}insert(e,t){return new It(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(e){return new It(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const a=this.comparator(e,t.key);if(a===0)return t.value;a<0?t=t.left:a>0&&(t=t.right)}return null}indexOf(e){let t=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return t+a.left.size;o<0?a=a.left:(t+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,a)=>(e(t,a),!1))}toString(){const e=[];return this.inorderTraversal((t,a)=>(e.push(`${t}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ph(this.root,e,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ph(this.root,e,this.comparator,!0)}}class ph{constructor(e,t,a,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?a(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gn{constructor(e,t,a,o,l){this.key=e,this.value=t,this.color=a??gn.RED,this.left=o??gn.EMPTY,this.right=l??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,a,o,l){return new gn(e??this.key,t??this.value,a??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,a){let o=this;const l=a(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,a),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let a,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return gn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,t,a,o,l){return this}insert(e,t,a){return new gn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new It(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,a)=>(e(t),!1))}forEachInRange(e,t){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let a;for(a=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new dE(this.data.getIterator())}getIteratorFrom(e){return new dE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(a=>{t=t.add(a)}),t}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const t=this.data.getIterator(),a=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Wt(this.comparator);return t.data=e,t}}class dE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new Nr([])}unionWith(e){let t=new Wt(yn.comparator);for(const a of this.fields)t=t.add(a);for(const a of e)t=t.add(a);return new Nr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(t,a)=>t.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rw("Invalid base64 string: "+l):l}}(e);return new _n(t)}static fromUint8Array(e){const t=function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l}(e);return new _n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const a=new Uint8Array(t.length);for(let o=0;o<t.length;o++)a[o]=t.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const lO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fa(r){if(mt(!!r),typeof r=="string"){let e=0;const t=lO.exec(r);if(mt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:kt(r.seconds),nanos:kt(r.nanos)}}function kt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function qa(r){return typeof r=="string"?_n.fromBase64String(r):_n.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="server_timestamp",aw="__type__",sw="__previous_value__",ow="__local_write_time__";function lg(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[aw])===null||t===void 0?void 0:t.stringValue)===iw}function Tf(r){const e=r.mapValue.fields[sw];return lg(e)?Tf(e):e}function xu(r){const e=Fa(r.mapValue.fields[ow].timestampValue);return new Xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uO{constructor(e,t,a,o,l,h,d,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=a,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=g}}const Qh="(default)";class Ou{constructor(e,t){this.projectId=e,this.database=t||Qh}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===Qh}isEqual(e){return e instanceof Ou&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="__type__",cO="__max__",gh={mapValue:{}},uw="__vector__",Yh="value";function Ga(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?lg(r)?4:fO(r)?9007199254740991:hO(r)?10:11:Le()}function oi(r,e){if(r===e)return!0;const t=Ga(r);if(t!==Ga(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return xu(r).isEqual(xu(e));case 3:return function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Fa(o.timestampValue),d=Fa(l.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,l){return qa(o.bytesValue).isEqual(qa(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,l){return kt(o.geoPointValue.latitude)===kt(l.geoPointValue.latitude)&&kt(o.geoPointValue.longitude)===kt(l.geoPointValue.longitude)}(r,e);case 2:return function(o,l){if("integerValue"in o&&"integerValue"in l)return kt(o.integerValue)===kt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=kt(o.doubleValue),d=kt(l.doubleValue);return h===d?Kh(h)===Kh(d):isNaN(h)&&isNaN(d)}return!1}(r,e);case 9:return Xo(r.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(o,l){const h=o.mapValue.fields||{},d=l.mapValue.fields||{};if(fE(h)!==fE(d))return!1;for(const m in h)if(h.hasOwnProperty(m)&&(d[m]===void 0||!oi(h[m],d[m])))return!1;return!0}(r,e);default:return Le()}}function Mu(r,e){return(r.values||[]).find(t=>oi(t,e))!==void 0}function Wo(r,e){if(r===e)return 0;const t=Ga(r),a=Ga(e);if(t!==a)return $e(t,a);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(r.booleanValue,e.booleanValue);case 2:return function(l,h){const d=kt(l.integerValue||l.doubleValue),m=kt(h.integerValue||h.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(r,e);case 3:return mE(r.timestampValue,e.timestampValue);case 4:return mE(xu(r),xu(e));case 5:return fp(r.stringValue,e.stringValue);case 6:return function(l,h){const d=qa(l),m=qa(h);return d.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(l,h){const d=l.split("/"),m=h.split("/");for(let g=0;g<d.length&&g<m.length;g++){const E=$e(d[g],m[g]);if(E!==0)return E}return $e(d.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,h){const d=$e(kt(l.latitude),kt(h.latitude));return d!==0?d:$e(kt(l.longitude),kt(h.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return pE(r.arrayValue,e.arrayValue);case 10:return function(l,h){var d,m,g,E;const b=l.fields||{},R=h.fields||{},D=(d=b[Yh])===null||d===void 0?void 0:d.arrayValue,L=(m=R[Yh])===null||m===void 0?void 0:m.arrayValue,Y=$e(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((E=L==null?void 0:L.values)===null||E===void 0?void 0:E.length)||0);return Y!==0?Y:pE(D,L)}(r.mapValue,e.mapValue);case 11:return function(l,h){if(l===gh.mapValue&&h===gh.mapValue)return 0;if(l===gh.mapValue)return 1;if(h===gh.mapValue)return-1;const d=l.fields||{},m=Object.keys(d),g=h.fields||{},E=Object.keys(g);m.sort(),E.sort();for(let b=0;b<m.length&&b<E.length;++b){const R=fp(m[b],E[b]);if(R!==0)return R;const D=Wo(d[m[b]],g[E[b]]);if(D!==0)return D}return $e(m.length,E.length)}(r.mapValue,e.mapValue);default:throw Le()}}function mE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return $e(r,e);const t=Fa(r),a=Fa(e),o=$e(t.seconds,a.seconds);return o!==0?o:$e(t.nanos,a.nanos)}function pE(r,e){const t=r.values||[],a=e.values||[];for(let o=0;o<t.length&&o<a.length;++o){const l=Wo(t[o],a[o]);if(l)return l}return $e(t.length,a.length)}function Zo(r){return dp(r)}function dp(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const a=Fa(t);return`time(${a.seconds},${a.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return qa(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Oe.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let a="[",o=!0;for(const l of t.values||[])o?o=!1:a+=",",a+=dp(l);return a+"]"}(r.arrayValue):"mapValue"in r?function(t){const a=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of a)l?l=!1:o+=",",o+=`${h}:${dp(t.fields[h])}`;return o+"}"}(r.mapValue):Le()}function Ih(r){switch(Ga(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Tf(r);return e?16+Ih(e):16;case 5:return 2*r.stringValue.length;case 6:return qa(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,l)=>o+Ih(l),0)}(r.arrayValue);case 10:case 11:return function(a){let o=0;return Gs(a.fields,(l,h)=>{o+=l.length+Ih(h)}),o}(r.mapValue);default:throw Le()}}function mp(r){return!!r&&"integerValue"in r}function ug(r){return!!r&&"arrayValue"in r}function gE(r){return!!r&&"nullValue"in r}function yE(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Dh(r){return!!r&&"mapValue"in r}function hO(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||t===void 0?void 0:t.stringValue)===uw}function Tu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Gs(r.mapValue.fields,(t,a)=>e.mapValue.fields[t]=Tu(a)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(r.arrayValue.values[t]);return e}return Object.assign({},r)}function fO(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.value=e}static empty(){return new vr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let a=0;a<e.length-1;++a)if(t=(t.mapValue.fields||{})[e.get(a)],!Dh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=yn.emptyPath(),a={},o=[];e.forEach((h,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,a,o),a={},o=[],t=d.popLast()}h?a[d.lastSegment()]=Tu(h):o.push(d.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,a,o)}delete(e){const t=this.field(e.popLast());Dh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=t.mapValue.fields[e.get(a)];Dh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(a)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,a){Gs(t,(o,l)=>e[o]=l);for(const o of a)delete e[o]}clone(){return new vr(Tu(this.value))}}function cw(r){const e=[];return Gs(r.fields,(t,a)=>{const o=new yn([t]);if(Dh(a)){const l=cw(a.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)}),new Nr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e,t,a,o,l,h,d){this.key=e,this.documentType=t,this.version=a,this.readTime=o,this.createTime=l,this.data=h,this.documentState=d}static newInvalidDocument(e){return new An(e,0,ke.min(),ke.min(),ke.min(),vr.empty(),0)}static newFoundDocument(e,t,a,o){return new An(e,1,t,ke.min(),a,o,0)}static newNoDocument(e,t){return new An(e,2,t,ke.min(),ke.min(),vr.empty(),0)}static newUnknownDocument(e,t){return new An(e,3,t,ke.min(),ke.min(),vr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=vr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=vr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof An&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new An(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,t){this.position=e,this.inclusive=t}}function vE(r,e,t){let a=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?a=Oe.comparator(Oe.fromName(h.referenceValue),t.key):a=Wo(h,t.data.field(l.field)),l.dir==="desc"&&(a*=-1),a!==0)break}return a}function _E(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!oi(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function dO(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{}class Yt extends hw{constructor(e,t,a){super(),this.field=e,this.op=t,this.value=a}static create(e,t,a){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,a):new pO(e,t,a):t==="array-contains"?new vO(e,a):t==="in"?new _O(e,a):t==="not-in"?new EO(e,a):t==="array-contains-any"?new TO(e,a):new Yt(e,t,a)}static createKeyFieldInFilter(e,t,a){return t==="in"?new gO(e,a):new yO(e,a)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Wo(t,this.value)):t!==null&&Ga(this.value)===Ga(t)&&this.matchesComparison(Wo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class li extends hw{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new li(e,t)}matches(e){return fw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fw(r){return r.op==="and"}function dw(r){return mO(r)&&fw(r)}function mO(r){for(const e of r.filters)if(e instanceof li)return!1;return!0}function pp(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+Zo(r.value);if(dw(r))return r.filters.map(e=>pp(e)).join(",");{const e=r.filters.map(t=>pp(t)).join(",");return`${r.op}(${e})`}}function mw(r,e){return r instanceof Yt?function(a,o){return o instanceof Yt&&a.op===o.op&&a.field.isEqual(o.field)&&oi(a.value,o.value)}(r,e):r instanceof li?function(a,o){return o instanceof li&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((l,h,d)=>l&&mw(h,o.filters[d]),!0):!1}(r,e):void Le()}function pw(r){return r instanceof Yt?function(t){return`${t.field.canonicalString()} ${t.op} ${Zo(t.value)}`}(r):r instanceof li?function(t){return t.op.toString()+" {"+t.getFilters().map(pw).join(" ,")+"}"}(r):"Filter"}class pO extends Yt{constructor(e,t,a){super(e,t,a),this.key=Oe.fromName(a.referenceValue)}matches(e){const t=Oe.comparator(e.key,this.key);return this.matchesComparison(t)}}class gO extends Yt{constructor(e,t){super(e,"in",t),this.keys=gw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class yO extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=gw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function gw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(a=>Oe.fromName(a.referenceValue))}class vO extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ug(t)&&Mu(t.arrayValue,this.value)}}class _O extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Mu(this.value.arrayValue,t)}}class EO extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Mu(this.value.arrayValue,t)}}class TO extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some(a=>Mu(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t=null,a=[],o=[],l=null,h=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=a,this.filters=o,this.limit=l,this.startAt=h,this.endAt=d,this.le=null}}function EE(r,e=null,t=[],a=[],o=null,l=null,h=null){return new bO(r,e,t,a,o,l,h)}function cg(r){const e=ze(r);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(a=>pp(a)).join(","),t+="|ob:",t+=e.orderBy.map(a=>function(l){return l.field.canonicalString()+l.dir}(a)).join(","),Ef(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(a=>Zo(a)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(a=>Zo(a)).join(",")),e.le=t}return e.le}function hg(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!dO(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!mw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!_E(r.startAt,e.startAt)&&_E(r.endAt,e.endAt)}function gp(r){return Oe.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,t=null,a=[],o=[],l=null,h="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=a,this.filters=o,this.limit=l,this.limitType=h,this.startAt=d,this.endAt=m,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function wO(r,e,t,a,o,l,h,d){return new bf(r,e,t,a,o,l,h,d)}function fg(r){return new bf(r)}function TE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function SO(r){return r.collectionGroup!==null}function bu(r){const e=ze(r);if(e.he===null){e.he=[];const t=new Set;for(const l of e.explicitOrderBy)e.he.push(l),t.add(l.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Wt(yn.comparator);return h.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.he.push(new Wh(l,a))}),t.has(yn.keyField().canonicalString())||e.he.push(new Wh(yn.keyField(),a))}return e.he}function ri(r){const e=ze(r);return e.Pe||(e.Pe=AO(e,bu(r))),e.Pe}function AO(r,e){if(r.limitType==="F")return EE(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const l=o.dir==="desc"?"asc":"desc";return new Wh(o.field,l)});const t=r.endAt?new Xh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Xh(r.startAt.position,r.startAt.inclusive):null;return EE(r.path,r.collectionGroup,e,r.filters,r.limit,t,a)}}function yp(r,e,t){return new bf(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function wf(r,e){return hg(ri(r),ri(e))&&r.limitType===e.limitType}function yw(r){return`${cg(ri(r))}|lt:${r.limitType}`}function zo(r){return`Query(target=${function(t){let a=t.path.canonicalString();return t.collectionGroup!==null&&(a+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(a+=`, filters: [${t.filters.map(o=>pw(o)).join(", ")}]`),Ef(t.limit)||(a+=", limit: "+t.limit),t.orderBy.length>0&&(a+=`, orderBy: [${t.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),t.startAt&&(a+=", startAt: ",a+=t.startAt.inclusive?"b:":"a:",a+=t.startAt.position.map(o=>Zo(o)).join(",")),t.endAt&&(a+=", endAt: ",a+=t.endAt.inclusive?"a:":"b:",a+=t.endAt.position.map(o=>Zo(o)).join(",")),`Target(${a})`}(ri(r))}; limitType=${r.limitType})`}function Sf(r,e){return e.isFoundDocument()&&function(a,o){const l=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(l):Oe.isDocumentKey(a.path)?a.path.isEqual(l):a.path.isImmediateParentOf(l)}(r,e)&&function(a,o){for(const l of bu(a))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0}(r,e)&&function(a,o){for(const l of a.filters)if(!l.matches(o))return!1;return!0}(r,e)&&function(a,o){return!(a.startAt&&!function(h,d,m){const g=vE(h,d,m);return h.inclusive?g<=0:g<0}(a.startAt,bu(a),o)||a.endAt&&!function(h,d,m){const g=vE(h,d,m);return h.inclusive?g>=0:g>0}(a.endAt,bu(a),o))}(r,e)}function RO(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function vw(r){return(e,t)=>{let a=!1;for(const o of bu(r)){const l=CO(o,e,t);if(l!==0)return l;a=a||o.field.isKeyField()}return 0}}function CO(r,e,t){const a=r.field.isKeyField()?Oe.comparator(e.key,t.key):function(l,h,d){const m=h.data.field(l),g=d.data.field(l);return m!==null&&g!==null?Wo(m,g):Le()}(r.field,e,t);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a!==void 0){for(const[o,l]of a)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),a=this.inner[t];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[t]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Gs(this.inner,(t,a)=>{for(const[o,l]of a)e(o,l)})}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IO=new It(Oe.comparator);function Ki(){return IO}const _w=new It(Oe.comparator);function gu(...r){let e=_w;for(const t of r)e=e.insert(t.key,t);return e}function Ew(r){let e=_w;return r.forEach((t,a)=>e=e.insert(t,a.overlayedDocument)),e}function Ms(){return wu()}function Tw(){return wu()}function wu(){return new $s(r=>r.toString(),(r,e)=>r.isEqual(e))}const DO=new It(Oe.comparator),NO=new Wt(Oe.comparator);function Ze(...r){let e=NO;for(const t of r)e=e.add(t);return e}const xO=new Wt($e);function OO(){return xO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Kh(e)?"-0":e}}function bw(r){return{integerValue:""+r}}function MO(r,e){return aO(e)?bw(e):dg(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(){this._=void 0}}function PO(r,e,t){return r instanceof Zh?function(o,l){const h={fields:{[aw]:{stringValue:iw},[ow]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&lg(l)&&(l=Tf(l)),l&&(h.fields[sw]=l),{mapValue:h}}(t,e):r instanceof Pu?Sw(r,e):r instanceof Vu?Aw(r,e):function(o,l){const h=ww(o,l),d=bE(h)+bE(o.Ie);return mp(h)&&mp(o.Ie)?bw(d):dg(o.serializer,d)}(r,e)}function VO(r,e,t){return r instanceof Pu?Sw(r,e):r instanceof Vu?Aw(r,e):t}function ww(r,e){return r instanceof Jh?function(a){return mp(a)||function(l){return!!l&&"doubleValue"in l}(a)}(e)?e:{integerValue:0}:null}class Zh extends Af{}class Pu extends Af{constructor(e){super(),this.elements=e}}function Sw(r,e){const t=Rw(e);for(const a of r.elements)t.some(o=>oi(o,a))||t.push(a);return{arrayValue:{values:t}}}class Vu extends Af{constructor(e){super(),this.elements=e}}function Aw(r,e){let t=Rw(e);for(const a of r.elements)t=t.filter(o=>!oi(o,a));return{arrayValue:{values:t}}}class Jh extends Af{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function bE(r){return kt(r.integerValue||r.doubleValue)}function Rw(r){return ug(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function LO(r,e){return r.field.isEqual(e.field)&&function(a,o){return a instanceof Pu&&o instanceof Pu||a instanceof Vu&&o instanceof Vu?Xo(a.elements,o.elements,oi):a instanceof Jh&&o instanceof Jh?oi(a.Ie,o.Ie):a instanceof Zh&&o instanceof Zh}(r.transform,e.transform)}class kO{constructor(e,t){this.version=e,this.transformResults=t}}class ii{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Rf{}function Cw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Dw(r.key,ii.none()):new $u(r.key,r.data,ii.none());{const t=r.data,a=vr.empty();let o=new Wt(yn.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?a.delete(l):a.set(l,h),o=o.add(l)}return new Ks(r.key,a,new Nr(o.toArray()),ii.none())}}function UO(r,e,t){r instanceof $u?function(o,l,h){const d=o.value.clone(),m=SE(o.fieldTransforms,l,h.transformResults);d.setAll(m),l.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(r,e,t):r instanceof Ks?function(o,l,h){if(!Nh(o.precondition,l))return void l.convertToUnknownDocument(h.version);const d=SE(o.fieldTransforms,l,h.transformResults),m=l.data;m.setAll(Iw(o)),m.setAll(d),l.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(r,e,t):function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Su(r,e,t,a){return r instanceof $u?function(l,h,d,m){if(!Nh(l.precondition,h))return d;const g=l.value.clone(),E=AE(l.fieldTransforms,m,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(r,e,t,a):r instanceof Ks?function(l,h,d,m){if(!Nh(l.precondition,h))return d;const g=AE(l.fieldTransforms,m,h),E=h.data;return E.setAll(Iw(l)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(r,e,t,a):function(l,h,d){return Nh(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(r,e,t)}function jO(r,e){let t=null;for(const a of r.fieldTransforms){const o=e.data.field(a.field),l=ww(a.transform,o||null);l!=null&&(t===null&&(t=vr.empty()),t.set(a.field,l))}return t||null}function wE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&Xo(a,o,(l,h)=>LO(l,h))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class $u extends Rf{constructor(e,t,a,o=[]){super(),this.key=e,this.value=t,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ks extends Rf{constructor(e,t,a,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=a,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Iw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const a=r.data.field(t);e.set(t,a)}}),e}function SE(r,e,t){const a=new Map;mt(r.length===t.length);for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,d=e.data.field(l.field);a.set(l.field,VO(h,d,t[o]))}return a}function AE(r,e,t){const a=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);a.set(o.field,PO(l,h,e))}return a}class Dw extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zO extends Rf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{constructor(e,t,a,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,t){const a=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&UO(l,e,a[o])}}applyToLocalView(e,t){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(t=Su(a,e,t,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(t=Su(a,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const a=Tw();return this.mutations.forEach(o=>{const l=e.get(o.key),h=l.overlayedDocument;let d=this.applyToLocalView(h,l.mutatedFields);d=t.has(o.key)?null:d;const m=Cw(h,d);m!==null&&a.set(o.key,m),h.isValidDocument()||h.convertToNoDocument(ke.min())}),a}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ze())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(t,a)=>wE(t,a))&&Xo(this.baseMutations,e.baseMutations,(t,a)=>wE(t,a))}}class mg{constructor(e,t,a,o){this.batch=e,this.commitVersion=t,this.mutationResults=a,this.docVersions=o}static from(e,t,a){mt(e.mutations.length===a.length);let o=function(){return DO}();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,a[h].version);return new mg(e,t,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,at;function qO(r){switch(r){case oe.OK:return Le();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0;default:return Le()}}function Nw(r){if(r===void 0)return $i("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Ft.OK:return oe.OK;case Ft.CANCELLED:return oe.CANCELLED;case Ft.UNKNOWN:return oe.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return oe.INTERNAL;case Ft.UNAVAILABLE:return oe.UNAVAILABLE;case Ft.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Ft.NOT_FOUND:return oe.NOT_FOUND;case Ft.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Ft.ABORTED:return oe.ABORTED;case Ft.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Ft.DATA_LOSS:return oe.DATA_LOSS;default:return Le()}}(at=Ft||(Ft={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO=new La([4294967295,4294967295],0);function RE(r){const e=Jb().encode(r),t=new $b;return t.update(e),new Uint8Array(t.digest())}function CE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new La([t,a],0),new La([o,l],0)]}class pg{constructor(e,t,a){if(this.bitmap=e,this.padding=t,this.hashCount=a,t<0||t>=8)throw new yu(`Invalid padding: ${t}`);if(a<0)throw new yu(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new yu(`Invalid hash count: ${a}`);if(e.length===0&&t!==0)throw new yu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=La.fromNumber(this.Ee)}Ae(e,t,a){let o=e.add(t.multiply(La.fromNumber(a)));return o.compare(GO)===1&&(o=new La([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=RE(e),[a,o]=CE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(a,o,l);if(!this.Re(h))return!1}return!0}static create(e,t,a){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new pg(l,o,t);return a.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const t=RE(e),[a,o]=CE(t);for(let l=0;l<this.hashCount;l++){const h=this.Ae(a,o,l);this.Ve(h)}}Ve(e){const t=Math.floor(e/8),a=e%8;this.bitmap[t]|=1<<a}}class yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(e,t,a,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,a){const o=new Map;return o.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,t,a)),new Cf(ke.min(),o,new It($e),Ki(),Ze())}}class Ku{constructor(e,t,a,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,a){return new Ku(a,t,Ze(),Ze(),Ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,t,a,o){this.me=e,this.removedTargetIds=t,this.key=a,this.fe=o}}class xw{constructor(e,t){this.targetId=e,this.ge=t}}class Ow{constructor(e,t,a=_n.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=a,this.cause=o}}class IE{constructor(){this.pe=0,this.ye=DE(),this.we=_n.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ze(),t=Ze(),a=Ze();return this.ye.forEach((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:a=a.add(o);break;default:Le()}}),new Ku(this.we,this.Se,e,t,a)}Me(){this.be=!1,this.ye=DE()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,mt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class $O{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ki(),this.$e=yh(),this.Ue=yh(),this.Ke=new It($e)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const a=this.He(t);switch(e.state){case 0:this.Je(t)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(t);break;case 3:this.Je(t)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),a.Ce(e.resumeToken));break;default:Le()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((a,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,a=e.ge.count,o=this.Xe(t);if(o){const l=o.target;if(gp(l))if(a===0){const h=new Oe(l.path);this.ze(t,h,An.newNoDocument(h,ke.min()))}else mt(a===1);else{const h=this.et(t);if(h!==a){const d=this.tt(e),m=d?this.nt(d,e,h):1;if(m!==0){this.Ye(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,g)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:l=0}=t;let h,d;try{h=qa(a).toUint8Array()}catch(m){if(m instanceof rw)return Yo("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new pg(h,o,l)}catch(m){return Yo(m instanceof yu?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.Ee===0?null:d}nt(e,t,a){return t.ge.count===a-this.st(e,t.targetId)?0:2}st(e,t){const a=this.ke.getRemoteKeysForTarget(t);let o=0;return a.forEach(l=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,l,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((l,h)=>{const d=this.Xe(h);if(d){if(l.current&&gp(d.target)){const m=new Oe(d.target.path);this._t(m).has(h)||this.ut(h,m)||this.ze(h,m,An.newNoDocument(m,e))}l.ve&&(t.set(h,l.Fe()),l.Me())}});let a=Ze();this.Ue.forEach((l,h)=>{let d=!0;h.forEachWhile(m=>{const g=this.Xe(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(a=a.add(l))}),this.Qe.forEach((l,h)=>h.setReadTime(e));const o=new Cf(e,t,this.Ke,this.Qe,a);return this.Qe=Ki(),this.$e=yh(),this.Ue=yh(),this.Ke=new It($e),o}Ge(e,t){if(!this.Je(e))return;const a=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,a),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),a&&(this.Qe=this.Qe.insert(t,a))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new IE,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Wt($e),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Wt($e),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ve("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new IE),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function yh(){return new It(Oe.comparator)}function DE(){return new It(Oe.comparator)}const KO={asc:"ASCENDING",desc:"DESCENDING"},QO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},YO={and:"AND",or:"OR"};class XO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vp(r,e){return r.useProto3Json||Ef(e)?e:{value:e}}function ef(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function WO(r,e){return ef(r,e.toTimestamp())}function ai(r){return mt(!!r),ke.fromTimestamp(function(t){const a=Fa(t);return new Xt(a.seconds,a.nanos)}(r))}function gg(r,e){return _p(r,e).canonicalString()}function _p(r,e){const t=function(o){return new At(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?t:t.child(e)}function Pw(r){const e=At.fromString(r);return mt(jw(e)),e}function Ep(r,e){return gg(r.databaseId,e.path)}function Ym(r,e){const t=Pw(e);if(t.get(1)!==r.databaseId.projectId)throw new Ne(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ne(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Oe(Lw(t))}function Vw(r,e){return gg(r.databaseId,e)}function ZO(r){const e=Pw(r);return e.length===4?At.emptyPath():Lw(e)}function Tp(r){return new At(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Lw(r){return mt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function NE(r,e,t){return{name:Ep(r,e),fields:t.value.mapValue.fields}}function JO(r,e){let t;if("targetChange"in e){e.targetChange;const a=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=function(g,E){return g.useProto3Json?(mt(E===void 0||typeof E=="string"),_n.fromBase64String(E||"")):(mt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),_n.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?oe.UNKNOWN:Nw(g.code);return new Ne(E,g.message||"")}(h);t=new Ow(a,o,l,d||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Ym(r,a.document.name),l=ai(a.document.updateTime),h=a.document.createTime?ai(a.document.createTime):ke.min(),d=new vr({mapValue:{fields:a.document.fields}}),m=An.newFoundDocument(o,l,h,d),g=a.targetIds||[],E=a.removedTargetIds||[];t=new xh(g,E,m.key,m)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Ym(r,a.document),l=a.readTime?ai(a.readTime):ke.min(),h=An.newNoDocument(o,l),d=a.removedTargetIds||[];t=new xh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Ym(r,a.document),l=a.removedTargetIds||[];t=new xh([],l,o,null)}else{if(!("filter"in e))return Le();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:l}=a,h=new FO(o,l),d=a.targetId;t=new xw(d,h)}}return t}function e4(r,e){let t;if(e instanceof $u)t={update:NE(r,e.key,e.value)};else if(e instanceof Dw)t={delete:Ep(r,e.key)};else if(e instanceof Ks)t={update:NE(r,e.key,e.data),updateMask:u4(e.fieldMask)};else{if(!(e instanceof zO))return Le();t={verify:Ep(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(a=>function(l,h){const d=h.transform;if(d instanceof Zh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Pu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Vu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Jh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw Le()}(0,a))),e.precondition.isNone||(t.currentDocument=function(o,l){return l.updateTime!==void 0?{updateTime:WO(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Le()}(r,e.precondition)),t}function t4(r,e){return r&&r.length>0?(mt(e!==void 0),r.map(t=>function(o,l){let h=o.updateTime?ai(o.updateTime):ai(l);return h.isEqual(ke.min())&&(h=ai(l)),new kO(h,o.transformResults||[])}(t,e))):[]}function n4(r,e){return{documents:[Vw(r,e.path)]}}function r4(r,e){const t={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),t.structuredQuery.from=[{collectionId:a.lastSegment()}]),t.parent=Vw(r,o);const l=function(g){if(g.length!==0)return Uw(li.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(g){if(g.length!==0)return g.map(E=>function(R){return{field:Bo(R.field),direction:s4(R.dir)}}(E))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const d=vp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:t,parent:o}}function i4(r){let e=ZO(r.parent);const t=r.structuredQuery,a=t.from?t.from.length:0;let o=null;if(a>0){mt(a===1);const E=t.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let l=[];t.where&&(l=function(b){const R=kw(b);return R instanceof li&&dw(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(b){return b.map(R=>function(L){return new Wh(Ho(L.field),function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(t.orderBy));let d=null;t.limit&&(d=function(b){let R;return R=typeof b=="object"?b.value:b,Ef(R)?null:R}(t.limit));let m=null;t.startAt&&(m=function(b){const R=!!b.before,D=b.values||[];return new Xh(D,R)}(t.startAt));let g=null;return t.endAt&&(g=function(b){const R=!b.before,D=b.values||[];return new Xh(D,R)}(t.endAt)),wO(e,o,h,l,d,"F",m,g)}function a4(r,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function kw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const a=Ho(t.unaryFilter.field);return Yt.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=Ho(t.unaryFilter.field);return Yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ho(t.unaryFilter.field);return Yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ho(t.unaryFilter.field);return Yt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(r):r.fieldFilter!==void 0?function(t){return Yt.create(Ho(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return li.create(t.compositeFilter.filters.map(a=>kw(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Le()}}(t.compositeFilter.op))}(r):Le()}function s4(r){return KO[r]}function o4(r){return QO[r]}function l4(r){return YO[r]}function Bo(r){return{fieldPath:r.canonicalString()}}function Ho(r){return yn.fromServerFormat(r.fieldPath)}function Uw(r){return r instanceof Yt?function(t){if(t.op==="=="){if(yE(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NAN"}};if(gE(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(yE(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NAN"}};if(gE(t.value))return{unaryFilter:{field:Bo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bo(t.field),op:o4(t.op),value:t.value}}}(r):r instanceof li?function(t){const a=t.getFilters().map(o=>Uw(o));return a.length===1?a[0]:{compositeFilter:{op:l4(t.op),filters:a}}}(r):Le()}function u4(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function jw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,t,a,o,l=ke.min(),h=ke.min(),d=_n.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new Ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.Tt=e}}function h4(r){const e=i4({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(){this.Tn=new d4}addToCollectionParentIndex(e,t){return this.Tn.add(t),re.resolve()}getCollectionParents(e,t){return re.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return re.resolve()}deleteFieldIndex(e,t){return re.resolve()}deleteAllFieldIndexes(e){return re.resolve()}createTargetIndexes(e,t){return re.resolve()}getDocumentsMatchingTarget(e,t){return re.resolve(null)}getIndexType(e,t){return re.resolve(0)}getFieldIndexes(e,t){return re.resolve([])}getNextCollectionGroupToUpdate(e){return re.resolve(null)}getMinOffset(e,t){return re.resolve(Ha.min())}getMinOffsetFromCollectionGroup(e,t){return re.resolve(Ha.min())}updateCollectionGroup(e,t,a){return re.resolve()}updateIndexEntries(e,t){return re.resolve()}}class d4{constructor(){this.index={}}add(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t]||new Wt(At.comparator),l=!o.has(a);return this.index[t]=o.add(a),l}has(e){const t=e.lastSegment(),a=e.popLast(),o=this.index[t];return o&&o.has(a)}getEntries(e){return(this.index[e]||new Wt(At.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zw=41943040;class Un{static withCacheSize(e){return new Un(e,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(zw,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Jo(0)}static Kn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="LruGarbageCollector",m4=1048576;function ME([r,e],[t,a]){const o=$e(r,t);return o===0?$e(e,a):o}class p4{constructor(e){this.Hn=e,this.buffer=new Wt(ME),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const a=this.buffer.last();ME(t,a)<0&&(this.buffer=this.buffer.delete(a).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g4{constructor(e,t,a){this.garbageCollector=e,this.asyncQueue=t,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ve(OE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){ll(t)?ve(OE,"Ignoring IndexedDB error during garbage collection: ",t):await ol(t)}await this.er(3e5)})}}class y4{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(a=>Math.floor(t/100*a))}nthSequenceNumber(e,t){if(t===0)return re.resolve(_f.ae);const a=new p4(t);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,t,a){return this.tr.removeTargets(e,t,a)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),re.resolve(xE)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xE):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let a,o,l,h,d,m,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(a=b,d=Date.now(),this.removeTargets(e,a,t))).next(b=>(l=b,m=Date.now(),this.removeOrphanedDocuments(e,a))).next(b=>(g=Date.now(),jo()<=We.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${l} targets in `+(m-d)+`ms
	Removed ${b} documents in `+(g-m)+`ms
Total Duration: ${g-E}ms`),re.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:b})))}}function v4(r,e){return new y4(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _4{constructor(){this.changes=new $s(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,An.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const a=this.changes.get(t);return a!==void 0?re.resolve(a):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e,t,a,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,t){let a=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(a!==null&&Su(a.mutation,o,Nr.empty(),Xt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.getLocalViewOfDocuments(e,a,Ze()).next(()=>a))}getLocalViewOfDocuments(e,t,a=Ze()){const o=Ms();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,a).next(l=>{let h=gu();return l.forEach((d,m)=>{h=h.insert(d,m.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const a=Ms();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,Ze()))}populateOverlays(e,t,a){const o=[];return a.forEach(l=>{t.has(l)||o.push(l)}),this.documentOverlayCache.getOverlays(e,o).next(l=>{l.forEach((h,d)=>{t.set(h,d)})})}computeViews(e,t,a,o){let l=Ki();const h=wu(),d=function(){return wu()}();return t.forEach((m,g)=>{const E=a.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Ks)?l=l.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),Su(E.mutation,g,E.mutation.getFieldMask(),Xt.now())):h.set(g.key,Nr.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,E)=>h.set(g,E)),t.forEach((g,E)=>{var b;return d.set(g,new E4(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,t){const a=wu();let o=new It((h,d)=>h-d),l=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const d of h)d.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let E=a.get(m)||Nr.empty();E=d.applyToLocalView(g,E),a.set(m,E);const b=(o.get(d.batchId)||Ze()).add(m);o=o.insert(d.batchId,b)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),g=m.key,E=m.value,b=Tw();E.forEach(R=>{if(!l.has(R)){const D=Cw(t.get(R),a.get(R));D!==null&&b.set(R,D),l=l.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return re.waitFor(h)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,t,a,o){return function(h){return Oe.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):SO(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,a,o):this.getDocumentsMatchingCollectionQuery(e,t,a,o)}getNextDocuments(e,t,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,a,o).next(l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,a.largestBatchId,o-l.size):re.resolve(Ms());let d=Nu,m=l;return h.next(g=>re.forEach(g,(E,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),l.get(E)?re.resolve():this.remoteDocumentCache.getEntry(e,E).next(R=>{m=m.insert(E,R)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,Ze())).next(E=>({batchId:d,changes:Ew(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oe(t)).next(a=>{let o=gu();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,a,o){const l=t.collectionGroup;let h=gu();return this.indexManager.getCollectionParents(e,l).next(d=>re.forEach(d,m=>{const g=function(b,R){return new bf(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,a,o).next(E=>{E.forEach((b,R)=>{h=h.insert(b,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,a,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,a.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,a,l,o))).next(h=>{l.forEach((m,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,An.newInvalidDocument(E)))});let d=gu();return h.forEach((m,g)=>{const E=l.get(m);E!==void 0&&Su(E.mutation,g,Nr.empty(),Xt.now()),Sf(t,g)&&(d=d.insert(m,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return re.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:ai(o.createTime)}}(t)),re.resolve()}getNamedQuery(e,t){return re.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:h4(o.bundledQuery),readTime:ai(o.readTime)}}(t)),re.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w4{constructor(){this.overlays=new It(Oe.comparator),this.Rr=new Map}getOverlay(e,t){return re.resolve(this.overlays.get(t))}getOverlays(e,t){const a=Ms();return re.forEach(t,o=>this.getOverlay(e,o).next(l=>{l!==null&&a.set(o,l)})).next(()=>a)}saveOverlays(e,t,a){return a.forEach((o,l)=>{this.Et(e,t,l)}),re.resolve()}removeOverlaysForBatchId(e,t,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(l=>this.overlays=this.overlays.remove(l)),this.Rr.delete(a)),re.resolve()}getOverlaysForCollection(e,t,a){const o=Ms(),l=t.length+1,h=new Oe(t.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const m=d.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>a&&o.set(m.getKey(),m)}return re.resolve(o)}getOverlaysForCollectionGroup(e,t,a,o){let l=new It((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>a){let E=l.get(g.largestBatchId);E===null&&(E=Ms(),l=l.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=Ms(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return re.resolve(d)}Et(e,t,a){const o=this.overlays.get(a.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(a.key,new HO(t,a));let l=this.Rr.get(t);l===void 0&&(l=Ze(),this.Rr.set(t,l)),this.Rr.set(t,l.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(){this.sessionToken=_n.EMPTY_BYTE_STRING}getSessionToken(e){return re.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,re.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Vr=new Wt(cn.mr),this.gr=new Wt(cn.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const a=new cn(e,t);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,t){e.forEach(a=>this.addReference(a,t))}removeReference(e,t){this.wr(new cn(e,t))}Sr(e,t){e.forEach(a=>this.removeReference(a,t))}br(e){const t=new Oe(new At([])),a=new cn(t,e),o=new cn(t,e+1),l=[];return this.gr.forEachInRange([a,o],h=>{this.wr(h),l.push(h.key)}),l}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Oe(new At([])),a=new cn(t,e),o=new cn(t,e+1);let l=Ze();return this.gr.forEachInRange([a,o],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new cn(e,0),a=this.Vr.firstAfterOrEqual(t);return a!==null&&e.isEqual(a.key)}}class cn{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Oe.comparator(e.key,t.key)||$e(e.Cr,t.Cr)}static pr(e,t){return $e(e.Cr,t.Cr)||Oe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A4{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Wt(cn.mr)}checkEmpty(e){return re.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,a,o){const l=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new BO(l,t,a,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new cn(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return re.resolve(h)}lookupMutationBatch(e,t){return re.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const a=t+1,o=this.Nr(a),l=o<0?0:o;return re.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return re.resolve(this.mutationQueue.length===0?og:this.Fr-1)}getAllMutationBatches(e){return re.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const a=new cn(t,0),o=new cn(t,Number.POSITIVE_INFINITY),l=[];return this.Mr.forEachInRange([a,o],h=>{const d=this.Or(h.Cr);l.push(d)}),re.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let a=new Wt($e);return t.forEach(o=>{const l=new cn(o,0),h=new cn(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([l,h],d=>{a=a.add(d.Cr)})}),re.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,t){const a=t.path,o=a.length+1;let l=a;Oe.isDocumentKey(l)||(l=l.child(""));const h=new cn(new Oe(l),0);let d=new Wt($e);return this.Mr.forEachWhile(m=>{const g=m.key.path;return!!a.isPrefixOf(g)&&(g.length===o&&(d=d.add(m.Cr)),!0)},h),re.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){mt(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return re.forEach(t.mutations,o=>{const l=new cn(o.key,t.batchId);return a=a.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,t){const a=new cn(t,0),o=this.Mr.firstAfterOrEqual(a);return re.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,re.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.kr=e,this.docs=function(){return new It(Oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const a=t.key,o=this.docs.get(a),l=o?o.size:0,h=this.kr(t);return this.docs=this.docs.insert(a,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const a=this.docs.get(t);return re.resolve(a?a.document.mutableCopy():An.newInvalidDocument(t))}getEntries(e,t){let a=Ki();return t.forEach(o=>{const l=this.docs.get(o);a=a.insert(o,l?l.document.mutableCopy():An.newInvalidDocument(o))}),re.resolve(a)}getDocumentsMatchingQuery(e,t,a,o){let l=Ki();const h=t.path,d=new Oe(h.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:g,value:{document:E}}=m.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||tO(eO(E),a)<=0||(o.has(E.key)||Sf(t,E))&&(l=l.insert(E.key,E.mutableCopy()))}return re.resolve(l)}getAllFromCollectionGroup(e,t,a,o){Le()}qr(e,t){return re.forEach(this.docs,a=>t(a))}newChangeBuffer(e){return new C4(this)}getSize(e){return re.resolve(this.size)}}class C4 extends _4{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),re.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4{constructor(e){this.persistence=e,this.Qr=new $s(t=>cg(t),hg),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yg,this.targetCount=0,this.Kr=Jo.Un()}forEachTarget(e,t){return this.Qr.forEach((a,o)=>t(o)),re.resolve()}getLastRemoteSnapshotVersion(e){return re.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return re.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),re.resolve(this.highestTargetId)}setTargetsMetadata(e,t,a){return a&&(this.lastRemoteSnapshotVersion=a),t>this.$r&&(this.$r=t),re.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,re.resolve()}updateTargetData(e,t){return this.zn(t),re.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,re.resolve()}removeTargets(e,t,a){let o=0;const l=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=t&&a.get(d.targetId)===null&&(this.Qr.delete(h),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),re.waitFor(l).next(()=>o)}getTargetCount(e){return re.resolve(this.targetCount)}getTargetData(e,t){const a=this.Qr.get(t)||null;return re.resolve(a)}addMatchingKeys(e,t,a){return this.Ur.yr(t,a),re.resolve()}removeMatchingKeys(e,t,a){this.Ur.Sr(t,a);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach(h=>{l.push(o.markPotentiallyOrphaned(e,h))}),re.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),re.resolve()}getMatchingKeysForTargetId(e,t){const a=this.Ur.vr(t);return re.resolve(a)}containsKey(e,t){return re.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new _f(0),this.zr=!1,this.zr=!0,this.jr=new S4,this.referenceDelegate=e(this),this.Hr=new I4(this),this.indexManager=new f4,this.remoteDocumentCache=function(o){return new R4(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new c4(t),this.Yr=new b4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new w4,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let a=this.Wr[e.toKey()];return a||(a=new A4(t,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,a){ve("MemoryPersistence","Starting transaction:",e);const o=new D4(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(l=>this.referenceDelegate.Xr(o).next(()=>l)).toPromise().then(l=>(o.raiseOnCommittedEvent(),l))}ei(e,t){return re.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,t)))}}class D4 extends rO{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.ti=new yg,this.ni=null}static ri(e){return new vg(e)}get ii(){if(this.ni)return this.ni;throw Le()}addReference(e,t,a){return this.ti.addReference(a,t),this.ii.delete(a.toString()),re.resolve()}removeReference(e,t,a){return this.ti.removeReference(a,t),this.ii.add(a.toString()),re.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),re.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(l=>this.ii.add(l.toString()))}).next(()=>a.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return re.forEach(this.ii,a=>{const o=Oe.fromPath(a);return this.si(e,o).next(l=>{l||t.removeEntry(o,ke.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(a=>{a?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return re.or([()=>re.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class tf{constructor(e,t){this.persistence=e,this.oi=new $s(a=>sO(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=v4(this,t)}static ri(e,t){return new tf(e,t)}Zr(){}Xr(e){return re.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>t.next(o=>a+o))}sr(e){let t=0;return this.rr(e,a=>{t++}).next(()=>t)}rr(e,t){return re.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(l=>l?re.resolve():t(o)))}removeTargets(e,t,a){return this.persistence.getTargetCache().removeTargets(e,t,a)}removeOrphanedDocuments(e,t){let a=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,t).next(d=>{d||(a++,l.removeEntry(h,ke.min()))})).next(()=>l.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}removeTarget(e,t){const a=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),re.resolve()}removeReference(e,t,a){return this.oi.set(a,e.currentSequenceNumber),re.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),re.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ih(e.data.value)),t}ar(e,t,a){return re.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return re.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,a,o){this.targetId=e,this.fromCache=t,this.Hi=a,this.Ji=o}static Yi(e,t){let a=Ze(),o=Ze();for(const l of t.docChanges)switch(l.type){case 0:a=a.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new _g(e,t.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return UC()?8:iO(Rn())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,a,o){const l={result:null};return this.rs(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.ss(e,t,o,a).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new N4;return this._s(e,t,h).next(d=>{if(l.result=d,this.Xi)return this.us(e,t,h,d.size)})}).next(()=>l.result)}us(e,t,a,o){return a.documentReadCount<this.es?(jo()<=We.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),re.resolve()):(jo()<=We.DEBUG&&ve("QueryEngine","Query:",zo(t),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(jo()<=We.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(t))):re.resolve())}rs(e,t){if(TE(t))return re.resolve(null);let a=ri(t);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=yp(t,null,"F"),a=ri(t)),this.indexManager.getDocumentsMatchingTarget(e,a).next(l=>{const h=Ze(...l);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,a).next(m=>{const g=this.cs(t,d);return this.ls(t,g,h,m.readTime)?this.rs(e,yp(t,null,"F")):this.hs(e,g,t,m)}))})))}ss(e,t,a,o){return TE(t)||o.isEqual(ke.min())?re.resolve(null):this.ns.getDocuments(e,a).next(l=>{const h=this.cs(t,l);return this.ls(t,h,a,o)?re.resolve(null):(jo()<=We.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),zo(t)),this.hs(e,h,t,Jx(o,Nu)).next(d=>d))})}cs(e,t){let a=new Wt(vw(e));return t.forEach((o,l)=>{Sf(e,l)&&(a=a.add(l))}),a}ls(e,t,a,o){if(e.limit===null)return!1;if(a.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}_s(e,t,a){return jo()<=We.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ns.getDocumentsMatchingQuery(e,t,Ha.min(),a)}hs(e,t,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg="LocalStore",O4=3e8;class M4{constructor(e,t,a,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new It($e),this.Is=new $s(l=>cg(l),hg),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new T4(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function P4(r,e,t,a){return new M4(r,e,t,a)}async function Hw(r,e){const t=ze(r);return await t.persistence.runTransaction("Handle user change","readonly",a=>{let o;return t.mutationQueue.getAllMutationBatches(a).next(l=>(o=l,t.As(e),t.mutationQueue.getAllMutationBatches(a))).next(l=>{const h=[],d=[];let m=Ze();for(const g of o){h.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}for(const g of l){d.push(g.batchId);for(const E of g.mutations)m=m.add(E.key)}return t.localDocuments.getDocuments(a,m).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function V4(r,e){const t=ze(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),l=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,m,g,E){const b=g.batch,R=b.keys();let D=re.resolve();return R.forEach(L=>{D=D.next(()=>E.getEntry(m,L)).next(Y=>{const H=g.docVersions.get(L);mt(H!==null),Y.version.compareTo(H)<0&&(b.applyToRemoteDocument(Y,g),Y.isValidDocument()&&(Y.setReadTime(g.commitVersion),E.addEntry(Y)))})}),D.next(()=>d.mutationQueue.removeMutationBatch(m,b))}(t,a,e,l).next(()=>l.apply(a)).next(()=>t.mutationQueue.performConsistencyCheck(a)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(d){let m=Ze();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(m=m.add(d.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(a,o))})}function Fw(r){const e=ze(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function L4(r,e){const t=ze(r),a=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((E,b)=>{const R=o.get(b);if(!R)return;d.push(t.Hr.removeMatchingKeys(l,E.removedDocuments,b).next(()=>t.Hr.addMatchingKeys(l,E.addedDocuments,b)));let D=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(_n.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):E.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(E.resumeToken,a)),o=o.insert(b,D),function(Y,H,W){return Y.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=O4?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(R,D,E)&&d.push(t.Hr.updateTargetData(l,D))});let m=Ki(),g=Ze();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,E))}),d.push(k4(l,h,e.documentUpdates).next(E=>{m=E.Vs,g=E.fs})),!a.isEqual(ke.min())){const E=t.Hr.getLastRemoteSnapshotVersion(l).next(b=>t.Hr.setTargetsMetadata(l,l.currentSequenceNumber,a));d.push(E)}return re.waitFor(d).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.Ts=o,l))}function k4(r,e,t){let a=Ze(),o=Ze();return t.forEach(l=>a=a.add(l)),e.getEntries(r,a).next(l=>{let h=Ki();return t.forEach((d,m)=>{const g=l.get(d);m.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),m.isNoDocument()&&m.version.isEqual(ke.min())?(e.removeEntry(d,m.readTime),h=h.insert(d,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),h=h.insert(d,m)):ve(Eg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",m.version)}),{Vs:h,fs:o}})}function U4(r,e){const t=ze(r);return t.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=og),t.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function j4(r,e){const t=ze(r);return t.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return t.Hr.getTargetData(a,e).next(l=>l?(o=l,re.resolve(o)):t.Hr.allocateTargetId(a).next(h=>(o=new Ma(e,h,"TargetPurposeListen",a.currentSequenceNumber),t.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=t.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(a.targetId,a),t.Is.set(e,a.targetId)),a})}async function bp(r,e,t){const a=ze(r),o=a.Ts.get(e),l=t?"readwrite":"readwrite-primary";try{t||await a.persistence.runTransaction("Release target",l,h=>a.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!ll(h))throw h;ve(Eg,`Failed to update sequence numbers for target ${e}: ${h}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function PE(r,e,t){const a=ze(r);let o=ke.min(),l=Ze();return a.persistence.runTransaction("Execute query","readwrite",h=>function(m,g,E){const b=ze(m),R=b.Is.get(E);return R!==void 0?re.resolve(b.Ts.get(R)):b.Hr.getTargetData(g,E)}(a,h,ri(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(h,d.targetId).next(m=>{l=m})}).next(()=>a.Ps.getDocumentsMatchingQuery(h,e,t?o:ke.min(),t?l:Ze())).next(d=>(z4(a,RO(e),d),{documents:d,gs:l})))}function z4(r,e,t){let a=r.Es.get(e)||ke.min();t.forEach((o,l)=>{l.readTime.compareTo(a)>0&&(a=l.readTime)}),r.Es.set(e,a)}class VE{constructor(){this.activeTargetIds=OO()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class B4{constructor(){this.ho=new VE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,a){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,a){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new VE,Promise.resolve()}handleUserChange(e,t,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H4{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="ConnectivityMonitor";class kE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ve(LE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ve(LE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vh=null;function wp(){return vh===null?vh=function(){return 268435456+Math.round(2147483648*Math.random())}():vh++,"0x"+vh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xm="RestConnection",F4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q4{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Qh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,t,a,o,l){const h=wp(),d=this.bo(e,t.toUriEncodedString());ve(Xm,`Sending RPC '${e}' ${h}:`,d,a);const m={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(m,o,l),this.vo(e,d,m,a).then(g=>(ve(Xm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw Yo(Xm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",a),g})}Co(e,t,a,o,l,h){return this.So(e,t,a,o,l)}Do(e,t,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,l)=>e[l]=o),a&&a.headers.forEach((o,l)=>e[l]=o)}bo(e,t){const a=F4[e];return`${this.po}/v1/${t}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wn="WebChannelConnection";class $4 extends q4{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,a,o){const l=wp();return new Promise((h,d)=>{const m=new Kb;m.setWithCredentials(!0),m.listenOnce(Qb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Ch.NO_ERROR:const E=m.getResponseJson();ve(wn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(E)),h(E);break;case Ch.TIMEOUT:ve(wn,`RPC '${e}' ${l} timed out`),d(new Ne(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Ch.HTTP_ERROR:const b=m.getStatus();if(ve(wn,`RPC '${e}' ${l} failed with status:`,b,"response text:",m.getResponseText()),b>0){let R=m.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R==null?void 0:R.error;if(D&&D.status&&D.message){const L=function(H){const W=H.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(W)>=0?W:oe.UNKNOWN}(D.status);d(new Ne(L,D.message))}else d(new Ne(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new Ne(oe.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{ve(wn,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(o);ve(wn,`RPC '${e}' ${l} sending request:`,o),m.send(t,"POST",g,a,15)})}Wo(e,t,a){const o=wp(),l=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Wb(),d=Xb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Do(m.initMessageHeaders,t,a),m.encodeInitMessageHeaders=!0;const E=l.join("");ve(wn,`Creating RPC '${e}' stream ${o}: ${E}`,m);const b=h.createWebChannel(E,m);let R=!1,D=!1;const L=new G4({Fo:H=>{D?ve(wn,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(R||(ve(wn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ve(wn,`RPC '${e}' stream ${o} sending:`,H),b.send(H))},Mo:()=>b.close()}),Y=(H,W,J)=>{H.listen(W,ae=>{try{J(ae)}catch(de){setTimeout(()=>{throw de},0)}})};return Y(b,pu.EventType.OPEN,()=>{D||(ve(wn,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),Y(b,pu.EventType.CLOSE,()=>{D||(D=!0,ve(wn,`RPC '${e}' stream ${o} transport closed`),L.Uo())}),Y(b,pu.EventType.ERROR,H=>{D||(D=!0,Yo(wn,`RPC '${e}' stream ${o} transport errored:`,H),L.Uo(new Ne(oe.UNAVAILABLE,"The operation could not be completed")))}),Y(b,pu.EventType.MESSAGE,H=>{var W;if(!D){const J=H.data[0];mt(!!J);const ae=J,de=(ae==null?void 0:ae.error)||((W=ae[0])===null||W===void 0?void 0:W.error);if(de){ve(wn,`RPC '${e}' stream ${o} received error:`,de);const U=de.status;let ce=function(A){const I=Ft[A];if(I!==void 0)return Nw(I)}(U),P=de.message;ce===void 0&&(ce=oe.INTERNAL,P="Unknown error status: "+U+" with message "+de.message),D=!0,L.Uo(new Ne(ce,P)),b.close()}else ve(wn,`RPC '${e}' stream ${o} received:`,J),L.Ko(J)}}),Y(d,Yb.STAT_EVENT,H=>{H.stat===hp.PROXY?ve(wn,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===hp.NOPROXY&&ve(wn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function Wm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(r){return new XO(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e,t,a=1e3,o=1.5,l=6e4){this.Ti=e,this.timerId=t,this.Go=a,this.zo=o,this.jo=l,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-a);o>0&&ve("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="PersistentStream";class Gw{constructor(e,t,a,o,l,h,d,m){this.Ti=e,this.n_=a,this.r_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new qw(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?($i(t.toString()),$i("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===t&&this.V_(a,o)},a=>{e(()=>{const o=new Ne(oe.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,t){const a=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ve(UE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ve(UE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class K4 extends Gw{constructor(e,t,a,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,a,o,h),this.serializer=l}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=JO(this.serializer,e),a=function(l){if(!("targetChange"in l))return ke.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?ke.min():h.readTime?ai(h.readTime):ke.min()}(e);return this.listener.p_(t,a)}y_(e){const t={};t.database=Tp(this.serializer),t.addTarget=function(l,h){let d;const m=h.target;if(d=gp(m)?{documents:n4(l,m)}:{query:r4(l,m).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Mw(l,h.resumeToken);const g=vp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(ke.min())>0){d.readTime=ef(l,h.snapshotVersion.toTimestamp());const g=vp(l,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const a=a4(this.serializer,e);a&&(t.labels=a),this.I_(t)}w_(e){const t={};t.database=Tp(this.serializer),t.removeTarget=e,this.I_(t)}}class Q4 extends Gw{constructor(e,t,a,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,a,o,h),this.serializer=l}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=t4(e.writeResults,e.commitTime),a=ai(e.commitTime);return this.listener.v_(a,t)}C_(){const e={};e.database=Tp(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(a=>e4(this.serializer,a))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{}class X4 extends Y4{constructor(e,t,a,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new Ne(oe.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.So(e,_p(t,a),o,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ne(oe.UNKNOWN,l.toString())})}Co(e,t,a,o,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,_p(t,a),o,h,d,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ne(oe.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class W4{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?($i(t),this.N_=!1):ve("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs="RemoteStore";class Z4{constructor(e,t,a,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=l,this.z_.To(h=>{a.enqueueAndForget(async()=>{Qs(this)&&(ve(Bs,"Restarting streams for network reachability change."),await async function(m){const g=ze(m);g.W_.add(4),await Qu(g),g.j_.set("Unknown"),g.W_.delete(4),await Df(g)}(this))})}),this.j_=new W4(a,o)}}async function Df(r){if(Qs(r))for(const e of r.G_)await e(!0)}async function Qu(r){for(const e of r.G_)await e(!1)}function $w(r,e){const t=ze(r);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Sg(t)?wg(t):ul(t).c_()&&bg(t,e))}function Tg(r,e){const t=ze(r),a=ul(t);t.K_.delete(e),a.c_()&&Kw(t,e),t.K_.size===0&&(a.c_()?a.P_():Qs(t)&&t.j_.set("Unknown"))}function bg(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ul(r).y_(e)}function Kw(r,e){r.H_.Ne(e),ul(r).w_(e)}function wg(r){r.H_=new $O({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ul(r).start(),r.j_.B_()}function Sg(r){return Qs(r)&&!ul(r).u_()&&r.K_.size>0}function Qs(r){return ze(r).W_.size===0}function Qw(r){r.H_=void 0}async function J4(r){r.j_.set("Online")}async function eM(r){r.K_.forEach((e,t)=>{bg(r,e)})}async function tM(r,e){Qw(r),Sg(r)?(r.j_.q_(e),wg(r)):r.j_.set("Unknown")}async function nM(r,e,t){if(r.j_.set("Online"),e instanceof Ow&&e.state===2&&e.cause)try{await async function(o,l){const h=l.cause;for(const d of l.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(r,e)}catch(a){ve(Bs,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await nf(r,a)}else if(e instanceof xh?r.H_.We(e):e instanceof xw?r.H_.Ze(e):r.H_.je(e),!t.isEqual(ke.min()))try{const a=await Fw(r.localStore);t.compareTo(a)>=0&&await function(l,h){const d=l.H_.ot(h);return d.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const E=l.K_.get(g);E&&l.K_.set(g,E.withResumeToken(m.resumeToken,h))}}),d.targetMismatches.forEach((m,g)=>{const E=l.K_.get(m);if(!E)return;l.K_.set(m,E.withResumeToken(_n.EMPTY_BYTE_STRING,E.snapshotVersion)),Kw(l,m);const b=new Ma(E.target,m,g,E.sequenceNumber);bg(l,b)}),l.remoteSyncer.applyRemoteEvent(d)}(r,t)}catch(a){ve(Bs,"Failed to raise snapshot:",a),await nf(r,a)}}async function nf(r,e,t){if(!ll(e))throw e;r.W_.add(1),await Qu(r),r.j_.set("Offline"),t||(t=()=>Fw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ve(Bs,"Retrying IndexedDB access"),await t(),r.W_.delete(1),await Df(r)})}function Yw(r,e){return e().catch(t=>nf(r,t,e))}async function Nf(r){const e=ze(r),t=$a(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:og;for(;rM(e);)try{const o=await U4(e.localStore,a);if(o===null){e.U_.length===0&&t.P_();break}a=o.batchId,iM(e,o)}catch(o){await nf(e,o)}Xw(e)&&Ww(e)}function rM(r){return Qs(r)&&r.U_.length<10}function iM(r,e){r.U_.push(e);const t=$a(r);t.c_()&&t.S_&&t.b_(e.mutations)}function Xw(r){return Qs(r)&&!$a(r).u_()&&r.U_.length>0}function Ww(r){$a(r).start()}async function aM(r){$a(r).C_()}async function sM(r){const e=$a(r);for(const t of r.U_)e.b_(t.mutations)}async function oM(r,e,t){const a=r.U_.shift(),o=mg.from(a,e,t);await Yw(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Nf(r)}async function lM(r,e){e&&$a(r).S_&&await async function(a,o){if(function(h){return qO(h)&&h!==oe.ABORTED}(o.code)){const l=a.U_.shift();$a(a).h_(),await Yw(a,()=>a.remoteSyncer.rejectFailedWrite(l.batchId,o)),await Nf(a)}}(r,e),Xw(r)&&Ww(r)}async function jE(r,e){const t=ze(r);t.asyncQueue.verifyOperationInProgress(),ve(Bs,"RemoteStore received new credentials");const a=Qs(t);t.W_.add(3),await Qu(t),a&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Df(t)}async function uM(r,e){const t=ze(r);e?(t.W_.delete(2),await Df(t)):e||(t.W_.add(2),await Qu(t),t.j_.set("Unknown"))}function ul(r){return r.J_||(r.J_=function(t,a,o){const l=ze(t);return l.M_(),new K4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:J4.bind(null,r),No:eM.bind(null,r),Lo:tM.bind(null,r),p_:nM.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Sg(r)?wg(r):r.j_.set("Unknown")):(await r.J_.stop(),Qw(r))})),r.J_}function $a(r){return r.Y_||(r.Y_=function(t,a,o){const l=ze(t);return l.M_(),new Q4(a,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:aM.bind(null,r),Lo:lM.bind(null,r),D_:sM.bind(null,r),v_:oM.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Nf(r)):(await r.Y_.stop(),r.U_.length>0&&(ve(Bs,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,t,a,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=a,this.op=o,this.removalCallback=l,this.deferred=new ka,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,a,o,l){const h=Date.now()+a,d=new Ag(e,t,h,o,l);return d.start(a),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rg(r,e){if($i("AsyncQueue",`${e}: ${r}`),ll(r))return new Ne(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{static emptySet(e){return new Ko(e.comparator)}constructor(e){this.comparator=e?(t,a)=>e(t,a)||Oe.comparator(t.key,a.key):(t,a)=>Oe.comparator(t.key,a.key),this.keyedMap=gu(),this.sortedSet=new It(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,a)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ko)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=a.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const a=new Ko;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=t,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(){this.Z_=new It(Oe.comparator)}track(e){const t=e.doc.key,a=this.Z_.get(t);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(t,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(t):e.type===1&&a.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Le():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,a)=>{e.push(a)}),e}}class el{constructor(e,t,a,o,l,h,d,m,g){this.query=e,this.docs=t,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,a,o,l){const h=[];return t.forEach(d=>{h.push({type:0,doc:d})}),new el(e,t,Ko.emptySet(t),h,a,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,a=e.docChanges;if(t.length!==a.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==a[o].type||!t[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class hM{constructor(){this.queries=BE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,a){const o=ze(t),l=o.queries;o.queries=BE(),l.forEach((h,d)=>{for(const m of d.ta)m.onError(a)})})(this,new Ne(oe.ABORTED,"Firestore shutting down"))}}function BE(){return new $s(r=>yw(r),wf)}async function Zw(r,e){const t=ze(r);let a=3;const o=e.query;let l=t.queries.get(o);l?!l.na()&&e.ra()&&(a=2):(l=new cM,a=e.ra()?0:1);try{switch(a){case 0:l.ea=await t.onListen(o,!0);break;case 1:l.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const d=Rg(h,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,l),l.ta.push(e),e.sa(t.onlineState),l.ea&&e.oa(l.ea)&&Cg(t)}async function Jw(r,e){const t=ze(r),a=e.query;let o=3;const l=t.queries.get(a);if(l){const h=l.ta.indexOf(e);h>=0&&(l.ta.splice(h,1),l.ta.length===0?o=e.ra()?0:1:!l.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(a),t.onUnlisten(a,!0);case 1:return t.queries.delete(a),t.onUnlisten(a,!1);case 2:return t.onLastRemoteStoreUnlisten(a);default:return}}function fM(r,e){const t=ze(r);let a=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const d of h.ta)d.oa(o)&&(a=!0);h.ea=o}}a&&Cg(t)}function dM(r,e,t){const a=ze(r),o=a.queries.get(e);if(o)for(const l of o.ta)l.onError(t);a.queries.delete(e)}function Cg(r){r.ia.forEach(e=>{e.next()})}var Sp,HE;(HE=Sp||(Sp={}))._a="default",HE.Cache="cache";class eS{constructor(e,t,a){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new el(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const a=t!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Sp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e){this.key=e}}class nS{constructor(e){this.key=e}}class mM{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ze(),this.mutatedKeys=Ze(),this.ya=vw(e),this.wa=new Ko(this.ya)}get Sa(){return this.fa}ba(e,t){const a=t?t.Da:new zE,o=t?t.wa:this.wa;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,d=!1;const m=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const R=o.get(E),D=Sf(this.query,b)?b:null,L=!!R&&this.mutatedKeys.has(R.key),Y=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let H=!1;R&&D?R.data.isEqual(D.data)?L!==Y&&(a.track({type:3,doc:D}),H=!0):this.va(R,D)||(a.track({type:2,doc:D}),H=!0,(m&&this.ya(D,m)>0||g&&this.ya(D,g)<0)&&(d=!0)):!R&&D?(a.track({type:0,doc:D}),H=!0):R&&!D&&(a.track({type:1,doc:R}),H=!0,(m||g)&&(d=!0)),H&&(D?(h=h.add(D),l=Y?l.add(E):l.delete(E)):(h=h.delete(E),l=l.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),l=l.delete(E.key),a.track({type:1,doc:E})}return{wa:h,Da:a,ls:d,mutatedKeys:l}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,a,o){const l=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,b)=>function(D,L){const Y=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return Y(D)-Y(L)}(E.type,b.type)||this.ya(E.doc,b.doc)),this.Ca(a),o=o!=null&&o;const d=t&&!o?this.Fa():[],m=this.pa.size===0&&this.current&&!o?1:0,g=m!==this.ga;return this.ga=m,h.length!==0||g?{snapshot:new el(this.query,e.wa,l,h,e.mutatedKeys,m===0,g,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new zE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ze(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const t=[];return e.forEach(a=>{this.pa.has(a)||t.push(new nS(a))}),this.pa.forEach(a=>{e.has(a)||t.push(new tS(a))}),t}Oa(e){this.fa=e.gs,this.pa=Ze();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return el.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ig="SyncEngine";class pM{constructor(e,t,a){this.query=e,this.targetId=t,this.view=a}}class gM{constructor(e){this.key=e,this.Ba=!1}}class yM{constructor(e,t,a,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=a,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new $s(d=>yw(d),wf),this.qa=new Map,this.Qa=new Set,this.$a=new It(Oe.comparator),this.Ua=new Map,this.Ka=new yg,this.Wa={},this.Ga=new Map,this.za=Jo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function vM(r,e,t=!0){const a=lS(r);let o;const l=a.ka.get(e);return l?(a.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.Na()):o=await rS(a,e,t,!0),o}async function _M(r,e){const t=lS(r);await rS(t,e,!0,!1)}async function rS(r,e,t,a){const o=await j4(r.localStore,ri(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let d;return a&&(d=await EM(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&$w(r.remoteStore,o),d}async function EM(r,e,t,a,o){r.Ha=(b,R,D)=>async function(Y,H,W,J){let ae=H.view.ba(W);ae.ls&&(ae=await PE(Y.localStore,H.query,!1).then(({documents:P})=>H.view.ba(P,ae)));const de=J&&J.targetChanges.get(H.targetId),U=J&&J.targetMismatches.get(H.targetId)!=null,ce=H.view.applyChanges(ae,Y.isPrimaryClient,de,U);return qE(Y,H.targetId,ce.Ma),ce.snapshot}(r,b,R,D);const l=await PE(r.localStore,e,!0),h=new mM(e,l.gs),d=h.ba(l.documents),m=Ku.createSynthesizedTargetChangeForCurrentChange(t,a&&r.onlineState!=="Offline",o),g=h.applyChanges(d,r.isPrimaryClient,m);qE(r,t,g.Ma);const E=new pM(e,t,h);return r.ka.set(e,E),r.qa.has(t)?r.qa.get(t).push(e):r.qa.set(t,[e]),g.snapshot}async function TM(r,e,t){const a=ze(r),o=a.ka.get(e),l=a.qa.get(o.targetId);if(l.length>1)return a.qa.set(o.targetId,l.filter(h=>!wf(h,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await bp(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),t&&Tg(a.remoteStore,o.targetId),Ap(a,o.targetId)}).catch(ol)):(Ap(a,o.targetId),await bp(a.localStore,o.targetId,!0))}async function bM(r,e){const t=ze(r),a=t.ka.get(e),o=t.qa.get(a.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(a.targetId),Tg(t.remoteStore,a.targetId))}async function wM(r,e,t){const a=NM(r);try{const o=await function(h,d){const m=ze(h),g=Xt.now(),E=d.reduce((D,L)=>D.add(L.key),Ze());let b,R;return m.persistence.runTransaction("Locally write mutations","readwrite",D=>{let L=Ki(),Y=Ze();return m.ds.getEntries(D,E).next(H=>{L=H,L.forEach((W,J)=>{J.isValidDocument()||(Y=Y.add(W))})}).next(()=>m.localDocuments.getOverlayedDocuments(D,L)).next(H=>{b=H;const W=[];for(const J of d){const ae=jO(J,b.get(J.key).overlayedDocument);ae!=null&&W.push(new Ks(J.key,ae,cw(ae.value.mapValue),ii.exists(!0)))}return m.mutationQueue.addMutationBatch(D,g,W,d)}).next(H=>{R=H;const W=H.applyToLocalDocumentSet(b,Y);return m.documentOverlayCache.saveOverlays(D,H.batchId,W)})}).then(()=>({batchId:R.batchId,changes:Ew(b)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(h,d,m){let g=h.Wa[h.currentUser.toKey()];g||(g=new It($e)),g=g.insert(d,m),h.Wa[h.currentUser.toKey()]=g}(a,o.batchId,t),await Yu(a,o.changes),await Nf(a.remoteStore)}catch(o){const l=Rg(o,"Failed to persist write");t.reject(l)}}async function iS(r,e){const t=ze(r);try{const a=await L4(t.localStore,e);e.targetChanges.forEach((o,l)=>{const h=t.Ua.get(l);h&&(mt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?mt(h.Ba):o.removedDocuments.size>0&&(mt(h.Ba),h.Ba=!1))}),await Yu(t,a,e)}catch(a){await ol(a)}}function FE(r,e,t){const a=ze(r);if(a.isPrimaryClient&&t===0||!a.isPrimaryClient&&t===1){const o=[];a.ka.forEach((l,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const m=ze(h);m.onlineState=d;let g=!1;m.queries.forEach((E,b)=>{for(const R of b.ta)R.sa(d)&&(g=!0)}),g&&Cg(m)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function SM(r,e,t){const a=ze(r);a.sharedClientState.updateQueryState(e,"rejected",t);const o=a.Ua.get(e),l=o&&o.key;if(l){let h=new It(Oe.comparator);h=h.insert(l,An.newNoDocument(l,ke.min()));const d=Ze().add(l),m=new Cf(ke.min(),new Map,new It($e),h,d);await iS(a,m),a.$a=a.$a.remove(l),a.Ua.delete(e),Dg(a)}else await bp(a.localStore,e,!1).then(()=>Ap(a,e,t)).catch(ol)}async function AM(r,e){const t=ze(r),a=e.batch.batchId;try{const o=await V4(t.localStore,e);sS(t,a,null),aS(t,a),t.sharedClientState.updateMutationState(a,"acknowledged"),await Yu(t,o)}catch(o){await ol(o)}}async function RM(r,e,t){const a=ze(r);try{const o=await function(h,d){const m=ze(h);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return m.mutationQueue.lookupMutationBatch(g,d).next(b=>(mt(b!==null),E=b.keys(),m.mutationQueue.removeMutationBatch(g,b))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>m.localDocuments.getDocuments(g,E))})}(a.localStore,e);sS(a,e,t),aS(a,e),a.sharedClientState.updateMutationState(e,"rejected",t),await Yu(a,o)}catch(o){await ol(o)}}function aS(r,e){(r.Ga.get(e)||[]).forEach(t=>{t.resolve()}),r.Ga.delete(e)}function sS(r,e,t){const a=ze(r);let o=a.Wa[a.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function Ap(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const a of r.qa.get(e))r.ka.delete(a),t&&r.La.Ja(a,t);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(a=>{r.Ka.containsKey(a)||oS(r,a)})}function oS(r,e){r.Qa.delete(e.path.canonicalString());const t=r.$a.get(e);t!==null&&(Tg(r.remoteStore,t),r.$a=r.$a.remove(e),r.Ua.delete(t),Dg(r))}function qE(r,e,t){for(const a of t)a instanceof tS?(r.Ka.addReference(a.key,e),CM(r,a)):a instanceof nS?(ve(Ig,"Document no longer in limbo: "+a.key),r.Ka.removeReference(a.key,e),r.Ka.containsKey(a.key)||oS(r,a.key)):Le()}function CM(r,e){const t=e.key,a=t.path.canonicalString();r.$a.get(t)||r.Qa.has(a)||(ve(Ig,"New document in limbo: "+t),r.Qa.add(a),Dg(r))}function Dg(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const t=new Oe(At.fromString(e)),a=r.za.next();r.Ua.set(a,new gM(t)),r.$a=r.$a.insert(t,a),$w(r.remoteStore,new Ma(ri(fg(t.path)),a,"TargetPurposeLimboResolution",_f.ae))}}async function Yu(r,e,t){const a=ze(r),o=[],l=[],h=[];a.ka.isEmpty()||(a.ka.forEach((d,m)=>{h.push(a.Ha(m,e,t).then(g=>{var E;if((g||t)&&a.isPrimaryClient){const b=g?!g.fromCache:(E=t==null?void 0:t.targetChanges.get(m.targetId))===null||E===void 0?void 0:E.current;a.sharedClientState.updateQueryState(m.targetId,b?"current":"not-current")}if(g){o.push(g);const b=_g.Yi(m.targetId,g);l.push(b)}}))}),await Promise.all(h),a.La.p_(o),await async function(m,g){const E=ze(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>re.forEach(g,R=>re.forEach(R.Hi,D=>E.persistence.referenceDelegate.addReference(b,R.targetId,D)).next(()=>re.forEach(R.Ji,D=>E.persistence.referenceDelegate.removeReference(b,R.targetId,D)))))}catch(b){if(!ll(b))throw b;ve(Eg,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const D=E.Ts.get(R),L=D.snapshotVersion,Y=D.withLastLimboFreeSnapshotVersion(L);E.Ts=E.Ts.insert(R,Y)}}}(a.localStore,l))}async function IM(r,e){const t=ze(r);if(!t.currentUser.isEqual(e)){ve(Ig,"User change. New user:",e.toKey());const a=await Hw(t.localStore,e);t.currentUser=e,function(l,h){l.Ga.forEach(d=>{d.forEach(m=>{m.reject(new Ne(oe.CANCELLED,h))})}),l.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Yu(t,a.Rs)}}function DM(r,e){const t=ze(r),a=t.Ua.get(e);if(a&&a.Ba)return Ze().add(a.key);{let o=Ze();const l=t.qa.get(e);if(!l)return o;for(const h of l){const d=t.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function lS(r){const e=ze(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=iS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=DM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=SM.bind(null,e),e.La.p_=fM.bind(null,e.eventManager),e.La.Ja=dM.bind(null,e.eventManager),e}function NM(r){const e=ze(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=AM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RM.bind(null,e),e}class rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=If(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return P4(this.persistence,new x4,e.initialUser,this.serializer)}Xa(e){return new Bw(vg.ri,this.serializer)}Za(e){return new B4}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rf.provider={build:()=>new rf};class xM extends rf{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){mt(this.persistence.referenceDelegate instanceof tf);const a=this.persistence.referenceDelegate.garbageCollector;return new g4(a,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new Bw(a=>tf.ri(a,t),this.serializer)}}class Rp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>FE(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=IM.bind(null,this.syncEngine),await uM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hM}()}createDatastore(e){const t=If(e.databaseInfo.databaseId),a=function(l){return new $4(l)}(e.databaseInfo);return function(l,h,d,m){return new X4(l,h,d,m)}(e.authCredentials,e.appCheckCredentials,a,t)}createRemoteStore(e){return function(a,o,l,h,d){return new Z4(a,o,l,h,d)}(this.localStore,this.datastore,e.asyncQueue,t=>FE(this.syncEngine,t,0),function(){return kE.D()?new kE:new H4}())}createSyncEngine(e,t){return function(o,l,h,d,m,g,E){const b=new yM(o,l,h,d,m,g);return E&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const l=ze(o);ve(Bs,"RemoteStore shutting down."),l.W_.add(5),await Qu(l),l.z_.shutdown(),l.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Rp.provider={build:()=>new Rp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):$i("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka="FirestoreClient";class OM{constructor(e,t,a,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=a,this.databaseInfo=o,this.user=Sn.UNAUTHENTICATED,this.clientId=ew.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(a,async h=>{ve(Ka,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(a,h=>(ve(Ka,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ka;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const a=Rg(t,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Zm(r,e){r.asyncQueue.verifyOperationInProgress(),ve(Ka,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let a=t.initialUser;r.setCredentialChangeListener(async o=>{a.isEqual(o)||(await Hw(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function GE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await MM(r);ve(Ka,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(a=>jE(e.remoteStore,a)),r.setAppCheckTokenChangeListener((a,o)=>jE(e.remoteStore,o)),r._onlineComponents=e}async function MM(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ve(Ka,"Using user provided OfflineComponentProvider");try{await Zm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===oe.FAILED_PRECONDITION||o.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Yo("Error using user provided cache. Falling back to memory cache: "+t),await Zm(r,new rf)}}else ve(Ka,"Using default OfflineComponentProvider"),await Zm(r,new xM(void 0));return r._offlineComponents}async function cS(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ve(Ka,"Using user provided OnlineComponentProvider"),await GE(r,r._uninitializedComponentsProvider._online)):(ve(Ka,"Using default OnlineComponentProvider"),await GE(r,new Rp))),r._onlineComponents}function PM(r){return cS(r).then(e=>e.syncEngine)}async function Cp(r){const e=await cS(r),t=e.eventManager;return t.onListen=vM.bind(null,e.syncEngine),t.onUnlisten=TM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=_M.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=bM.bind(null,e.syncEngine),t}function VM(r,e,t={}){const a=new ka;return r.asyncQueue.enqueueAndForget(async()=>function(l,h,d,m,g){const E=new uS({next:R=>{E.su(),h.enqueueAndForget(()=>Jw(l,b)),R.fromCache&&m.source==="server"?g.reject(new Ne(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new eS(d,E,{includeMetadataChanges:!0,Ta:!0});return Zw(l,b)}(await Cp(r),r.asyncQueue,e,t,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r,e,t){if(!t)throw new Ne(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LM(r,e,t,a){if(e===!0&&a===!0)throw new Ne(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function KE(r){if(!Oe.isDocumentKey(r))throw new Ne(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function QE(r){if(Oe.isDocumentKey(r))throw new Ne(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Ng(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Le()}function Fi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ne(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ng(r);throw new Ne(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="firestore.googleapis.com",YE=!0;class XE{constructor(e){var t,a;if(e.host===void 0){if(e.ssl!==void 0)throw new Ne(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dS,this.ssl=YE}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:YE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<m4)throw new Ne(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hS((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ne(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xf{constructor(e,t,a,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ne(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ne(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new qx;switch(a.type){case"firstParty":return new Qx(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new Ne(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const a=$E.get(t);a&&(ve("ComponentProvider","Removing Datastore"),$E.delete(t),a.terminate())}(this),Promise.resolve()}}function kM(r,e,t,a={}){var o;const l=(r=Fi(r,xf))._getSettings(),h=Object.assign(Object.assign({},l),{emulatorOptions:r._getEmulatorOptions()}),d=`${e}:${t}`;l.host!==dS&&l.host!==d&&Yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},l),{host:d,ssl:!1,emulatorOptions:a});if(!Ba(m,h)&&(r._setSettings(m),a.mockUserToken)){let g,E;if(typeof a.mockUserToken=="string")g=a.mockUserToken,E=Sn.MOCK_USER;else{g=OC(a.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new Ne(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Sn(b)}r._authCredentials=new Gx(new Zb(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,t,a){this.converter=t,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Xu(this.firestore,e,this._query)}}class Xn{constructor(e,t,a){this.converter=t,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ua(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Xn(this.firestore,e,this._key)}}class Ua extends Xu{constructor(e,t,a){super(e,t,fg(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Xn(this.firestore,null,new Oe(e))}withConverter(e){return new Ua(this.firestore,e,this._path)}}function mS(r,e,...t){if(r=Zt(r),fS("collection","path",e),r instanceof xf){const a=At.fromString(e,...t);return QE(a),new Ua(r,null,a)}{if(!(r instanceof Xn||r instanceof Ua))throw new Ne(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...t));return QE(a),new Ua(r.firestore,null,a)}}function Lu(r,e,...t){if(r=Zt(r),arguments.length===1&&(e=ew.newId()),fS("doc","path",e),r instanceof xf){const a=At.fromString(e,...t);return KE(a),new Xn(r,null,new Oe(a))}{if(!(r instanceof Xn||r instanceof Ua))throw new Ne(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(At.fromString(e,...t));return KE(a),new Xn(r.firestore,r instanceof Ua?r.converter:null,new Oe(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="AsyncQueue";class ZE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new qw(this,"async_queue_retry"),this.Su=()=>{const a=Wm();a&&ve(WE,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const t=Wm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=Wm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new ka;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ll(e))throw e;ve(WE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(a);throw $i("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=t,t}enqueueAfterDelay(e,t,a){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Ag.createAndSchedule(this,e,t,a,l=>this.Fu(l));return this.fu.push(o),o}Du(){this.gu&&Le()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,a)=>t.targetTimeMs-a.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function JE(r){return function(t,a){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of a)if(l in o&&typeof o[l]=="function")return!0;return!1}(r,["next","error","complete"])}class tl extends xf{constructor(e,t,a,o){super(e,t,a,o),this.type="firestore",this._queue=new ZE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ZE(e),this._firestoreClient=void 0,await e}}}function UM(r,e){const t=typeof r=="object"?r:Gp(),a=typeof r=="string"?r:Qh,o=qs(t,"firestore").getImmediate({identifier:a});if(!o._initialized){const l=NC("firestore");l&&kM(o,...l)}return o}function xg(r){if(r._terminated)throw new Ne(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jM(r),r._firestoreClient}function jM(r){var e,t,a;const o=r._freezeSettings(),l=function(d,m,g,E){return new uO(d,m,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,hS(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new OM(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(d){const m=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new nl(_n.fromBase64String(e))}catch(t){throw new Ne(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new nl(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ne(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ne(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ne(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let l=0;l<a.length;++l)if(a[l]!==o[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=/^__.*__$/;class BM{constructor(e,t,a){this.data=e,this.fieldMask=t,this.fieldTransforms=a}toMutation(e,t){return this.fieldMask!==null?new Ks(e,this.data,this.fieldMask,t,this.fieldTransforms):new $u(e,this.data,t,this.fieldTransforms)}}function gS(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class Vg{constructor(e,t,a,o,l,h){this.settings=e,this.databaseId=t,this.serializer=a,this.ignoreUndefinedProperties=o,l===void 0&&this.Bu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var t;const a=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return af(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(gS(this.Lu)&&zM.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class HM{constructor(e,t,a){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=a||If(e)}ju(e,t,a,o=!1){return new Vg({Lu:e,methodName:t,zu:a,path:yn.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yS(r){const e=r._freezeSettings(),t=If(r._databaseId);return new HM(r._databaseId,!!e.ignoreUndefinedProperties,t)}function vS(r,e,t,a,o,l={}){const h=r.ju(l.merge||l.mergeFields?2:0,e,t,o);bS("Data must be an object, but it was:",h,a);const d=ES(a,h);let m,g;if(l.merge)m=new Nr(h.fieldMask),g=h.fieldTransforms;else if(l.mergeFields){const E=[];for(const b of l.mergeFields){const R=FM(e,b,t);if(!h.contains(R))throw new Ne(oe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);GM(E,R)||E.push(R)}m=new Nr(E),g=h.fieldTransforms.filter(b=>m.covers(b.field))}else m=null,g=h.fieldTransforms;return new BM(new vr(d),m,g)}function _S(r,e){if(TS(r=Zt(r)))return bS("Unsupported field value:",e,r),ES(r,e);if(r instanceof pS)return function(a,o){if(!gS(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const l=a._toFieldTransform(o);l&&o.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const l=[];let h=0;for(const d of a){let m=_S(d,o.Ku(h));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),h++}return{arrayValue:{values:l}}}(r,e)}return function(a,o){if((a=Zt(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return MO(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const l=Xt.fromDate(a);return{timestampValue:ef(o.serializer,l)}}if(a instanceof Xt){const l=new Xt(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ef(o.serializer,l)}}if(a instanceof Mg)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof nl)return{bytesValue:Mw(o.serializer,a._byteString)};if(a instanceof Xn){const l=o.databaseId,h=a.firestore._databaseId;if(!h.isEqual(l))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:gg(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Pg)return function(h,d){return{mapValue:{fields:{[lw]:{stringValue:uw},[Yh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return dg(d.serializer,g)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${Ng(a)}`)}(r,e)}function ES(r,e){const t={};return nw(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Gs(r,(a,o)=>{const l=_S(o,e.qu(a));l!=null&&(t[a]=l)}),{mapValue:{fields:t}}}function TS(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Xt||r instanceof Mg||r instanceof nl||r instanceof Xn||r instanceof pS||r instanceof Pg)}function bS(r,e,t){if(!TS(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const a=Ng(t);throw a==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+a)}}function FM(r,e,t){if((e=Zt(e))instanceof Og)return e._internalPath;if(typeof e=="string")return wS(r,e);throw af("Field path arguments must be of type string or ",r,!1,void 0,t)}const qM=new RegExp("[~\\*/\\[\\]]");function wS(r,e,t){if(e.search(qM)>=0)throw af(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Og(...e.split("."))._internalPath}catch{throw af(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function af(r,e,t,a,o){const l=a&&!a.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(l||h)&&(m+=" (found",l&&(m+=` in field ${a}`),h&&(m+=` in document ${o}`),m+=")"),new Ne(oe.INVALID_ARGUMENT,d+r+m)}function GM(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,a,o,l){this._firestore=e,this._userDataWriter=t,this._key=a,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $M(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(AS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $M extends SS{data(){return super.data()}}function AS(r,e){return typeof e=="string"?wS(r,e):e instanceof Og?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ne(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class KM{convertValue(e,t="none"){switch(Ga(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const a={};return Gs(e,(o,l)=>{a[o]=this.convertValue(l,t)}),a}convertVectorValue(e){var t,a,o;const l=(o=(a=(t=e.fields)===null||t===void 0?void 0:t[Yh].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(h=>kt(h.doubleValue));return new Pg(l)}convertGeoPoint(e){return new Mg(kt(e.latitude),kt(e.longitude))}convertArray(e,t){return(e.values||[]).map(a=>this.convertValue(a,t))}convertServerTimestamp(e,t){switch(t){case"previous":const a=Tf(e);return a==null?null:this.convertValue(a,t);case"estimate":return this.convertTimestamp(xu(e));default:return null}}convertTimestamp(e){const t=Fa(e);return new Xt(t.seconds,t.nanos)}convertDocumentKey(e,t){const a=At.fromString(e);mt(jw(a));const o=new Ou(a.get(1),a.get(3)),l=new Oe(a.popFirst(5));return o.isEqual(t)||$i(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(r,e,t){let a;return a=r?r.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IS extends SS{constructor(e,t,a,o,l,h){super(e,t,a,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const a=this._document.data.field(AS("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,t.serverTimestamps)}}}class Oh extends IS{data(e={}){return super.data(e)}}class DS{constructor(e,t,a,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new vu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(a=>{e.call(t,new Oh(this._firestore,this._userDataWriter,a.key,a,new vu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ne(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const m=new Oh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new vu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>l||d.type!==3).map(d=>{const m=new Oh(o._firestore,o._userDataWriter,d.doc.key,d.doc,new vu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:QM(d.type),doc:m,oldIndex:g,newIndex:E}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function QM(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}class Lg extends KM{constructor(e){super(),this.firestore=e}convertBytes(e){return new nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Xn(this.firestore,null,t)}}function YM(r){r=Fi(r,Xu);const e=Fi(r.firestore,tl),t=xg(e),a=new Lg(e);return RS(r._query),VM(t,r._query).then(o=>new DS(e,a,r,o))}function XM(r,e,t){r=Fi(r,Xn);const a=Fi(r.firestore,tl),o=CS(r.converter,e);return xS(a,[vS(yS(a),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,ii.none())])}function WM(r,e){const t=Fi(r.firestore,tl),a=Lu(r),o=CS(r.converter,e);return xS(t,[vS(yS(r.firestore),"addDoc",a._key,o,r.converter!==null,{}).toMutation(a._key,ii.exists(!1))]).then(()=>a)}function NS(r,...e){var t,a,o;r=Zt(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||JE(e[h])||(l=e[h],h++);const d={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(JE(e[h])){const b=e[h];e[h]=(t=b.next)===null||t===void 0?void 0:t.bind(b),e[h+1]=(a=b.error)===null||a===void 0?void 0:a.bind(b),e[h+2]=(o=b.complete)===null||o===void 0?void 0:o.bind(b)}let m,g,E;if(r instanceof Xn)g=Fi(r.firestore,tl),E=fg(r._key.path),m={next:b=>{e[h]&&e[h](ZM(g,r,b))},error:e[h+1],complete:e[h+2]};else{const b=Fi(r,Xu);g=Fi(b.firestore,tl),E=b._query;const R=new Lg(g);m={next:D=>{e[h]&&e[h](new DS(g,R,b,D))},error:e[h+1],complete:e[h+2]},RS(r._query)}return function(R,D,L,Y){const H=new uS(Y),W=new eS(D,H,L);return R.asyncQueue.enqueueAndForget(async()=>Zw(await Cp(R),W)),()=>{H.su(),R.asyncQueue.enqueueAndForget(async()=>Jw(await Cp(R),W))}}(xg(g),E,d,m)}function xS(r,e){return function(a,o){const l=new ka;return a.asyncQueue.enqueueAndForget(async()=>wM(await PM(a),o,l)),l.promise}(xg(r),e)}function ZM(r,e,t){const a=t.docs.get(e._key),o=new Lg(r);return new IS(r,o,e._key,a,new vu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){sl=o})(il),si(new xr("firestore",(a,{instanceIdentifier:o,options:l})=>{const h=a.getProvider("app").getImmediate(),d=new tl(new $x(a.getProvider("auth-internal")),new Yx(h,a.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ne(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(g.options.projectId,E)}(h,o),h);return l=Object.assign({useFetchStreams:t},l),d._setSettings(l),d},"PUBLIC").setMultipleInstances(!0)),_r(iE,aE,e),_r(iE,aE,"esm2017")})();const JM={apiKey:"AIzaSyBie6oohEVHdR2fLCCdn3D_qwO_IcqLDX8",authDomain:"musify-f5b89.firebaseapp.com",projectId:"musify-f5b89",storageBucket:"musify-f5b89.firebasestorage.app",messagingSenderId:"485704833199",appId:"1:485704833199:web:4972aaeb94ba4a6b429c5a",measurementId:"G-ZZJMNRS759"},kg=UT(JM);TD(kg);let ku=Hx(kg),rl=UM(kg),eP={data:""},tP=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||eP,nP=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,rP=/\/\*[^]*?\*\/|  +/g,eT=/\n+/g,Oa=(r,e)=>{let t="",a="",o="";for(let l in r){let h=r[l];l[0]=="@"?l[1]=="i"?t=l+" "+h+";":a+=l[1]=="f"?Oa(h,l):l+"{"+Oa(h,l[1]=="k"?"":e)+"}":typeof h=="object"?a+=Oa(h,e?e.replace(/([^,])+/g,d=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,m=>/&/.test(m)?m.replace(/&/g,d):d?d+" "+m:m)):l):h!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=Oa.p?Oa.p(l,h):l+":"+h+";")}return t+(e&&o?e+"{"+o+"}":o)+a},Ui={},OS=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+OS(r[t]);return e}return r},iP=(r,e,t,a,o)=>{let l=OS(r),h=Ui[l]||(Ui[l]=(m=>{let g=0,E=11;for(;g<m.length;)E=101*E+m.charCodeAt(g++)>>>0;return"go"+E})(l));if(!Ui[h]){let m=l!==r?r:(g=>{let E,b,R=[{}];for(;E=nP.exec(g.replace(rP,""));)E[4]?R.shift():E[3]?(b=E[3].replace(eT," ").trim(),R.unshift(R[0][b]=R[0][b]||{})):R[0][E[1]]=E[2].replace(eT," ").trim();return R[0]})(r);Ui[h]=Oa(o?{["@keyframes "+h]:m}:m,t?"":"."+h)}let d=t&&Ui.g?Ui.g:null;return t&&(Ui.g=Ui[h]),((m,g,E,b)=>{b?g.data=g.data.replace(b,m):g.data.indexOf(m)===-1&&(g.data=E?m+g.data:g.data+m)})(Ui[h],e,a,d),h},aP=(r,e,t)=>r.reduce((a,o,l)=>{let h=e[l];if(h&&h.call){let d=h(t),m=d&&d.props&&d.props.className||/^go/.test(d)&&d;h=m?"."+m:d&&typeof d=="object"?d.props?"":Oa(d,""):d===!1?"":d}return a+o+(h??"")},"");function Of(r){let e=this||{},t=r.call?r(e.p):r;return iP(t.unshift?t.raw?aP(t,[].slice.call(arguments,1),e.p):t.reduce((a,o)=>Object.assign(a,o&&o.call?o(e.p):o),{}):t,tP(e.target),e.g,e.o,e.k)}let MS,Ip,Dp;Of.bind({g:1});let Qi=Of.bind({k:1});function sP(r,e,t,a){Oa.p=e,MS=r,Ip=t,Dp=a}function Wa(r,e){let t=this||{};return function(){let a=arguments;function o(l,h){let d=Object.assign({},l),m=d.className||o.className;t.p=Object.assign({theme:Ip&&Ip()},d),t.o=/ *go\d+/.test(m),d.className=Of.apply(t,a)+(m?" "+m:"");let g=r;return r[0]&&(g=d.as||r,delete d.as),Dp&&g[0]&&Dp(d),MS(g,d)}return o}}var oP=r=>typeof r=="function",sf=(r,e)=>oP(r)?r(e):r,lP=(()=>{let r=0;return()=>(++r).toString()})(),PS=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),uP=20,VS=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,uP)};case 1:return{...r,toasts:r.toasts.map(l=>l.id===e.toast.id?{...l,...e.toast}:l)};case 2:let{toast:t}=e;return VS(r,{type:r.toasts.find(l=>l.id===t.id)?1:0,toast:t});case 3:let{toastId:a}=e;return{...r,toasts:r.toasts.map(l=>l.id===a||a===void 0?{...l,dismissed:!0,visible:!1}:l)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(l=>l.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let o=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(l=>({...l,pauseDuration:l.pauseDuration+o}))}}},Mh=[],Ps={toasts:[],pausedAt:void 0},Ys=r=>{Ps=VS(Ps,r),Mh.forEach(e=>{e(Ps)})},cP={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},hP=(r={})=>{let[e,t]=k.useState(Ps),a=k.useRef(Ps);k.useEffect(()=>(a.current!==Ps&&t(Ps),Mh.push(t),()=>{let l=Mh.indexOf(t);l>-1&&Mh.splice(l,1)}),[]);let o=e.toasts.map(l=>{var h,d,m;return{...r,...r[l.type],...l,removeDelay:l.removeDelay||((h=r[l.type])==null?void 0:h.removeDelay)||(r==null?void 0:r.removeDelay),duration:l.duration||((d=r[l.type])==null?void 0:d.duration)||(r==null?void 0:r.duration)||cP[l.type],style:{...r.style,...(m=r[l.type])==null?void 0:m.style,...l.style}}});return{...e,toasts:o}},fP=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||lP()}),Wu=r=>(e,t)=>{let a=fP(e,r,t);return Ys({type:2,toast:a}),a.id},Mn=(r,e)=>Wu("blank")(r,e);Mn.error=Wu("error");Mn.success=Wu("success");Mn.loading=Wu("loading");Mn.custom=Wu("custom");Mn.dismiss=r=>{Ys({type:3,toastId:r})};Mn.remove=r=>Ys({type:4,toastId:r});Mn.promise=(r,e,t)=>{let a=Mn.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(o=>{let l=e.success?sf(e.success,o):void 0;return l?Mn.success(l,{id:a,...t,...t==null?void 0:t.success}):Mn.dismiss(a),o}).catch(o=>{let l=e.error?sf(e.error,o):void 0;l?Mn.error(l,{id:a,...t,...t==null?void 0:t.error}):Mn.dismiss(a)}),r};var dP=(r,e)=>{Ys({type:1,toast:{id:r,height:e}})},mP=()=>{Ys({type:5,time:Date.now()})},Au=new Map,pP=1e3,gP=(r,e=pP)=>{if(Au.has(r))return;let t=setTimeout(()=>{Au.delete(r),Ys({type:4,toastId:r})},e);Au.set(r,t)},yP=r=>{let{toasts:e,pausedAt:t}=hP(r);k.useEffect(()=>{if(t)return;let l=Date.now(),h=e.map(d=>{if(d.duration===1/0)return;let m=(d.duration||0)+d.pauseDuration-(l-d.createdAt);if(m<0){d.visible&&Mn.dismiss(d.id);return}return setTimeout(()=>Mn.dismiss(d.id),m)});return()=>{h.forEach(d=>d&&clearTimeout(d))}},[e,t]);let a=k.useCallback(()=>{t&&Ys({type:6,time:Date.now()})},[t]),o=k.useCallback((l,h)=>{let{reverseOrder:d=!1,gutter:m=8,defaultPosition:g}=h||{},E=e.filter(D=>(D.position||g)===(l.position||g)&&D.height),b=E.findIndex(D=>D.id===l.id),R=E.filter((D,L)=>L<b&&D.visible).length;return E.filter(D=>D.visible).slice(...d?[R+1]:[0,R]).reduce((D,L)=>D+(L.height||0)+m,0)},[e]);return k.useEffect(()=>{e.forEach(l=>{if(l.dismissed)gP(l.id,l.removeDelay);else{let h=Au.get(l.id);h&&(clearTimeout(h),Au.delete(l.id))}})},[e]),{toasts:e,handlers:{updateHeight:dP,startPause:mP,endPause:a,calculateOffset:o}}},vP=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,_P=Qi`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,EP=Qi`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,TP=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${vP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${_P} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${EP} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,bP=Qi`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,wP=Wa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${bP} 1s linear infinite;
`,SP=Qi`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,AP=Qi`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,RP=Wa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${SP} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${AP} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,CP=Wa("div")`
  position: absolute;
`,IP=Wa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,DP=Qi`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,NP=Wa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${DP} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,xP=({toast:r})=>{let{icon:e,type:t,iconTheme:a}=r;return e!==void 0?typeof e=="string"?k.createElement(NP,null,e):e:t==="blank"?null:k.createElement(IP,null,k.createElement(wP,{...a}),t!=="loading"&&k.createElement(CP,null,t==="error"?k.createElement(TP,{...a}):k.createElement(RP,{...a})))},OP=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,MP=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,PP="0%{opacity:0;} 100%{opacity:1;}",VP="0%{opacity:1;} 100%{opacity:0;}",LP=Wa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,kP=Wa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,UP=(r,e)=>{let t=r.includes("top")?1:-1,[a,o]=PS()?[PP,VP]:[OP(t),MP(t)];return{animation:e?`${Qi(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Qi(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},jP=k.memo(({toast:r,position:e,style:t,children:a})=>{let o=r.height?UP(r.position||e||"top-center",r.visible):{opacity:0},l=k.createElement(xP,{toast:r}),h=k.createElement(kP,{...r.ariaProps},sf(r.message,r));return k.createElement(LP,{className:r.className,style:{...o,...t,...r.style}},typeof a=="function"?a({icon:l,message:h}):k.createElement(k.Fragment,null,l,h))});sP(k.createElement);var zP=({id:r,className:e,style:t,onHeightUpdate:a,children:o})=>{let l=k.useCallback(h=>{if(h){let d=()=>{let m=h.getBoundingClientRect().height;a(r,m)};d(),new MutationObserver(d).observe(h,{subtree:!0,childList:!0,characterData:!0})}},[r,a]);return k.createElement("div",{ref:l,className:e,style:t},o)},BP=(r,e)=>{let t=r.includes("top"),a=t?{top:0}:{bottom:0},o=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:PS()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...a,...o}},HP=Of`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_h=16,FP=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:a,children:o,containerStyle:l,containerClassName:h})=>{let{toasts:d,handlers:m}=yP(t);return k.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:_h,left:_h,right:_h,bottom:_h,pointerEvents:"none",...l},className:h,onMouseEnter:m.startPause,onMouseLeave:m.endPause},d.map(g=>{let E=g.position||e,b=m.calculateOffset(g,{reverseOrder:r,gutter:a,defaultPosition:e}),R=BP(E,b);return k.createElement(zP,{id:g.id,key:g.id,onHeightUpdate:m.updateHeight,className:g.visible?HP:"",style:R},g.type==="custom"?sf(g.message,g):o?o(g):k.createElement(jP,{toast:g,position:E}))}))},ja=Mn;let Xs=k.createContext();function qP({children:r}){let[e,t]=k.useState(null);async function a(){await xN(ku),t(null),ja.success("logged out succesfully")}return NN(ku,o=>{o.emailVerified==!0?t(o):t(null)}),console.log("Auth Context Value Before Return:",e),T.jsx(Xs.Provider,{value:{authuser:e,Logout:a},children:r})}console.log("myGarage:",Xs);function GP(){let{authuser:r,Logout:e}=k.useContext(Xs),t=r==null?void 0:r.uid;console.log("Auth Context Value:",r);let[a,o]=k.useState();k.useEffect(()=>{function d(){if(r!=null&&r.uid){let m=Lu(rl,"user_profile",t);NS(m,g=>{g.exists()?o(g.data()):(console.log("userInfo not found"),o(null))})}else console.log("userId not found")}d()},[t]),console.log(a);function l(){return T.jsxs(T.Fragment,{children:[(a==null?void 0:a.role)=="admin"&&T.jsx(T.Fragment,{children:T.jsx("li",{children:T.jsx(Qt,{to:"/admin",className:"yasirrr",children:T.jsx("h1",{className:"yasirrr",children:"admin"})})})}),T.jsxs(Qt,{to:"/profile",className:"text",children:[T.jsx("div",{className:"yasir",children:r.displayName}),T.jsx("img",{src:r.photoURL})]}),T.jsx("li",{children:T.jsx("button",{className:"button",onClick:e,children:"Logout"})})]})}function h(){return T.jsxs(T.Fragment,{children:[T.jsxs("li",{id:"lists",children:[" ",T.jsx(Qt,{to:"/login",className:"link",children:" Login"})]}),T.jsxs("li",{id:"listss",children:[" ",T.jsx(Qt,{to:"/register",className:"link",children:" Register"})]})]})}return console.log(r),T.jsxs(T.Fragment,{children:[T.jsx("ul",{className:"menu",children:T.jsxs("li",{id:"list",children:[" ",T.jsx(Qt,{to:"/",className:"link",children:"Home"})]})}),r?T.jsx(l,{}):T.jsx(h,{})]})}function $P(){return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"nav",children:[T.jsx(TC,{}),T.jsx(GP,{})," "]})})}function KP(){return T.jsxs(T.Fragment,{children:[T.jsx(FP,{}),T.jsx($P,{}),T.jsx(cf,{})]})}var LS={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},tT=Vs.createContext&&Vs.createContext(LS),QP=["attr","size","title"];function YP(r,e){if(r==null)return{};var t=XP(r,e),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(r);for(o=0;o<l.length;o++)a=l[o],!(e.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(r,a)&&(t[a]=r[a])}return t}function XP(r,e){if(r==null)return{};var t={};for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a)){if(e.indexOf(a)>=0)continue;t[a]=r[a]}return t}function of(){return of=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(r[a]=t[a])}return r},of.apply(this,arguments)}function nT(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),t.push.apply(t,a)}return t}function lf(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?nT(Object(t),!0).forEach(function(a){WP(r,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):nT(Object(t)).forEach(function(a){Object.defineProperty(r,a,Object.getOwnPropertyDescriptor(t,a))})}return r}function WP(r,e,t){return e=ZP(e),e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function ZP(r){var e=JP(r,"string");return typeof e=="symbol"?e:e+""}function JP(r,e){if(typeof r!="object"||!r)return r;var t=r[Symbol.toPrimitive];if(t!==void 0){var a=t.call(r,e);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function kS(r){return r&&r.map((e,t)=>Vs.createElement(e.tag,lf({key:t},e.attr),kS(e.child)))}function Pr(r){return e=>Vs.createElement(eV,of({attr:lf({},r.attr)},e),kS(r.child))}function eV(r){var e=t=>{var{attr:a,size:o,title:l}=r,h=YP(r,QP),d=o||t.size||"1em",m;return t.className&&(m=t.className),r.className&&(m=(m?m+" ":"")+r.className),Vs.createElement("svg",of({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,h,{className:m,style:lf(lf({color:r.color||t.color},t.style),r.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Vs.createElement("title",null,l),r.children)};return tT!==void 0?Vs.createElement(tT.Consumer,null,t=>e(t)):e(LS)}function Np(r){return Pr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(r)}function tV(r){return Pr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(r)}function nV(r){return Pr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(r)}function rV(r){return Pr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(r)}function xp(r){return Pr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M38.8 5.1C28.4-3.1 13.3-1.2 5.1 9.2S-1.2 34.7 9.2 42.9l592 464c10.4 8.2 25.5 6.3 33.7-4.1s6.3-25.5-4.1-33.7L525.6 386.7c39.6-40.6 66.4-86.1 79.9-118.4c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C465.5 68.8 400.8 32 320 32c-68.2 0-125 26.3-169.3 60.8L38.8 5.1zM223.1 149.5C248.6 126.2 282.7 112 320 112c79.5 0 144 64.5 144 144c0 24.9-6.3 48.3-17.4 68.7L408 294.5c8.4-19.3 10.6-41.4 4.8-63.3c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3c0 10.2-2.4 19.8-6.6 28.3l-90.3-70.8zM373 389.9c-16.4 6.5-34.3 10.1-53 10.1c-79.5 0-144-64.5-144-144c0-6.9 .5-13.6 1.4-20.2L83.1 161.5C60.3 191.2 44 220.8 34.5 243.7c-3.3 7.9-3.3 16.7 0 24.6c14.9 35.7 46.2 87.7 93 131.1C174.5 443.2 239.2 480 320 480c47.8 0 89.9-12.9 126.2-32.5L373 389.9z"},child:[]}]})(r)}function iV(r){return Pr({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM0 482.3C0 383.8 79.8 304 178.3 304l91.4 0C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7L29.7 512C13.3 512 0 498.7 0 482.3zM471 143c9.4-9.4 24.6-9.4 33.9 0l47 47 47-47c9.4-9.4 24.6-9.4 33.9 0s9.4 24.6 0 33.9l-47 47 47 47c9.4 9.4 9.4 24.6 0 33.9s-24.6 9.4-33.9 0l-47-47-47 47c-9.4 9.4-24.6 9.4-33.9 0s-9.4-24.6 0-33.9l47-47-47-47c-9.4-9.4-9.4-24.6 0-33.9z"},child:[]}]})(r)}function aV(){let r=jp(),[e,t]=k.useState(!1),[a,o]=k.useState({user:"",pas:""});function l(d){let m=d.target.value,g=d.target.name;o({...a,[g]:m})}async function h(d){d.preventDefault();try{let m=await AN(ku,a.user,a.pas);console.log(m),console.log(a),m.user.emailVerified==!0?(ja.success("email is verufied"),r("/")):ja.error("email is not verifired")}catch(m){console.log(m)}}return console.log(a),T.jsx(T.Fragment,{children:T.jsx("div",{className:"login",children:T.jsxs("form",{action:"",className:"form-login ",children:[T.jsx("label",{htmlFor:"name",className:"label-login",name:"user",children:"Email"}),T.jsx("input",{type:"text",placeholder:"enter mail",id:"name",className:"input-login",name:"user",onChange:l}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("label",{htmlFor:"pas",className:"label-login",name:"pas",children:" Password"}),T.jsx("input",{type:e?"text":"password",name:"pas",placeholder:"enter password",id:"pas",className:"input-login",onChange:l}),T.jsxs("span",{onClick:()=>t(!e),className:"eye",children:[" ",e?T.jsx(Np,{}):T.jsx(xp,{})]}),T.jsxs("div",{className:"forget",children:[T.jsx("span",{children:" Forget password?"}),T.jsx(Qt,{to:"/reset",className:"reset",children:" reset password"})]}),T.jsx("br",{}),T.jsx("button",{className:"log",style:{cursor:"pointer"},onClick:h,children:"Login"}),T.jsx("h1",{className:"LOGIN",children:"    LOGIN PAGE"}),T.jsxs("div",{className:"create1",children:[T.jsx("span",{className:"new",children:"  New to MusiFY?"}),T.jsx(Qt,{to:"/register",className:"click",children:" Register account"})]})]})})})}function sV(){let r=jp(),[e,t]=k.useState(!1),[a,o]=k.useState(!1),[l,h]=k.useState({user:"",mail:"",pas:"",conpas:""});function d(g){let E=g.target.value,b=g.target.name;h({...l,[b]:E})}async function m(g){try{if(l.pas===l.conpas){g.preventDefault(),console.log(l);let E=await SN(ku,l.mail,l.pas);RN(E.user),console.log(E.user),ja.success("Verification email has been sent to "+l.mail),await Vb(E.user,{displayName:l.user,photoURL:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTRCNF19uRrBynAQMTG6A6Y3SFdUtEUbcbttw&s"}),await E.user.reload(),console.log("Updated User: ",E.user.displayName,E.user.photoURL),r("/login")}else ja.error("Passwords do not match.")}catch(E){console.error("Error during registration: ",E),ja.error("An error occurred. Please try again.")}}return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"regsiter",children:[T.jsxs("form",{className:"form",onSubmit:m,children:[T.jsx("label",{htmlFor:"name",className:"label",name:"user",children:"Username"}),T.jsx("input",{type:"text",placeholder:"enter userername",id:"name",className:"input",name:"user",onChange:d,value:l.user}),T.jsx("br",{}),T.jsx("label",{htmlFor:"mail ",className:"label",name:" mail",children:"Email"}),T.jsx("input",{type:"email",placeholder:"enter email",name:"mail",id:"mail",className:"input",onChange:d,value:l.mail}),T.jsx("br",{}),T.jsx("label",{htmlFor:"pas",className:"label",name:"pas",children:" Password"}),T.jsx("input",{type:e?"text":"password",name:"pas",placeholder:"enter password",id:"pas",className:"input",onChange:d,value:l.pas}),T.jsxs("span",{onClick:()=>t(!e),className:"eye",children:[" ",e?T.jsx(Np,{}):T.jsx(xp,{})]}),T.jsx("label",{htmlFor:"cp",className:"label",name:"conpas",children:"Confirm Password"}),T.jsx("input",{type:a?"text":"password",name:"conpas",placeholder:"re-enter password",id:"cp",className:"input",onChange:d,value:l.conpas}),T.jsxs("span",{onClick:()=>o(!a),className:"eye",children:[" ",a?T.jsx(Np,{}):T.jsx(xp,{})," "]}),T.jsxs("div",{className:"account",children:[T.jsx("span",{children:"Already have an account"}),T.jsx(Qt,{to:"/login",className:"navlink",children:"  Login"})]}),T.jsx("br",{}),T.jsx("button",{className:"log",style:{cursor:"pointer"},onClick:m,children:"Register"})]}),T.jsx("h1",{className:"reg",children:"    REGISTER PAGE"})]})})}function oV(){let[r,e]=k.useState("");function t(o){e(o.target.value)}async function a(o){o.preventDefault();try{await wN(ku,r),ja.success(`reset mail send to ${r} suxessfully`)}catch(l){console.log(l)}}return console.log(r),T.jsx(T.Fragment,{children:T.jsx("div",{className:"reset-page",children:T.jsxs("form",{action:"",className:"form-reset ",children:[T.jsx("label",{htmlFor:"name",className:"label-add",name:"user",children:"Email"}),T.jsx("input",{type:"text",placeholder:"enter mail",id:"name",className:"input-add",name:"user",onChange:t,value:r}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("button",{className:"log",style:{cursor:"pointer"},onClick:a,children:"Login"}),T.jsx("h1",{className:"password",children:"   RESET PASSWORD"}),T.jsx("div",{className:"create",children:T.jsx(Qt,{to:"/login",className:"back",children:" back to login"})})]})})})}function lV(){const{authuser:r}=k.useContext(Xs),{uid:e,email:t,photoURL:a,displayName:o}=r||{},[l,h]=k.useState({first:"",last:"",dob:"",age:"",gender:"",address:"",country:"",state:"",city:"",language:"",role:"user"}),d=g=>{h({...l,[g.target.name]:g.target.value})},m=async g=>{g.preventDefault(),console.log(l);const E={first:l.first,last:l.last,dob:l.dob,age:l.age,gender:l.gender,address:l.address,country:l.country,state:l.state,city:l.city,language:l.language,displayName:o,photoURL:a,email:t,uid:e,role:l.role};try{const b=Lu(rl,"user_profile",e);await XM(b,E),console.log("Profile added successfully!")}catch(b){console.error("Error adding profile: ",b)}};return T.jsx("div",{className:"add",children:T.jsxs("form",{className:"form-add",onSubmit:m,children:[T.jsxs("div",{className:"area-first",children:[T.jsx("span",{className:"profile-add"}),T.jsx("label",{htmlFor:"first",className:"label-add",children:"First Name"}),T.jsx("input",{type:"text",id:"first",className:"input-add",name:"first",onChange:d,value:l.first,placeholder:"Enter first name"}),T.jsx("label",{htmlFor:"last",className:"label-add",children:"Last Name"}),T.jsx("input",{type:"text",id:"last",className:"input-add",name:"last",onChange:d,value:l.last,placeholder:"Enter last name"})]}),T.jsxs("div",{className:"area-first",children:[T.jsx("label",{htmlFor:"dob",className:"label-add",children:"DOB"}),T.jsx("input",{type:"date",id:"dob",className:"input-add",name:"dob",onChange:d,value:l.dob,placeholder:"Enter DOB"}),T.jsx("label",{htmlFor:"age",className:"label-add",children:"Age"}),T.jsx("input",{type:"number",id:"age",className:"input-add",name:"age",onChange:d,value:l.age,placeholder:"Enter age"})]}),T.jsxs("div",{className:"area-first",children:[T.jsx("label",{className:"label-add",children:"Gender"}),T.jsx("input",{type:"radio",id:"male",name:"gender",value:"Male",onChange:d,checked:l.gender==="Male"}),"Male",T.jsx("input",{type:"radio",id:"female",name:"gender",value:"Female",onChange:d,checked:l.gender==="Female"}),"Female",T.jsx("input",{type:"radio",id:"others",name:"gender",value:"Other",onChange:d,checked:l.gender==="Other"}),"Other"]}),T.jsxs("div",{className:"area-first",children:[T.jsx("label",{htmlFor:"address",className:"label-add",children:"Address"}),T.jsx("textarea",{id:"address",className:"input-add",name:"address",onChange:d,value:l.address,placeholder:"Enter address",rows:"5",cols:"10"})]}),T.jsxs("div",{className:"area-first",children:[T.jsx("label",{htmlFor:"country",className:"label-add",children:"Country"}),T.jsx("input",{type:"text",id:"country",className:"input-add",name:"country",onChange:d,value:l.country,placeholder:"Enter country"}),T.jsx("label",{htmlFor:"state",className:"label-add",children:"State"}),T.jsx("input",{type:"text",id:"state",className:"input-add",name:"state",onChange:d,value:l.state,placeholder:"Enter state"})]}),T.jsxs("div",{className:"area-first",children:[T.jsx("label",{htmlFor:"city",className:"label-add",children:"City"}),T.jsx("input",{type:"text",id:"city",className:"input-add",name:"city",onChange:d,value:l.city,placeholder:"Enter city"}),T.jsx("label",{htmlFor:"language",className:"label-add",children:"Language"}),T.jsx("input",{type:"text",id:"language",className:"input-add",name:"language",onChange:d,value:l.language,placeholder:"Enter language"})]}),T.jsx("br",{}),T.jsx("button",{type:"submit",className:"add-log",style:{cursor:"pointer"},children:"Add Profile"})]})})}function uV(){return T.jsx("section",{children:T.jsx("div",{className:"profile",children:T.jsx(cf,{})})})}function Ug(r){return Pr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 3c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm7 13H5v-.23c0-.62.28-1.2.76-1.58C7.47 15.82 9.64 15 12 15s4.53.82 6.24 2.19c.48.38.76.97.76 1.58V19z"},child:[]}]})(r)}function cV(r){return Pr({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0zM-74 29h48v48h-48V29z"},child:[]},{tag:"path",attr:{d:"M20 5h-3.2L15 3H9L7.2 5H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 14h-8v-1c-2.8 0-5-2.2-5-5s2.2-5 5-5V7h8v12zm-3-6c0-2.8-2.2-5-5-5v1.8c1.8 0 3.2 1.4 3.2 3.2s-1.4 3.2-3.2 3.2V18c2.8 0 5-2.2 5-5zm-8.2 0c0 1.8 1.4 3.2 3.2 3.2V9.8c-1.8 0-3.2 1.4-3.2 3.2z"},child:[]}]})(r)}function hV(r){return Pr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 8H20C20.5523 8 21 8.44772 21 9V21C21 21.5523 20.5523 22 20 22H4C3.44772 22 3 21.5523 3 21V9C3 8.44772 3.44772 8 4 8H6V7C6 3.68629 8.68629 1 12 1C15.3137 1 18 3.68629 18 7V8ZM16 8V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V8H16ZM11 14V16H13V14H11ZM7 14V16H9V14H7ZM15 14V16H17V14H15Z"},child:[]}]})(r)}function fV(r){return Pr({attr:{viewBox:"0 0 512 512"},child:[{tag:"circle",attr:{cx:"256",cy:"256",r:"48"},child:[]},{tag:"path",attr:{d:"m470.39 300-.47-.38-31.56-24.75a16.11 16.11 0 0 1-6.1-13.33v-11.56a16 16 0 0 1 6.11-13.22L469.92 212l.47-.38a26.68 26.68 0 0 0 5.9-34.06l-42.71-73.9a1.59 1.59 0 0 1-.13-.22A26.86 26.86 0 0 0 401 92.14l-.35.13-37.1 14.93a15.94 15.94 0 0 1-14.47-1.29q-4.92-3.1-10-5.86a15.94 15.94 0 0 1-8.19-11.82l-5.59-39.59-.12-.72A27.22 27.22 0 0 0 298.76 26h-85.52a26.92 26.92 0 0 0-26.45 22.39l-.09.56-5.57 39.67a16 16 0 0 1-8.13 11.82 175.21 175.21 0 0 0-10 5.82 15.92 15.92 0 0 1-14.43 1.27l-37.13-15-.35-.14a26.87 26.87 0 0 0-32.48 11.34l-.13.22-42.77 73.95a26.71 26.71 0 0 0 5.9 34.1l.47.38 31.56 24.75a16.11 16.11 0 0 1 6.1 13.33v11.56a16 16 0 0 1-6.11 13.22L42.08 300l-.47.38a26.68 26.68 0 0 0-5.9 34.06l42.71 73.9a1.59 1.59 0 0 1 .13.22 26.86 26.86 0 0 0 32.45 11.3l.35-.13 37.07-14.93a15.94 15.94 0 0 1 14.47 1.29q4.92 3.11 10 5.86a15.94 15.94 0 0 1 8.19 11.82l5.56 39.59.12.72A27.22 27.22 0 0 0 213.24 486h85.52a26.92 26.92 0 0 0 26.45-22.39l.09-.56 5.57-39.67a16 16 0 0 1 8.18-11.82c3.42-1.84 6.76-3.79 10-5.82a15.92 15.92 0 0 1 14.43-1.27l37.13 14.95.35.14a26.85 26.85 0 0 0 32.48-11.34 2.53 2.53 0 0 1 .13-.22l42.71-73.89a26.7 26.7 0 0 0-5.89-34.11zm-134.48-40.24a80 80 0 1 1-83.66-83.67 80.21 80.21 0 0 1 83.66 83.67z"},child:[]}]})(r)}function dV(){return T.jsx("section",{className:"section",children:T.jsx("nav",{children:T.jsxs("ul",{className:"sidebar",children:[T.jsx("li",{children:T.jsxs(Qt,{to:"/profile",className:"accountbox",children:[T.jsx(Ug,{}),T.jsx("h1",{children:"My Account"})]})}),T.jsx("li",{children:T.jsxs(Qt,{to:"ad",className:"addprofile ",children:[T.jsx(rV,{}),T.jsx("h1",{children:"Add Profile"})]})}),T.jsx("li",{children:T.jsxs(Qt,{className:"chnagepassword",children:[T.jsx(hV,{}),T.jsx("h1",{children:"Change Password"})]})}),T.jsx("li",{children:T.jsxs(Qt,{className:"upload",to:"up",children:[T.jsx(cV,{}),T.jsx("h1",{children:"Upload Photo"})]})}),T.jsx("li",{children:T.jsxs(Qt,{className:"setting",children:[T.jsx(fV,{}),T.jsx("h1",{children:"Settings"})]})})]})})})}function mV(){return T.jsx(T.Fragment,{children:T.jsxs("div",{className:"rahma",children:[T.jsx(dV,{}),T.jsx(uV,{})]})})}function pV(){let{authuser:r}=k.useContext(Xs)||"",{uid:e,displayName:t,photoURL:a,email:o}=r||"",[l,h]=k.useState(""),[d,m]=k.useState(""),[g,E]=k.useState(""),[b,R]=k.useState(""),[D,L]=k.useState(""),[Y,H]=k.useState(""),[W,J]=k.useState(""),[ae,de]=k.useState(""),[U,ce]=k.useState(""),[P,C]=k.useState(""),[A,I]=k.useState(""),[M,B]=k.useState(""),[x,Fe]=k.useState("");console.log("blah",r);function Ue(){if(e){let ye=Lu(rl,"user_profile",r==null?void 0:r.uid);NS(ye,De=>{if(De.exists()){let O=De.data();m(O),h(O.photoURL),E(O.displayName),R(O.email),L(O.first),H(O.last),J(O.dob),de(O.age),ce(O.gender),I(O.country),B(O.state),Fe(O.language),C(O.address)}else console.log("user not updated"),m(null)})}else console.log("userid not found")}console.log(d),k.useEffect(()=>{Ue()},[e]),console.log(d);const[le,we]=k.useState(null);return k.useEffect(()=>{e&&(async()=>{const De=Lu(rl,"user_profile",e),O=await getDoc(De);O.exists()?we(O.data()):console.log("No such document!")})()},[e]),T.jsxs("section",{className:"myaccount",children:[T.jsxs("div",{className:"inner",children:[T.jsx("div",{children:T.jsx("img",{src:r==null?void 0:r.photoURL,className:"imag"})}),T.jsx("div",{className:"yasirr",children:g}),T.jsx("div",{className:"mail",children:b})]}),d?T.jsxs(T.Fragment,{children:[" ",T.jsx("section",{children:T.jsx("div",{className:"full",children:T.jsxs("div",{className:"border",children:[T.jsxs("div",{className:"fullname2",children:[T.jsx("span",{className:"fullname",children:T.jsx("h1",{children:"FULL NAME : "})}),T.jsxs("span",{className:"first-last",children:[T.jsx("span",{children:D}),T.jsxs("span",{children:["  ",Y]})]})]}),T.jsxs("span",{children:[T.jsxs("span",{className:"boder-dob",children:[T.jsx("h1",{className:"dob",children:"DOB:"}),T.jsx("span",{className:"dob2",children:W})]}),T.jsxs("span",{children:[T.jsx("h1",{className:"age",children:"Age:"}),T.jsx("span",{className:"age2",children:ae}),T.jsxs("div",{className:"border2",children:[T.jsxs("span",{children:[T.jsx("h1",{className:"gender",children:"Gender :"}),T.jsx("span",{className:"gender2",children:U})]}),T.jsxs("span",{children:[T.jsx("h1",{className:"state",children:"State:"}),T.jsx("span",{className:"state2",children:M})]}),T.jsx("span",{className:"addre",children:"Address:"}),T.jsx("span",{className:"addre2",children:P})]}),T.jsxs("span",{children:[T.jsx("h1",{className:"address",children:"country :"}),T.jsx("span",{className:"address2",children:A})]}),T.jsx("span",{children:T.jsx("h1",{className:"lang",children:"Language:"})}),T.jsx("span",{className:"lang2",children:x})]})]})]})})})]}):T.jsxs("div",{className:"info",children:["user information",T.jsx(iV,{className:"sign"}),T.jsx(Qt,{to:"/profile/ad",children:T.jsx("button",{className:"adddata",children:"Add Data"})})]})]})}function gV(){let{authuser:r}=k.useContext(Xs),[e,t]=k.useState(""),[a,o]=k.useState("");function l(d){let m=d.target.files[0];if(m){t(m);let g=URL.createObjectURL(m);o(g)}}async function h(d){d.preventDefault();let m=new FormData;m.append("file",e),m.append("upload_preset","music_musify"),m.append("cloud_name","dvtlegtme");let E=await(await fetch("https://api.cloudinary.com/v1_1/dvtlegtme/image/upload",{method:"POST",body:m})).json(),b=E.url;await Vb(r,{photoURL:b}),console.log(E)}return T.jsx(T.Fragment,{children:T.jsx("div",{className:"reset-upload",children:T.jsxs("form",{className:"form-upload",children:[T.jsx("label",{htmlFor:"upload",className:"label-add",children:"Upload Photo Here"}),T.jsx("span",{children:a&&T.jsx("img",{src:a,alt:"Preview",className:"photo"})}),T.jsx("input",{type:"file",id:"upload",className:"input-add",onChange:l}),T.jsx("br",{}),T.jsx("br",{}),T.jsx("button",{className:"log",style:{cursor:"pointer"},onClick:h,children:"Upload"}),T.jsx("h1",{className:"upload-phtoto",children:"UPLOAD PHOTO"})]})})})}function yV(){return T.jsx("section",{className:"section",children:T.jsx("nav",{children:T.jsx("ul",{className:"sidebar",children:T.jsx("li",{children:T.jsxs(Qt,{to:"/admin",className:"accountbox",children:[T.jsx(Ug,{}),T.jsx("h1",{children:"Create album"})]})})})})})}function vV(){return T.jsx("div",{children:T.jsx(cf,{})})}function _V(){return T.jsxs("div",{className:"rahma",children:[T.jsx(yV,{}),T.jsx(vV,{})]})}function EV(){const{authuser:r}=k.useContext(Xs);let[e,t]=k.useState([{songtitle:"",songsingers:"",songdirector:"",songthumbnail:"",songaudio:""}]);const{uid:a,email:o,photoURL:l,displayName:h}=r||{},[d,m]=k.useState({albumtitle:"",albumdate:"",albumstarcast:"",albumscription:"",albumlang:"",albumtype:"",director:"",albumthumbnail:"",songscount:"",songs:[]});let{albumtitle:g,albumdate:E,albumstarcast:b,albumscription:R,albumlang:D,albumtype:L,director:Y,albumthumbnail:H,songscount:W}=d;function J(A,I){let M=A.target.name,B=A.target.value,x=[...e];x[I][M]=B,t(x)}function ae(A,I){let M=A.target.files[0],B=A.target.name;A.target.value;let x=[...e];x[I][B]=M,t(x)}const de=A=>{m({...d,[A.target.name]:A.target.value})},U=A=>{let I=A.target.files[0];m({...d,albumthumbnail:I})};async function ce(A){A.preventDefault();try{let I="";if(H){let Fe=new FormData;Fe.append("file",H),Fe.append("upload_preset","music_musify"),Fe.append("cloud_name","dvtlegtme"),I=(await(await fetch("https://api.cloudinary.com/v1_1/dvtlegtme/image/upload",{method:"POST",body:Fe})).json()).url}let M=[];await Promise.all(e.map(async(Fe,Ue)=>{let le={...Fe},we="";if(Fe.songthumbnail){let De=new FormData;De.append("file",Fe.songthumbnail),De.append("upload_preset","music_musify"),De.append("cloud_name","dvtlegtme"),we=(await(await fetch("https://api.cloudinary.com/v1_1/dvtlegtme/image/upload",{method:"POST",body:De})).json()).url}let ye={};if(Fe.songaudio){let De=new FormData;De.append("file",Fe.songaudio),De.append("upload_preset","music_musify"),De.append("cloud_name","dvtlegtme");let ie=await(await fetch("https://api.cloudinary.com/v1_1/dvtlegtme/raw/upload",{method:"POST",body:De})).json();le.songaudio=ie.url,console.log(`Song ${Ue+1} Audio URL:, updatedSong.songaudio`),ye={id:ie.asset_id,url:ie.url,duration:(()=>{const ge=Math.floor(ie.duration),he=Math.floor(ge/60),me=ge%60;return`${he}:${me.toString().padStart(2,"0")}`})(),size:(ie.bytes/(1024*1024)).toFixed(2)+" MB"},console.log(ye)}M.push({...ye,songtitle:Fe.songtitle,songsingers:Fe.songsingers,songdirector:Fe.songdirector,songthumbnail:we})}));let B={...d,songs:M,Thumbnail:I||""};delete B.albumthumbnail;let x=mS(rl,"music_musify");await WM(x,B),ja.success("album created sucessfully"),console.log(B),console.log("All song uploads completed!")}catch(I){console.error("Error during submission:",I)}}function P(){t([...e,{songtitle:"",songsingers:"",songdirector:"",songthumbnail:"",songaudio:""}])}function C(A){let I=e.filter((M,B)=>A!==B);t(I)}return T.jsx("div",{className:"create",children:T.jsxs("form",{className:"form-create",onSubmit:ce,children:[T.jsxs("div",{className:"first-three",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumtitle",className:"label-add",children:"Album Title"}),T.jsx("input",{type:"text",id:"albumtitle",className:"input-add",name:"albumtitle",onChange:de,value:g})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumdate",className:"label-add",children:"Album Date"}),T.jsx("input",{type:"date",id:"albumdate",className:"input-add",name:"albumdate",onChange:de,value:E})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumstarcast",className:"label-add",children:"Album Starcast"}),T.jsx("input",{type:"text",id:"albumstarcast",className:"input-add",name:"albumstarcast",onChange:de,value:b})]})]}),T.jsxs("div",{className:"last-three",children:[T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumscription",className:"label-add",children:"Album Description"}),T.jsx("input",{id:"albumscription",className:"input-add",name:"albumscription",onChange:de,value:R,rows:"4"})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumlang",className:"label-add",children:"Album Language"}),T.jsx("input",{type:"text",id:"albumlang",className:"input-add",name:"albumlang",onChange:de,value:D})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumtype",className:"label-add",children:"Album Type"}),T.jsx("input",{type:"text",id:"albumtype",className:"input-add",name:"albumtype",onChange:de,value:L})]})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumtype",className:"label-add",children:"Album thumbnail"}),T.jsx("input",{type:"file",id:"albumtype",className:"input-add",name:"albumthumbnail",onChange:U})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumtype",className:"label-add",children:"songs count"}),T.jsx("input",{type:"text",id:"albumtype",className:"input-add",name:"songscount",onChange:de,value:W})]}),T.jsxs("div",{className:"input-group",children:[T.jsx("label",{htmlFor:"albumtype",className:"label-add",children:"Director"}),T.jsx("input",{type:"text",id:"albumtype",className:"input-add",name:"director",onChange:de,value:Y})]}),T.jsx("h1",{className:"add-song",children:"ADD SONG"}),e.map((A,I)=>T.jsxs(T.Fragment,{children:[T.jsx("div",{className:"big",children:T.jsxs("div",{className:"small",children:[T.jsxs("div",{children:[T.jsx("label",{htmlFor:" songtitle",className:"label-song",children:"song title"}),T.jsx("input",{type:"text",id:"songtitle",className:"input-song",name:"songtitle",onChange:M=>J(M,I),value:A.songtitle})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:" songsingers",className:"label-song",children:"song singers"}),T.jsx("input",{type:"text",id:"songsingers",className:"input-song",name:"songsingers",onChange:M=>J(M,I),value:A.songsingers})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:" songdirector",className:"label-song",children:"song director"}),T.jsx("input",{type:"text",id:"songdirector",className:"input-song",name:"songdirector",onChange:M=>J(M,I),value:A.songdirector})]})]})}),T.jsxs("div",{className:"big2",children:[T.jsxs("div",{className:"small2",children:[T.jsx("label",{htmlFor:" songthumbnail",className:"label-song",children:"song thumbnail"}),T.jsx("input",{accept:"/image*",type:"file",id:"songthumbnail",className:"input-song2",name:"songthumbnail",onChange:M=>ae(M,I)})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:" songaudio",className:"label-song",children:"song audio"}),T.jsx("input",{accept:"/audio*",type:"file",id:"songthumsongaudionail",className:"input-song2",name:"songaudio",onChange:M=>ae(M,I)})]})]}),T.jsxs("div",{className:"big2",children:[T.jsx("button",{type:"button",className:"add-buton",onClick:P,children:"Add Song"}),I>=1&&T.jsx("button",{type:"button",className:"remove-buton",onClick:()=>C(I),children:"Remove Song"})]})]})),T.jsx("br",{}),T.jsx("button",{type:"submit",className:"add-log",children:"Add Album"})]})})}function TV(){return T.jsx("section",{className:"section",children:T.jsx("nav",{children:T.jsx("ul",{className:"sidebar",children:T.jsx("li",{children:T.jsxs(Qt,{to:"/",className:"accountbox",children:[T.jsx(Ug,{}),T.jsx("h1",{children:"Album"})]})})})})})}function bV(){return T.jsx("div",{children:T.jsx(cf,{})})}function wV(){return T.jsxs("div",{className:"rahma",children:[T.jsx(TV,{}),T.jsx(bV,{})]})}function SV(r){return Pr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M117.375 25.938l10.094 22.718c33.116 74.398 61.213 153.6 79.186 235.406-20.196-6.522-45.85 4.468-54.25 31.032-30.905-33.787-80.476-10.8-72.062 33.937 8.54 45.403 86.184 61.497 98.28 84.783 1.276-28.646 62.544-70.93 53.657-118.313-.327-1.75-.75-3.423-1.218-5.03-12.258-65.38-31.13-129.108-54.093-190.22l176.405 83.563 42.938 132.625c-19.32-3.615-41.855 7.648-49.625 32.218-30.906-33.785-80.477-10.8-72.063 33.938 8.54 45.402 86.184 61.466 98.28 84.75 1.273-28.583 62.278-70.746 53.72-118l-.03-.063c-.016-.082-.017-.166-.033-.25-.873-4.658-2.255-8.807-4.062-12.467l-70.906-218.97-1.25-3.874-3.72-1.72-206.687-95.625-22.562-10.438zm36.906 37.656l180.782 83.656 10.407 32.156-178.25-84.47c-4.2-10.534-8.526-20.98-12.94-31.342z"},child:[]}]})(r)}const AV=()=>{let[r,e]=k.useState();return k.useEffect(()=>{async function t(){try{let a=mS(rl,"music_musify"),o=await YM(a);console.log(o.docs.data);let l=o.docs.map(h=>({...h.data()}));e(l),console.log(l)}catch(a){console.log(a)}}t()},[]),T.jsxs("div",{children:[T.jsxs("h1",{className:"my ",children:[T.jsx(SV,{}),"My Fav Song"]}),T.jsx("main",{children:r&&T.jsx("section",{className:"flex",children:r.map(t=>T.jsx(T.Fragment,{children:T.jsx(Qt,{to:"song",state:{album:t},children:T.jsx("div",{className:"felx",children:T.jsxs("div",{className:"album-card",children:[T.jsx("img",{src:t==null?void 0:t.Thumbnail,alt:"amaran",className:"minnale"}),T.jsx("div",{className:"mtilte",children:t==null?void 0:t.albumtitle})]})})})}))})})]})},RV=()=>{var l,h;const e=(l=Ya().state)==null?void 0:l.album,t=k.useRef(null),a=d=>{t.current&&t.current.pause();const m=new Audio(d);m.play(),t.current=m},o=()=>{t.current&&(t.current.pause(),t.current.currentTime=0,t.current=null)};return T.jsxs("div",{children:[T.jsx("div",{className:"full-album",children:T.jsxs("div",{className:"album-details",children:[T.jsx("img",{src:e==null?void 0:e.Thumbnail,alt:e==null?void 0:e.albumtitle,className:"minnale2"}),T.jsxs("div",{className:"side-album",children:[T.jsx("div",{className:"album-title",children:e==null?void 0:e.albumtitle}),T.jsxs("div",{className:"album-dis",children:["Album Description:",e==null?void 0:e.albumscription]}),T.jsxs("div",{className:"album-lang",children:["Albuml anguage:",e==null?void 0:e.albumlang]}),T.jsxs("div",{className:"album-dis",children:["Starcast:",e==null?void 0:e.albumstarcast]}),T.jsxs("div",{className:"album-dis",children:["Director:",e==null?void 0:e.director]}),T.jsxs("div",{className:"album-dis",children:["NO of Songs:",e==null?void 0:e.songscount]})]})]})}),(h=e==null?void 0:e.songs)==null?void 0:h.map((d,m)=>T.jsxs("div",{children:[T.jsxs("div",{className:"song-details",children:[T.jsx("p",{className:"mtilte",children:d.songtitle}),T.jsx("p",{children:T.jsx("img",{src:d.songthumbnail,alt:"",className:"song-cover"})}),T.jsx("p",{className:"mtilte",children:d.songsingers}),T.jsxs("p",{className:"mtilte",children:[" ",d.songdirector]}),T.jsx(tV,{onClick:()=>a(d.url)}),T.jsx(nV,{onClick:o,title:"stop"})]}),T.jsx("div",{})]},m))]})};let CV=lC([{path:"/",element:T.jsx(KP,{}),children:[{path:"/login",element:T.jsx(aV,{})},{path:"/register",element:T.jsx(sV,{})},{path:"/reset",element:T.jsx(oV,{})},{path:"/profile",element:T.jsx(mV,{}),children:[{path:"ad",element:T.jsx(lV,{})},{index:!0,element:T.jsx(pV,{})},{path:"up",element:T.jsx(gV,{})}]},{path:"/admin",element:T.jsx(_V,{}),children:[{index:!0,element:T.jsx(EV,{})}]},{path:"/",element:T.jsx(wV,{}),children:[{index:!0,element:T.jsx(AV,{})},{path:"song",element:T.jsx(RV,{})}]}]}]);function IV(){return T.jsx(T.Fragment,{children:T.jsx(qP,{children:T.jsx(EC,{router:CV})})})}y1.createRoot(document.getElementById("root")).render(T.jsx(IV,{}));
